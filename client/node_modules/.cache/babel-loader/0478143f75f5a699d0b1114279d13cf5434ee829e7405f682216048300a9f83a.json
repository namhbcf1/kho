{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Table,Button,Input,Space,Modal,Form,Select,message,Row,Col,Statistic,Tag,Tooltip,DatePicker,Typography,Alert,Tabs,Badge,Descriptions,Divider,Rate,InputNumber,Drawer,Timeline,Empty,Spin}from'antd';import{PlusOutlined,SearchOutlined,EditOutlined,EyeOutlined,ToolOutlined,ExclamationCircleOutlined,CheckCircleOutlined,ClockCircleOutlined,DeleteOutlined,FileTextOutlined,HistoryOutlined,InfoCircleOutlined,BarcodeOutlined,ShopOutlined,CalendarOutlined,WarningOutlined,SafetyOutlined,EnvironmentOutlined}from'@ant-design/icons';import{warrantyAPI,customersAPI,productsAPI,usersAPI,serialsAPI,formatCurrency,formatDate}from'../services/api';import LoadingSpinner,{PageLoading,CardLoading}from'../components/LoadingSpinner';import useAPI from'../hooks/useAPI';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Search}=Input;const{Option}=Select;const{TabPane}=Tabs;const{Text,Title}=Typography;const WarrantyPage=()=>{const[claims,setClaims]=useState([]);const[customers,setCustomers]=useState([]);const[products,setProducts]=useState([]);const[users,setUsers]=useState([]);const[loading,setLoading]=useState(false);const[isModalVisible,setIsModalVisible]=useState(false);const[isDetailModalVisible,setIsDetailModalVisible]=useState(false);const[selectedClaim,setSelectedClaim]=useState(null);const[searchText,setSearchText]=useState('');const[filterStatus,setFilterStatus]=useState('all');const[filterPriority,setFilterPriority]=useState('all');const[stats,setStats]=useState({});const[form]=Form.useForm();// 🔍 NEW: Serial Search State\nconst[serialSearchResults,setSerialSearchResults]=useState([]);const[serialSearchLoading,setSerialSearchLoading]=useState(false);const[serialSearchText,setSerialSearchText]=useState('');const[selectedSerial,setSelectedSerial]=useState(null);const[serialDetailDrawer,setSerialDetailDrawer]=useState(false);const[activeTab,setActiveTab]=useState('serials');const claimStatuses=[{value:'pending',label:'Chờ duyệt',color:'orange'},{value:'approved',label:'Đã duyệt',color:'blue'},{value:'rejected',label:'Từ chối',color:'red'},{value:'in_progress',label:'Đang xử lý',color:'purple'},{value:'completed',label:'Hoàn thành',color:'green'},{value:'cancelled',label:'Đã hủy',color:'gray'}];const claimTypes=[{value:'repair',label:'Sửa chữa'},{value:'replace',label:'Thay thế'},{value:'refund',label:'Hoàn tiền'}];const priorities=[{value:'low',label:'Thấp',color:'green'},{value:'normal',label:'Bình thường',color:'blue'},{value:'high',label:'Cao',color:'orange'},{value:'urgent',label:'Khẩn cấp',color:'red'}];useEffect(()=>{loadData();loadStats();},[]);useEffect(()=>{if(activeTab==='claims'){fetchClaims();}},[searchText,filterStatus,filterPriority,activeTab]);const loadData=async()=>{try{const[customersRes,productsRes,usersRes]=await Promise.all([customersAPI.getAll(),productsAPI.getAll(),usersAPI.getAll()]);if(customersRes.data.success)setCustomers(customersRes.data.data);if(productsRes.data.success)setProducts(productsRes.data.data);if(usersRes.data.success)setUsers(usersRes.data.data);}catch(error){console.error('Error loading data:',error);}};const statsAPI=useAPI({showErrorMessage:false,onError:error=>{console.warn('Warranty stats failed, using fallback data');setStats({total_claims:0,pending_claims:0,in_progress_claims:0,completed_claims:0,avg_resolution_days:0});}});const loadStats=async()=>{try{await statsAPI.executeAPI(()=>warrantyAPI.getStats());if(statsAPI.data&&statsAPI.data.success){setStats(statsAPI.data.data);}}catch(error){console.log('Stats API call completed with fallback data');}};const fetchClaims=async()=>{try{setLoading(true);const params={serial_number:searchText,status:filterStatus!=='all'?filterStatus:undefined,priority:filterPriority!=='all'?filterPriority:undefined};const response=await warrantyAPI.getClaims(params);if(response.data.success){setClaims(response.data.data);}}catch(error){console.error('Error fetching claims:',error);}finally{setLoading(false);}};// 🔍 NEW: Serial Search Functions\nconst handleSerialSearch=async query=>{if(!query||query.trim().length<2){setSerialSearchResults([]);return;}try{setSerialSearchLoading(true);const response=await serialsAPI.search(query.trim());if(response.data.success){setSerialSearchResults(response.data.data);message.success(\"T\\xECm th\\u1EA5y \".concat(response.data.data.length,\" k\\u1EBFt qu\\u1EA3\"));}else{setSerialSearchResults([]);message.info('Không tìm thấy serial number nào');}}catch(error){message.error('Lỗi khi tìm kiếm serial number');setSerialSearchResults([]);}finally{setSerialSearchLoading(false);}};const showSerialDetail=async serial=>{try{const response=await serialsAPI.getWarrantyInfo(serial.serial_number);if(response.data.success){setSelectedSerial(response.data.data);setSerialDetailDrawer(true);}}catch(error){message.error('Lỗi khi lấy thông tin chi tiết');}};const getStatusTag=status=>{const statusMap={'available':{color:'green',text:'Có sẵn'},'sold':{color:'blue',text:'Đã bán'},'damaged':{color:'red',text:'Hỏng'},'reserved':{color:'orange',text:'Đã đặt'}};const statusInfo=statusMap[status]||{color:'default',text:status};return/*#__PURE__*/_jsx(Tag,{color:statusInfo.color,children:statusInfo.text});};const getConditionTag=condition=>{const conditionMap={'new':{color:'green',text:'Mới'},'like_new':{color:'blue',text:'Như mới'},'good':{color:'cyan',text:'Tốt'},'fair':{color:'orange',text:'Khá'},'poor':{color:'red',text:'Kém'}};const conditionInfo=conditionMap[condition]||{color:'default',text:condition};return/*#__PURE__*/_jsx(Tag,{color:conditionInfo.color,children:conditionInfo.text});};const getWarrantyStatusTag=warranty=>{if(!warranty||warranty.status==='N/A'){return/*#__PURE__*/_jsx(Tag,{color:\"default\",children:\"N/A\"});}const statusMap={'Còn hiệu lực':{color:'green',icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{})},'Sắp hết hạn':{color:'orange',icon:/*#__PURE__*/_jsx(WarningOutlined,{})},'Hết hạn':{color:'red',icon:/*#__PURE__*/_jsx(ExclamationCircleOutlined,{})}};const statusInfo=statusMap[warranty.status]||{color:'default',icon:null};return/*#__PURE__*/_jsx(Tag,{color:statusInfo.color,icon:statusInfo.icon,children:warranty.status});};// Serial Search Table Columns\nconst serialColumns=[{title:'Serial Number',dataIndex:'serial_number',key:'serial_number',width:150,fixed:'left',render:text=>/*#__PURE__*/_jsx(Text,{copyable:true,strong:true,style:{color:'#1890ff'},children:text})},{title:'Trạng thái',dataIndex:'status_display',key:'status',width:100,render:(text,record)=>getStatusTag(record.status)},{title:'Tình trạng',dataIndex:'condition_display',key:'condition',width:100,render:(text,record)=>getConditionTag(record.condition_grade)},{title:'Nhà cung cấp',key:'supplier',width:200,render:(_,record)=>{var _record$supplier_disp,_record$supplier_disp2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:((_record$supplier_disp=record.supplier_display)===null||_record$supplier_disp===void 0?void 0:_record$supplier_disp.name)||'N/A'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666'},children:((_record$supplier_disp2=record.supplier_display)===null||_record$supplier_disp2===void 0?void 0:_record$supplier_disp2.code)||''})]});}},{title:'Thời gian',key:'time',width:180,render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',fontWeight:'bold'},children:[\"Nh\\u1EADp: \",record.import_time_display]}),record.sale_info&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#52c41a'},children:[\"B\\xE1n: \",record.sale_info.date]})]})},{title:'Vị trí',dataIndex:'location',key:'location',width:80,render:location=>/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(EnvironmentOutlined,{}),children:location||'N/A'})},{title:'Bảo hành',key:'warranty',width:200,render:(_,record)=>{const warranty=record.warranty_display;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',fontWeight:'bold'},children:warranty.period}),warranty.start_date!=='N/A'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"T\\u1EEB: \",warranty.start_date]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"\\u0110\\u1EBFn: \",warranty.end_date]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'4px'},children:getWarrantyStatusTag(warranty)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#1890ff',marginTop:'2px'},children:[\"BH: \",warranty.provider]})]});}},{title:'Thao tác',key:'actions',width:100,fixed:'right',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Xem chi ti\\u1EBFt\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>showSerialDetail(record)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"L\\u1ECBch s\\u1EED\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(HistoryOutlined,{}),onClick:()=>{message.info('Tính năng lịch sử sẽ được phát triển');}})})]})}];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsxs(Title,{level:2,children:[/*#__PURE__*/_jsx(SafetyOutlined,{style:{marginRight:'8px',color:'#52c41a'}}),\"Qu\\u1EA3n l\\xFD B\\u1EA3o h\\xE0nh & Serial Number\"]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng y\\xEAu c\\u1EA7u\",value:stats.total_claims||0,prefix:/*#__PURE__*/_jsx(FileTextOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Ch\\u1EDD duy\\u1EC7t\",value:stats.pending_claims||0,prefix:/*#__PURE__*/_jsx(ClockCircleOutlined,{}),valueStyle:{color:'#faad14'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110ang x\\u1EED l\\xFD\",value:stats.in_progress_claims||0,prefix:/*#__PURE__*/_jsx(ToolOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Ho\\xE0n th\\xE0nh\",value:stats.completed_claims||0,prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),valueStyle:{color:'#52c41a'}})})})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Tabs,{activeKey:activeTab,onChange:setActiveTab,items:[{key:'serials',label:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarcodeOutlined,{}),\"T\\xECm ki\\u1EBFm Serial Number\"]}),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Search,{placeholder:\"Nh\\u1EADp Serial Number, t\\xEAn s\\u1EA3n ph\\u1EA9m ho\\u1EB7c nh\\xE0 cung c\\u1EA5p...\",value:serialSearchText,onChange:e=>setSerialSearchText(e.target.value),onSearch:handleSerialSearch,enterButton:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(SearchOutlined,{}),children:\"T\\xECm ki\\u1EBFm\"}),size:\"large\",allowClear:true,loading:serialSearchLoading})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Alert,{message:\"\\uD83D\\uDCA1 T\\xECm ki\\u1EBFm n\\xE2ng cao\",description:\"B\\u1EA1n c\\xF3 th\\u1EC3 t\\xECm theo Serial Number, t\\xEAn s\\u1EA3n ph\\u1EA9m, ho\\u1EB7c t\\xEAn nh\\xE0 cung c\\u1EA5p. K\\u1EBFt qu\\u1EA3 s\\u1EBD hi\\u1EC3n th\\u1ECB \\u0111\\u1EA7y \\u0111\\u1EE7 th\\xF4ng tin b\\u1EA3o h\\xE0nh v\\xE0 tr\\u1EA1ng th\\xE1i.\",type:\"info\",showIcon:true,style:{height:'100%'}})})]}),serialSearchResults.length>0?/*#__PURE__*/_jsx(Table,{columns:serialColumns,dataSource:serialSearchResults,rowKey:\"id\",loading:serialSearchLoading,pagination:{total:serialSearchResults.length,pageSize:10,showSizeChanger:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" serial number\")},scroll:{x:1400},size:\"middle\"}):/*#__PURE__*/_jsx(Empty,{image:Empty.PRESENTED_IMAGE_SIMPLE,description:/*#__PURE__*/_jsx(\"span\",{children:serialSearchText?'Không tìm thấy kết quả nào':'Nhập từ khóa để tìm kiếm Serial Number'})})]})}]})}),/*#__PURE__*/_jsx(Drawer,{title:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarcodeOutlined,{style:{marginRight:8}}),\"Chi ti\\u1EBFt Serial Number\"]}),placement:\"right\",width:600,onClose:()=>setSerialDetailDrawer(false),open:serialDetailDrawer,children:selectedSerial&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin Serial\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Serial Number\",span:2,children:/*#__PURE__*/_jsx(Text,{copyable:true,strong:true,style:{fontSize:'16px',color:'#1890ff'},children:selectedSerial.serial_number})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"S\\u1EA3n ph\\u1EA9m\",span:2,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:selectedSerial.product_name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#666'},children:[\"SKU: \",selectedSerial.product_sku]})]})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Tr\\u1EA1ng th\\xE1i\",children:getStatusTag(selectedSerial.status)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"T\\xECnh tr\\u1EA1ng\",children:getConditionTag(selectedSerial.condition_grade)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"V\\u1ECB tr\\xED\",children:/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(EnvironmentOutlined,{}),children:selectedSerial.location||'N/A'})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin Nh\\xE0 cung c\\u1EA5p\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"T\\xEAn nh\\xE0 cung c\\u1EA5p\",span:2,children:selectedSerial.supplier_name||'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"M\\xE3 nh\\xE0 cung c\\u1EA5p\",children:selectedSerial.supplier_code||'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\u01B0\\u1EDDi li\\xEAn h\\u1EC7\",children:selectedSerial.supplier_contact||'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y nh\\u1EADp\",children:/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(CalendarOutlined,{}),children:selectedSerial.purchase_date?formatDate(selectedSerial.purchase_date):'N/A'})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Gi\\xE1 nh\\u1EADp\",children:selectedSerial.purchase_price?formatCurrency(selectedSerial.purchase_price):'N/A'})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin B\\u1EA3o h\\xE0nh\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Th\\u1EDDi gian b\\u1EA3o h\\xE0nh\",span:2,children:selectedSerial.warranty_months_total>0?\"\".concat(selectedSerial.warranty_months_total,\" th\\xE1ng\"):'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u\",children:selectedSerial.warranty_start_date?new Date(selectedSerial.warranty_start_date).toLocaleDateString('vi-VN'):'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y k\\u1EBFt th\\xFAc\",children:selectedSerial.warranty_end_date?new Date(selectedSerial.warranty_end_date).toLocaleDateString('vi-VN'):'N/A'}),/*#__PURE__*/_jsxs(Descriptions.Item,{label:\"Tr\\u1EA1ng th\\xE1i b\\u1EA3o h\\xE0nh\",span:2,children:[getWarrantyStatusTag({status:selectedSerial.warranty_status}),selectedSerial.warranty_days_left>0&&/*#__PURE__*/_jsxs(Text,{style:{marginLeft:8,color:'#666'},children:[\"(C\\xF2n \",selectedSerial.warranty_days_left,\" ng\\xE0y)\"]})]}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Nh\\xE0 cung c\\u1EA5p b\\u1EA3o h\\xE0nh\",span:2,children:selectedSerial.warranty_provider||'N/A'})]}),selectedSerial.sold_date&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin B\\xE1n h\\xE0ng\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y b\\xE1n\",children:new Date(selectedSerial.sold_date).toLocaleDateString('vi-VN')}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Gi\\xE1 b\\xE1n\",children:formatCurrency(selectedSerial.sold_price)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Kh\\xE1ch h\\xE0ng\",span:2,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:selectedSerial.customer_name}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#666'},children:selectedSerial.customer_phone})]})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"M\\xE3 \\u0111\\u01A1n h\\xE0ng\",children:/*#__PURE__*/_jsx(Text,{code:true,children:selectedSerial.order_number})})]})]}),selectedSerial.notes&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"Ghi ch\\xFA\",children:/*#__PURE__*/_jsx(Text,{children:selectedSerial.notes})})]})]})})]});};export default WarrantyPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Table","Button","Input","Space","Modal","Form","Select","message","Row","Col","Statistic","Tag","Tooltip","DatePicker","Typography","Alert","Tabs","Badge","Descriptions","Divider","Rate","InputNumber","Drawer","Timeline","Empty","Spin","PlusOutlined","SearchOutlined","EditOutlined","EyeOutlined","ToolOutlined","ExclamationCircleOutlined","CheckCircleOutlined","ClockCircleOutlined","DeleteOutlined","FileTextOutlined","HistoryOutlined","InfoCircleOutlined","BarcodeOutlined","ShopOutlined","CalendarOutlined","WarningOutlined","SafetyOutlined","EnvironmentOutlined","warrantyAPI","customersAPI","productsAPI","usersAPI","serialsAPI","formatCurrency","formatDate","LoadingSpinner","PageLoading","CardLoading","useAPI","moment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Search","Option","TabPane","Text","Title","WarrantyPage","claims","setClaims","customers","setCustomers","products","setProducts","users","setUsers","loading","setLoading","isModalVisible","setIsModalVisible","isDetailModalVisible","setIsDetailModalVisible","selectedClaim","setSelectedClaim","searchText","setSearchText","filterStatus","setFilterStatus","filterPriority","setFilterPriority","stats","setStats","form","useForm","serialSearchResults","setSerialSearchResults","serialSearchLoading","setSerialSearchLoading","serialSearchText","setSerialSearchText","selectedSerial","setSelectedSerial","serialDetailDrawer","setSerialDetailDrawer","activeTab","setActiveTab","claimStatuses","value","label","color","claimTypes","priorities","loadData","loadStats","fetchClaims","customersRes","productsRes","usersRes","Promise","all","getAll","data","success","error","console","statsAPI","showErrorMessage","onError","warn","total_claims","pending_claims","in_progress_claims","completed_claims","avg_resolution_days","executeAPI","getStats","log","params","serial_number","status","undefined","priority","response","getClaims","handleSerialSearch","query","trim","length","search","concat","info","showSerialDetail","serial","getWarrantyInfo","getStatusTag","statusMap","text","statusInfo","children","getConditionTag","condition","conditionMap","conditionInfo","getWarrantyStatusTag","warranty","icon","serialColumns","title","dataIndex","key","width","fixed","render","copyable","strong","style","record","condition_grade","_","_record$supplier_disp","_record$supplier_disp2","fontWeight","supplier_display","name","fontSize","code","import_time_display","sale_info","date","location","warranty_display","period","start_date","end_date","marginTop","provider","size","onClick","padding","level","marginRight","gutter","marginBottom","span","prefix","valueStyle","activeKey","onChange","items","placeholder","e","target","onSearch","enterButton","type","allowClear","description","showIcon","height","columns","dataSource","rowKey","pagination","total","pageSize","showSizeChanger","showTotal","range","scroll","x","image","PRESENTED_IMAGE_SIMPLE","placement","onClose","open","bordered","Item","product_name","product_sku","supplier_name","supplier_code","supplier_contact","purchase_date","purchase_price","warranty_months_total","warranty_start_date","Date","toLocaleDateString","warranty_end_date","warranty_status","warranty_days_left","marginLeft","warranty_provider","sold_date","sold_price","customer_name","customer_phone","order_number","notes"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/pages/WarrantyPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card, Table, Button, Input, Space, Modal, Form, Select, message,\r\n  Row, Col, Statistic, Tag, Tooltip, DatePicker, Typography, Alert,\r\n  Tabs, Badge, Descriptions, Divider, Rate, InputNumber, Drawer,\r\n  Timeline, Empty, Spin\r\n} from 'antd';\r\nimport {\r\n  PlusOutlined, SearchOutlined, EditOutlined, EyeOutlined,\r\n  ToolOutlined, ExclamationCircleOutlined, CheckCircleOutlined,\r\n  ClockCircleOutlined, DeleteOutlined, FileTextOutlined,\r\n  HistoryOutlined, InfoCircleOutlined, BarcodeOutlined,\r\n  ShopOutlined, CalendarOutlined, WarningOutlined,\r\n  SafetyOutlined, EnvironmentOutlined\r\n} from '@ant-design/icons';\r\nimport { warrantyAPI, customersAPI, productsAPI, usersAPI, serialsAPI, formatCurrency, formatDate } from '../services/api';\r\nimport LoadingSpinner, { PageLoading, CardLoading } from '../components/LoadingSpinner';\r\nimport useAPI from '../hooks/useAPI';\r\nimport moment from 'moment';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\nconst { TabPane } = Tabs;\r\nconst { Text, Title } = Typography;\r\n\r\nconst WarrantyPage = () => {\r\n  const [claims, setClaims] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isDetailModalVisible, setIsDetailModalVisible] = useState(false);\r\n  const [selectedClaim, setSelectedClaim] = useState(null);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [filterPriority, setFilterPriority] = useState('all');\r\n  const [stats, setStats] = useState({});\r\n  const [form] = Form.useForm();\r\n\r\n  // 🔍 NEW: Serial Search State\r\n  const [serialSearchResults, setSerialSearchResults] = useState([]);\r\n  const [serialSearchLoading, setSerialSearchLoading] = useState(false);\r\n  const [serialSearchText, setSerialSearchText] = useState('');\r\n  const [selectedSerial, setSelectedSerial] = useState(null);\r\n  const [serialDetailDrawer, setSerialDetailDrawer] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('serials');\r\n\r\n  const claimStatuses = [\r\n    { value: 'pending', label: 'Chờ duyệt', color: 'orange' },\r\n    { value: 'approved', label: 'Đã duyệt', color: 'blue' },\r\n    { value: 'rejected', label: 'Từ chối', color: 'red' },\r\n    { value: 'in_progress', label: 'Đang xử lý', color: 'purple' },\r\n    { value: 'completed', label: 'Hoàn thành', color: 'green' },\r\n    { value: 'cancelled', label: 'Đã hủy', color: 'gray' },\r\n  ];\r\n\r\n  const claimTypes = [\r\n    { value: 'repair', label: 'Sửa chữa' },\r\n    { value: 'replace', label: 'Thay thế' },\r\n    { value: 'refund', label: 'Hoàn tiền' },\r\n  ];\r\n\r\n  const priorities = [\r\n    { value: 'low', label: 'Thấp', color: 'green' },\r\n    { value: 'normal', label: 'Bình thường', color: 'blue' },\r\n    { value: 'high', label: 'Cao', color: 'orange' },\r\n    { value: 'urgent', label: 'Khẩn cấp', color: 'red' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    loadStats();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'claims') {\r\n      fetchClaims();\r\n    }\r\n  }, [searchText, filterStatus, filterPriority, activeTab]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [customersRes, productsRes, usersRes] = await Promise.all([\r\n        customersAPI.getAll(),\r\n        productsAPI.getAll(),\r\n        usersAPI.getAll()\r\n      ]);\r\n      \r\n      if (customersRes.data.success) setCustomers(customersRes.data.data);\r\n      if (productsRes.data.success) setProducts(productsRes.data.data);\r\n      if (usersRes.data.success) setUsers(usersRes.data.data);\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n    }\r\n  };\r\n\r\n  const statsAPI = useAPI({\r\n    showErrorMessage: false,\r\n    onError: (error) => {\r\n      console.warn('Warranty stats failed, using fallback data');\r\n      setStats({\r\n        total_claims: 0,\r\n        pending_claims: 0,\r\n        in_progress_claims: 0,\r\n        completed_claims: 0,\r\n        avg_resolution_days: 0\r\n      });\r\n    }\r\n  });\r\n\r\n  const loadStats = async () => {\r\n    try {\r\n      await statsAPI.executeAPI(() => warrantyAPI.getStats());\r\n      if (statsAPI.data && statsAPI.data.success) {\r\n        setStats(statsAPI.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.log('Stats API call completed with fallback data');\r\n    }\r\n  };\r\n\r\n  const fetchClaims = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        serial_number: searchText,\r\n        status: filterStatus !== 'all' ? filterStatus : undefined,\r\n        priority: filterPriority !== 'all' ? filterPriority : undefined,\r\n      };\r\n      \r\n      const response = await warrantyAPI.getClaims(params);\r\n      if (response.data.success) {\r\n        setClaims(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching claims:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 🔍 NEW: Serial Search Functions\r\n  const handleSerialSearch = async (query) => {\r\n    if (!query || query.trim().length < 2) {\r\n      setSerialSearchResults([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSerialSearchLoading(true);\r\n      const response = await serialsAPI.search(query.trim());\r\n      \r\n      if (response.data.success) {\r\n        setSerialSearchResults(response.data.data);\r\n        message.success(`Tìm thấy ${response.data.data.length} kết quả`);\r\n      } else {\r\n        setSerialSearchResults([]);\r\n        message.info('Không tìm thấy serial number nào');\r\n      }\r\n    } catch (error) {\r\n      message.error('Lỗi khi tìm kiếm serial number');\r\n      setSerialSearchResults([]);\r\n    } finally {\r\n      setSerialSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  const showSerialDetail = async (serial) => {\r\n    try {\r\n      const response = await serialsAPI.getWarrantyInfo(serial.serial_number);\r\n      if (response.data.success) {\r\n        setSelectedSerial(response.data.data);\r\n        setSerialDetailDrawer(true);\r\n      }\r\n    } catch (error) {\r\n      message.error('Lỗi khi lấy thông tin chi tiết');\r\n    }\r\n  };\r\n\r\n  const getStatusTag = (status) => {\r\n    const statusMap = {\r\n      'available': { color: 'green', text: 'Có sẵn' },\r\n      'sold': { color: 'blue', text: 'Đã bán' },\r\n      'damaged': { color: 'red', text: 'Hỏng' },\r\n      'reserved': { color: 'orange', text: 'Đã đặt' }\r\n    };\r\n    \r\n    const statusInfo = statusMap[status] || { color: 'default', text: status };\r\n    return <Tag color={statusInfo.color}>{statusInfo.text}</Tag>;\r\n  };\r\n\r\n  const getConditionTag = (condition) => {\r\n    const conditionMap = {\r\n      'new': { color: 'green', text: 'Mới' },\r\n      'like_new': { color: 'blue', text: 'Như mới' },\r\n      'good': { color: 'cyan', text: 'Tốt' },\r\n      'fair': { color: 'orange', text: 'Khá' },\r\n      'poor': { color: 'red', text: 'Kém' }\r\n    };\r\n    \r\n    const conditionInfo = conditionMap[condition] || { color: 'default', text: condition };\r\n    return <Tag color={conditionInfo.color}>{conditionInfo.text}</Tag>;\r\n  };\r\n\r\n  const getWarrantyStatusTag = (warranty) => {\r\n    if (!warranty || warranty.status === 'N/A') {\r\n      return <Tag color=\"default\">N/A</Tag>;\r\n    }\r\n    \r\n    const statusMap = {\r\n      'Còn hiệu lực': { color: 'green', icon: <CheckCircleOutlined /> },\r\n      'Sắp hết hạn': { color: 'orange', icon: <WarningOutlined /> },\r\n      'Hết hạn': { color: 'red', icon: <ExclamationCircleOutlined /> }\r\n    };\r\n    \r\n    const statusInfo = statusMap[warranty.status] || { color: 'default', icon: null };\r\n    \r\n    return (\r\n      <Tag color={statusInfo.color} icon={statusInfo.icon}>\r\n        {warranty.status}\r\n      </Tag>\r\n    );\r\n  };\r\n\r\n  // Serial Search Table Columns\r\n  const serialColumns = [\r\n    {\r\n      title: 'Serial Number',\r\n      dataIndex: 'serial_number',\r\n      key: 'serial_number',\r\n      width: 150,\r\n      fixed: 'left',\r\n      render: (text) => (\r\n        <Text copyable strong style={{ color: '#1890ff' }}>\r\n          {text}\r\n        </Text>\r\n      )\r\n    },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'status_display',\r\n      key: 'status',\r\n      width: 100,\r\n      render: (text, record) => getStatusTag(record.status)\r\n    },\r\n    {\r\n      title: 'Tình trạng',\r\n      dataIndex: 'condition_display',\r\n      key: 'condition',\r\n      width: 100,\r\n      render: (text, record) => getConditionTag(record.condition_grade)\r\n    },\r\n    {\r\n      title: 'Nhà cung cấp',\r\n      key: 'supplier',\r\n      width: 200,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontWeight: 'bold' }}>\r\n            {record.supplier_display?.name || 'N/A'}\r\n          </div>\r\n          <div style={{ fontSize: '12px', color: '#666' }}>\r\n            {record.supplier_display?.code || ''}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Thời gian',\r\n      key: 'time',\r\n      width: 180,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontSize: '12px', fontWeight: 'bold' }}>\r\n            Nhập: {record.import_time_display}\r\n          </div>\r\n          {record.sale_info && (\r\n            <div style={{ fontSize: '12px', color: '#52c41a' }}>\r\n              Bán: {record.sale_info.date}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Vị trí',\r\n      dataIndex: 'location',\r\n      key: 'location',\r\n      width: 80,\r\n      render: (location) => (\r\n        <Tag icon={<EnvironmentOutlined />}>\r\n          {location || 'N/A'}\r\n        </Tag>\r\n      )\r\n    },\r\n    {\r\n      title: 'Bảo hành',\r\n      key: 'warranty',\r\n      width: 200,\r\n      render: (_, record) => {\r\n        const warranty = record.warranty_display;\r\n        return (\r\n          <div>\r\n            <div style={{ fontSize: '12px', fontWeight: 'bold' }}>\r\n              {warranty.period}\r\n            </div>\r\n            {warranty.start_date !== 'N/A' && (\r\n              <>\r\n                <div style={{ fontSize: '11px', color: '#666' }}>\r\n                  Từ: {warranty.start_date}\r\n                </div>\r\n                <div style={{ fontSize: '11px', color: '#666' }}>\r\n                  Đến: {warranty.end_date}\r\n                </div>\r\n                <div style={{ marginTop: '4px' }}>\r\n                  {getWarrantyStatusTag(warranty)}\r\n                </div>\r\n              </>\r\n            )}\r\n            <div style={{ fontSize: '11px', color: '#1890ff', marginTop: '2px' }}>\r\n              BH: {warranty.provider}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      title: 'Thao tác',\r\n      key: 'actions',\r\n      width: 100,\r\n      fixed: 'right',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Tooltip title=\"Xem chi tiết\">\r\n            <Button \r\n              size=\"small\" \r\n              icon={<EyeOutlined />} \r\n              onClick={() => showSerialDetail(record)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Lịch sử\">\r\n            <Button \r\n              size=\"small\" \r\n              icon={<HistoryOutlined />}\r\n              onClick={() => {\r\n                message.info('Tính năng lịch sử sẽ được phát triển');\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Space>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div style={{ padding: '24px' }}>\r\n      <Title level={2}>\r\n        <SafetyOutlined style={{ marginRight: '8px', color: '#52c41a' }} />\r\n        Quản lý Bảo hành & Serial Number\r\n      </Title>\r\n      \r\n      {/* Stats Cards */}\r\n      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng yêu cầu\"\r\n              value={stats.total_claims || 0}\r\n              prefix={<FileTextOutlined />}\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Chờ duyệt\"\r\n              value={stats.pending_claims || 0}\r\n              prefix={<ClockCircleOutlined />}\r\n              valueStyle={{ color: '#faad14' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Đang xử lý\"\r\n              value={stats.in_progress_claims || 0}\r\n              prefix={<ToolOutlined />}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Hoàn thành\"\r\n              value={stats.completed_claims || 0}\r\n              prefix={<CheckCircleOutlined />}\r\n              valueStyle={{ color: '#52c41a' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Main Content with Tabs */}\r\n      <Card>\r\n        <Tabs \r\n          activeKey={activeTab} \r\n          onChange={setActiveTab}\r\n          items={[\r\n            {\r\n              key: 'serials',\r\n              label: (\r\n                <span>\r\n                  <BarcodeOutlined />\r\n                  Tìm kiếm Serial Number\r\n                </span>\r\n              ),\r\n              children: (\r\n                <div>\r\n                  {/* Serial Search Section */}\r\n                  <Row gutter={[16, 16]} style={{ marginBottom: 16 }}>\r\n                    <Col span={12}>\r\n                      <Search\r\n                        placeholder=\"Nhập Serial Number, tên sản phẩm hoặc nhà cung cấp...\"\r\n                        value={serialSearchText}\r\n                        onChange={(e) => setSerialSearchText(e.target.value)}\r\n                        onSearch={handleSerialSearch}\r\n                        enterButton={\r\n                          <Button type=\"primary\" icon={<SearchOutlined />}>\r\n                            Tìm kiếm\r\n                          </Button>\r\n                        }\r\n                        size=\"large\"\r\n                        allowClear\r\n                        loading={serialSearchLoading}\r\n                      />\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Alert\r\n                        message=\"💡 Tìm kiếm nâng cao\"\r\n                        description=\"Bạn có thể tìm theo Serial Number, tên sản phẩm, hoặc tên nhà cung cấp. Kết quả sẽ hiển thị đầy đủ thông tin bảo hành và trạng thái.\"\r\n                        type=\"info\"\r\n                        showIcon\r\n                        style={{ height: '100%' }}\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  {/* Serial Results Table */}\r\n                  {serialSearchResults.length > 0 ? (\r\n                    <Table\r\n                      columns={serialColumns}\r\n                      dataSource={serialSearchResults}\r\n                      rowKey=\"id\"\r\n                      loading={serialSearchLoading}\r\n                      pagination={{\r\n                        total: serialSearchResults.length,\r\n                        pageSize: 10,\r\n                        showSizeChanger: true,\r\n                        showTotal: (total, range) => \r\n                          `${range[0]}-${range[1]} của ${total} serial number`\r\n                      }}\r\n                      scroll={{ x: 1400 }}\r\n                      size=\"middle\"\r\n                    />\r\n                  ) : (\r\n                    <Empty\r\n                      image={Empty.PRESENTED_IMAGE_SIMPLE}\r\n                      description={\r\n                        <span>\r\n                          {serialSearchText ? \r\n                            'Không tìm thấy kết quả nào' : \r\n                            'Nhập từ khóa để tìm kiếm Serial Number'\r\n                          }\r\n                        </span>\r\n                      }\r\n                    />\r\n                  )}\r\n                </div>\r\n              )\r\n            }\r\n          ]}\r\n        />\r\n      </Card>\r\n\r\n      {/* Serial Detail Drawer */}\r\n      <Drawer\r\n        title={\r\n          <span>\r\n            <BarcodeOutlined style={{ marginRight: 8 }} />\r\n            Chi tiết Serial Number\r\n          </span>\r\n        }\r\n        placement=\"right\"\r\n        width={600}\r\n        onClose={() => setSerialDetailDrawer(false)}\r\n        open={serialDetailDrawer}\r\n      >\r\n        {selectedSerial && (\r\n          <div>\r\n            <Descriptions title=\"Thông tin Serial\" bordered>\r\n              <Descriptions.Item label=\"Serial Number\" span={2}>\r\n                <Text copyable strong style={{ fontSize: '16px', color: '#1890ff' }}>\r\n                  {selectedSerial.serial_number}\r\n                </Text>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Sản phẩm\" span={2}>\r\n                <div>\r\n                  <div style={{ fontWeight: 'bold' }}>{selectedSerial.product_name}</div>\r\n                  <div style={{ color: '#666' }}>SKU: {selectedSerial.product_sku}</div>\r\n                </div>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Trạng thái\">\r\n                {getStatusTag(selectedSerial.status)}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Tình trạng\">\r\n                {getConditionTag(selectedSerial.condition_grade)}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Vị trí\">\r\n                <Tag icon={<EnvironmentOutlined />}>\r\n                  {selectedSerial.location || 'N/A'}\r\n                </Tag>\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n            <Divider />\r\n\r\n            <Descriptions title=\"Thông tin Nhà cung cấp\" bordered>\r\n              <Descriptions.Item label=\"Tên nhà cung cấp\" span={2}>\r\n                {selectedSerial.supplier_name || 'N/A'}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Mã nhà cung cấp\">\r\n                {selectedSerial.supplier_code || 'N/A'}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Người liên hệ\">\r\n                {selectedSerial.supplier_contact || 'N/A'}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Ngày nhập\">\r\n                <Tag icon={<CalendarOutlined />}>\r\n                  {selectedSerial.purchase_date ? \r\n                    formatDate(selectedSerial.purchase_date) : 'N/A'\r\n                  }\r\n                </Tag>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Giá nhập\">\r\n                {selectedSerial.purchase_price ? \r\n                  formatCurrency(selectedSerial.purchase_price) : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n            <Divider />\r\n\r\n            <Descriptions title=\"Thông tin Bảo hành\" bordered>\r\n              <Descriptions.Item label=\"Thời gian bảo hành\" span={2}>\r\n                {selectedSerial.warranty_months_total > 0 ? \r\n                  `${selectedSerial.warranty_months_total} tháng` : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Ngày bắt đầu\">\r\n                {selectedSerial.warranty_start_date ? \r\n                  new Date(selectedSerial.warranty_start_date).toLocaleDateString('vi-VN') : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Ngày kết thúc\">\r\n                {selectedSerial.warranty_end_date ? \r\n                  new Date(selectedSerial.warranty_end_date).toLocaleDateString('vi-VN') : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Trạng thái bảo hành\" span={2}>\r\n                {getWarrantyStatusTag({ status: selectedSerial.warranty_status })}\r\n                {selectedSerial.warranty_days_left > 0 && (\r\n                  <Text style={{ marginLeft: 8, color: '#666' }}>\r\n                    (Còn {selectedSerial.warranty_days_left} ngày)\r\n                  </Text>\r\n                )}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Nhà cung cấp bảo hành\" span={2}>\r\n                {selectedSerial.warranty_provider || 'N/A'}\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n            {/* Sale Information if sold */}\r\n            {selectedSerial.sold_date && (\r\n              <>\r\n                <Divider />\r\n                <Descriptions title=\"Thông tin Bán hàng\" bordered>\r\n                  <Descriptions.Item label=\"Ngày bán\">\r\n                    {new Date(selectedSerial.sold_date).toLocaleDateString('vi-VN')}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"Giá bán\">\r\n                    {formatCurrency(selectedSerial.sold_price)}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"Khách hàng\" span={2}>\r\n                    <div>\r\n                      <div>{selectedSerial.customer_name}</div>\r\n                      <div style={{ color: '#666' }}>{selectedSerial.customer_phone}</div>\r\n                    </div>\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"Mã đơn hàng\">\r\n                    <Text code>{selectedSerial.order_number}</Text>\r\n                  </Descriptions.Item>\r\n                </Descriptions>\r\n              </>\r\n            )}\r\n\r\n            {selectedSerial.notes && (\r\n              <>\r\n                <Divider />\r\n                <Card size=\"small\" title=\"Ghi chú\">\r\n                  <Text>{selectedSerial.notes}</Text>\r\n                </Card>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarrantyPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}