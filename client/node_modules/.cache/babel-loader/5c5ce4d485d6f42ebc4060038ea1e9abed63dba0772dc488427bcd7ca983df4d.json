{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/kho/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useForm}from'react-hook-form';import{zodResolver}from'@hookform/resolvers/zod';import{z}from'zod';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Card,Table,Button,Modal,Input,Select,Space,Tag,Switch,Avatar,Descriptions,Row,Col,Statistic,Alert,Popconfirm,Badge,Typography}from'antd';import{PlusOutlined,EditOutlined,DeleteOutlined,UserOutlined,LockOutlined,SettingOutlined,TeamOutlined,CrownOutlined,KeyOutlined,EyeOutlined,EyeInvisibleOutlined}from'@ant-design/icons';import{usersAPI}from'../services/api';import dayjs from'dayjs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;const{Text}=Typography;// Zod schema for user validation\nconst userSchema=z.object({username:z.string().min(3,'Tên đăng nhập phải có ít nhất 3 ký tự').max(50,'Tên đăng nhập không được quá 50 ký tự').regex(/^[a-zA-Z0-9_]+$/,'Tên đăng nhập chỉ được chứa chữ cái, số và dấu gạch dưới'),full_name:z.string().min(2,'Họ tên phải có ít nhất 2 ký tự').max(100,'Họ tên không được quá 100 ký tự'),email:z.string().email('Email không hợp lệ').optional().or(z.literal('')),phone:z.string().min(10,'Số điện thoại phải có ít nhất 10 số').max(20,'Số điện thoại không được quá 20 số').optional().or(z.literal('')),role:z.enum(['admin','manager','cashier','inventory_staff'],{errorMap:()=>({message:'Vui lòng chọn vai trò'})}),password:z.string().min(6,'Mật khẩu phải có ít nhất 6 ký tự').optional(),is_active:z.boolean().default(true)});const UsersPage=()=>{const[users,setUsers]=useState([]);const[loading,setLoading]=useState(false);const[modalVisible,setModalVisible]=useState(false);const[editingUser,setEditingUser]=useState(null);const[showPassword,setShowPassword]=useState(false);const{register,handleSubmit,reset,setValue,watch,formState:{errors,isSubmitting}}=useForm({resolver:zodResolver(userSchema),defaultValues:{is_active:true}});const roles={admin:{label:'Quản trị viên',color:'red',permissions:['all'],description:'Toàn quyền quản lý hệ thống'},manager:{label:'Quản lý',color:'orange',permissions:['products','orders','customers','reports','inventory'],description:'Quản lý sản phẩm, đơn hàng, khách hàng và báo cáo'},cashier:{label:'Thu ngân',color:'blue',permissions:['pos','orders','customers'],description:'Bán hàng và quản lý đơn hàng'},inventory_staff:{label:'Nhân viên kho',color:'green',permissions:['inventory','products'],description:'Quản lý kho và sản phẩm'}};useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{setLoading(true);try{const response=await usersAPI.getAll();if(response.data.success){setUsers(response.data.data);}}catch(error){toast.error('Lỗi khi tải danh sách nhân viên');// Mock data for demo\nconst mockUsers=[{id:1,username:'admin',full_name:'Quản trị viên',email:'admin@posystem.com',phone:'0901234567',role:'admin',is_active:true,last_login:'2024-01-15T10:30:00Z',created_at:'2024-01-01T00:00:00Z'},{id:2,username:'manager01',full_name:'Nguyễn Văn Quản Lý',email:'manager@posystem.com',phone:'0902345678',role:'manager',is_active:true,last_login:'2024-01-15T09:15:00Z',created_at:'2024-01-02T00:00:00Z'},{id:3,username:'cashier01',full_name:'Trần Thị Thu Ngân',email:'cashier@posystem.com',phone:'0903456789',role:'cashier',is_active:true,last_login:'2024-01-15T08:00:00Z',created_at:'2024-01-05T00:00:00Z'},{id:4,username:'warehouse01',full_name:'Lê Văn Kho',email:'warehouse@posystem.com',phone:'0904567890',role:'inventory_staff',is_active:false,last_login:'2024-01-10T16:45:00Z',created_at:'2024-01-08T00:00:00Z'}];setUsers(mockUsers);}finally{setLoading(false);}};const handleAddUser=()=>{setEditingUser(null);setModalVisible(true);setShowPassword(false);reset({is_active:true});};const handleEditUser=user=>{setEditingUser(user);setModalVisible(true);setShowPassword(false);reset(_objectSpread(_objectSpread({},user),{},{password:''// Don't show password when editing\n}));};const handleDeleteUser=async userId=>{try{await usersAPI.delete(userId);toast.success('Xóa nhân viên thành công');fetchUsers();}catch(error){toast.error('Lỗi khi xóa nhân viên');}};const onSubmit=async data=>{try{// Remove password if empty when editing\nif(editingUser&&!data.password){delete data.password;}if(editingUser){await usersAPI.update(editingUser.id,data);toast.success('Cập nhật nhân viên thành công');}else{await usersAPI.create(data);toast.success('Thêm nhân viên thành công');}setModalVisible(false);reset();fetchUsers();}catch(error){toast.error(editingUser?'Lỗi khi cập nhật nhân viên':'Lỗi khi thêm nhân viên');}};const handleToggleStatus=async user=>{try{await usersAPI.update(user.id,{is_active:!user.is_active});toast.success(\"\".concat(user.is_active?'Vô hiệu hóa':'Kích hoạt',\" t\\xE0i kho\\u1EA3n th\\xE0nh c\\xF4ng\"));fetchUsers();}catch(error){toast.error('Lỗi khi thay đổi trạng thái tài khoản');}};const columns=[{title:'Nhân viên',key:'user_info',render:(_,record)=>{var _roles$record$role;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{size:40,icon:/*#__PURE__*/_jsx(UserOutlined,{}),style:{backgroundColor:((_roles$record$role=roles[record.role])===null||_roles$record$role===void 0?void 0:_roles$record$role.color)||'#1890ff'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:500},children:record.full_name}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"@\",record.username]})]})]});}},{title:'Thông tin liên hệ',key:'contact',render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[record.email&&/*#__PURE__*/_jsx(\"div\",{children:record.email}),record.phone&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:record.phone})]})},{title:'Vai trò',dataIndex:'role',key:'role',render:role=>{var _roles$role,_roles$role2;return/*#__PURE__*/_jsx(Tag,{color:((_roles$role=roles[role])===null||_roles$role===void 0?void 0:_roles$role.color)||'default',children:((_roles$role2=roles[role])===null||_roles$role2===void 0?void 0:_roles$role2.label)||role});},filters:Object.keys(roles).map(role=>({text:roles[role].label,value:role})),onFilter:(value,record)=>record.role===value},{title:'Trạng thái',dataIndex:'is_active',key:'is_active',render:(isActive,record)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(Badge,{status:isActive?'success':'default',text:isActive?'Hoạt động':'Vô hiệu'}),/*#__PURE__*/_jsx(Switch,{checked:isActive,onChange:()=>handleToggleStatus(record),size:\"small\"})]}),filters:[{text:'Hoạt động',value:true},{text:'Vô hiệu',value:false}],onFilter:(value,record)=>record.is_active===value},{title:'Đăng nhập cuối',dataIndex:'last_login',key:'last_login',render:date=>/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:date?dayjs(date).format('DD/MM/YYYY HH:mm'):'Chưa đăng nhập'}),sorter:(a,b)=>{if(!a.last_login&&!b.last_login)return 0;if(!a.last_login)return 1;if(!b.last_login)return-1;return new Date(a.last_login)-new Date(b.last_login);}},{title:'Thao tác',key:'actions',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"link\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>handleEditUser(record),children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(Popconfirm,{title:\"X\\xE1c nh\\u1EADn x\\xF3a\",description:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a nh\\xE2n vi\\xEAn n\\xE0y?\",onConfirm:()=>handleDeleteUser(record.id),okText:\"X\\xF3a\",cancelText:\"H\\u1EE7y\",children:/*#__PURE__*/_jsx(Button,{type:\"link\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),children:\"X\\xF3a\"})})]})}];const renderStats=()=>{const totalUsers=users.length;const activeUsers=users.filter(u=>u.is_active).length;const inactiveUsers=totalUsers-activeUsers;const roleStats=Object.keys(roles).reduce((acc,role)=>{acc[role]=users.filter(u=>u.role===role).length;return acc;},{});return/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng nh\\xE2n vi\\xEAn\",value:totalUsers,prefix:/*#__PURE__*/_jsx(TeamOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\",value:activeUsers,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(UserOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"V\\xF4 hi\\u1EC7u h\\xF3a\",value:inactiveUsers,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(LockOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\",value:roleStats.admin||0,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(CrownOutlined,{})})})})]});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24},children:[renderStats(),/*#__PURE__*/_jsx(Card,{title:\"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\",extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:handleAddUser,children:\"Th\\xEAm nh\\xE2n vi\\xEAn\"}),children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:users,loading:loading,rowKey:\"id\",pagination:{showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" nh\\xE2n vi\\xEAn\")}})}),/*#__PURE__*/_jsx(Modal,{title:editingUser?'Chỉnh sửa nhân viên':'Thêm nhân viên mới',open:modalVisible,onCancel:()=>setModalVisible(false),footer:null,width:600,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:4},children:[\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp \",/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"*\"})]}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('username')),{},{placeholder:\"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\",disabled:!!editingUser})),errors.username&&/*#__PURE__*/_jsx(Text,{type:\"danger\",style:{fontSize:12},children:errors.username.message})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:4},children:[\"H\\u1ECD t\\xEAn \",/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"*\"})]}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('full_name')),{},{placeholder:\"Nh\\u1EADp h\\u1ECD t\\xEAn\"})),errors.full_name&&/*#__PURE__*/_jsx(Text,{type:\"danger\",style:{fontSize:12},children:errors.full_name.message})]})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:4},children:\"Email\"}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('email')),{},{placeholder:\"Nh\\u1EADp email\",type:\"email\"})),errors.email&&/*#__PURE__*/_jsx(Text,{type:\"danger\",style:{fontSize:12},children:errors.email.message})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:4},children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('phone')),{},{placeholder:\"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"})),errors.phone&&/*#__PURE__*/_jsx(Text,{type:\"danger\",style:{fontSize:12},children:errors.phone.message})]})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:4},children:[\"Vai tr\\xF2 \",/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"*\"})]}),/*#__PURE__*/_jsx(Select,_objectSpread(_objectSpread({},register('role')),{},{placeholder:\"Ch\\u1ECDn vai tr\\xF2\",style:{width:'100%'},onChange:value=>setValue('role',value),value:watch('role'),children:Object.entries(roles).map(_ref=>{let[key,role]=_ref;return/*#__PURE__*/_jsx(Option,{value:key,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:role.label}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:12},children:role.description})]})},key);})})),errors.role&&/*#__PURE__*/_jsx(Text,{type:\"danger\",style:{fontSize:12},children:errors.role.message})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:4},children:[editingUser?'Mật khẩu mới (để trống nếu không đổi)':'Mật khẩu',!editingUser&&/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"*\"})]}),/*#__PURE__*/_jsx(Input,_objectSpread(_objectSpread({},register('password')),{},{placeholder:editingUser?'Nhập mật khẩu mới':'Nhập mật khẩu',type:showPassword?'text':'password',suffix:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:showPassword?/*#__PURE__*/_jsx(EyeInvisibleOutlined,{}):/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>setShowPassword(!showPassword)})})),errors.password&&/*#__PURE__*/_jsx(Text,{type:\"danger\",style:{fontSize:12},children:errors.password.message})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:16},children:/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(Switch,_objectSpread(_objectSpread({},register('is_active')),{},{checked:watch('is_active'),onChange:checked=>setValue('is_active',checked)})),\"T\\xE0i kho\\u1EA3n ho\\u1EA1t \\u0111\\u1ED9ng\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right',marginTop:24},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setModalVisible(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:isSubmitting,icon:/*#__PURE__*/_jsx(KeyOutlined,{}),children:editingUser?'Cập nhật':'Thêm nhân viên'})]})})]})})]});};export default UsersPage;","map":{"version":3,"names":["React","useState","useEffect","useForm","zodResolver","z","toast","Card","Table","Button","Modal","Input","Select","Space","Tag","Switch","Avatar","Descriptions","Row","Col","Statistic","Alert","Popconfirm","Badge","Typography","PlusOutlined","EditOutlined","DeleteOutlined","UserOutlined","LockOutlined","SettingOutlined","TeamOutlined","CrownOutlined","KeyOutlined","EyeOutlined","EyeInvisibleOutlined","usersAPI","dayjs","jsx","_jsx","jsxs","_jsxs","Option","Text","userSchema","object","username","string","min","max","regex","full_name","email","optional","or","literal","phone","role","enum","errorMap","message","password","is_active","boolean","default","UsersPage","users","setUsers","loading","setLoading","modalVisible","setModalVisible","editingUser","setEditingUser","showPassword","setShowPassword","register","handleSubmit","reset","setValue","watch","formState","errors","isSubmitting","resolver","defaultValues","roles","admin","label","color","permissions","description","manager","cashier","inventory_staff","fetchUsers","response","getAll","data","success","error","mockUsers","id","last_login","created_at","handleAddUser","handleEditUser","user","_objectSpread","handleDeleteUser","userId","delete","onSubmit","update","create","handleToggleStatus","concat","columns","title","key","render","_","record","_roles$record$role","style","display","alignItems","children","size","icon","backgroundColor","marginLeft","fontWeight","type","dataIndex","_roles$role","_roles$role2","filters","Object","keys","map","text","value","onFilter","isActive","gap","status","checked","onChange","date","format","sorter","a","b","Date","onClick","onConfirm","okText","cancelText","danger","renderStats","totalUsers","length","activeUsers","filter","u","inactiveUsers","roleStats","reduce","acc","gutter","marginBottom","span","prefix","valueStyle","padding","extra","dataSource","rowKey","pagination","showSizeChanger","showQuickJumper","showTotal","total","range","open","onCancel","footer","width","placeholder","disabled","fontSize","entries","_ref","suffix","textAlign","marginTop","htmlType"],"sources":["C:/Users/ADMIN/Desktop/kho/client/src/pages/UsersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  Table,\r\n  Button,\r\n  Modal,\r\n  Input,\r\n  Select,\r\n  Space,\r\n  Tag,\r\n  Switch,\r\n  Avatar,\r\n  Descriptions,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Alert,\r\n  Popconfirm,\r\n  Badge,\r\n  Typography,\r\n} from 'antd';\r\nimport {\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  UserOutlined,\r\n  LockOutlined,\r\n  SettingOutlined,\r\n  TeamOutlined,\r\n  CrownOutlined,\r\n  KeyOutlined,\r\n  EyeOutlined,\r\n  EyeInvisibleOutlined,\r\n} from '@ant-design/icons';\r\nimport { usersAPI } from '../services/api';\r\nimport dayjs from 'dayjs';\r\n\r\nconst { Option } = Select;\r\nconst { Text } = Typography;\r\n\r\n// Zod schema for user validation\r\nconst userSchema = z.object({\r\n  username: z.string()\r\n    .min(3, 'Tên đăng nhập phải có ít nhất 3 ký tự')\r\n    .max(50, 'Tên đăng nhập không được quá 50 ký tự')\r\n    .regex(/^[a-zA-Z0-9_]+$/, 'Tên đăng nhập chỉ được chứa chữ cái, số và dấu gạch dưới'),\r\n  full_name: z.string()\r\n    .min(2, 'Họ tên phải có ít nhất 2 ký tự')\r\n    .max(100, 'Họ tên không được quá 100 ký tự'),\r\n  email: z.string()\r\n    .email('Email không hợp lệ')\r\n    .optional()\r\n    .or(z.literal('')),\r\n  phone: z.string()\r\n    .min(10, 'Số điện thoại phải có ít nhất 10 số')\r\n    .max(20, 'Số điện thoại không được quá 20 số')\r\n    .optional()\r\n    .or(z.literal('')),\r\n  role: z.enum(['admin', 'manager', 'cashier', 'inventory_staff'], {\r\n    errorMap: () => ({ message: 'Vui lòng chọn vai trò' })\r\n  }),\r\n  password: z.string()\r\n    .min(6, 'Mật khẩu phải có ít nhất 6 ký tự')\r\n    .optional(),\r\n  is_active: z.boolean().default(true),\r\n});\r\n\r\nconst UsersPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    setValue,\r\n    watch,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm({\r\n    resolver: zodResolver(userSchema),\r\n    defaultValues: {\r\n      is_active: true,\r\n    },\r\n  });\r\n\r\n  const roles = {\r\n    admin: {\r\n      label: 'Quản trị viên',\r\n      color: 'red',\r\n      permissions: ['all'],\r\n      description: 'Toàn quyền quản lý hệ thống',\r\n    },\r\n    manager: {\r\n      label: 'Quản lý',\r\n      color: 'orange',\r\n      permissions: ['products', 'orders', 'customers', 'reports', 'inventory'],\r\n      description: 'Quản lý sản phẩm, đơn hàng, khách hàng và báo cáo',\r\n    },\r\n    cashier: {\r\n      label: 'Thu ngân',\r\n      color: 'blue',\r\n      permissions: ['pos', 'orders', 'customers'],\r\n      description: 'Bán hàng và quản lý đơn hàng',\r\n    },\r\n    inventory_staff: {\r\n      label: 'Nhân viên kho',\r\n      color: 'green',\r\n      permissions: ['inventory', 'products'],\r\n      description: 'Quản lý kho và sản phẩm',\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await usersAPI.getAll();\r\n      if (response.data.success) {\r\n        setUsers(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Lỗi khi tải danh sách nhân viên');\r\n      // Mock data for demo\r\n      const mockUsers = [\r\n        {\r\n          id: 1,\r\n          username: 'admin',\r\n          full_name: 'Quản trị viên',\r\n          email: 'admin@posystem.com',\r\n          phone: '0901234567',\r\n          role: 'admin',\r\n          is_active: true,\r\n          last_login: '2024-01-15T10:30:00Z',\r\n          created_at: '2024-01-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 2,\r\n          username: 'manager01',\r\n          full_name: 'Nguyễn Văn Quản Lý',\r\n          email: 'manager@posystem.com',\r\n          phone: '0902345678',\r\n          role: 'manager',\r\n          is_active: true,\r\n          last_login: '2024-01-15T09:15:00Z',\r\n          created_at: '2024-01-02T00:00:00Z',\r\n        },\r\n        {\r\n          id: 3,\r\n          username: 'cashier01',\r\n          full_name: 'Trần Thị Thu Ngân',\r\n          email: 'cashier@posystem.com',\r\n          phone: '0903456789',\r\n          role: 'cashier',\r\n          is_active: true,\r\n          last_login: '2024-01-15T08:00:00Z',\r\n          created_at: '2024-01-05T00:00:00Z',\r\n        },\r\n        {\r\n          id: 4,\r\n          username: 'warehouse01',\r\n          full_name: 'Lê Văn Kho',\r\n          email: 'warehouse@posystem.com',\r\n          phone: '0904567890',\r\n          role: 'inventory_staff',\r\n          is_active: false,\r\n          last_login: '2024-01-10T16:45:00Z',\r\n          created_at: '2024-01-08T00:00:00Z',\r\n        },\r\n      ];\r\n      setUsers(mockUsers);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddUser = () => {\r\n    setEditingUser(null);\r\n    setModalVisible(true);\r\n    setShowPassword(false);\r\n    reset({\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setEditingUser(user);\r\n    setModalVisible(true);\r\n    setShowPassword(false);\r\n    reset({\r\n      ...user,\r\n      password: '', // Don't show password when editing\r\n    });\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    try {\r\n      await usersAPI.delete(userId);\r\n      toast.success('Xóa nhân viên thành công');\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error('Lỗi khi xóa nhân viên');\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      // Remove password if empty when editing\r\n      if (editingUser && !data.password) {\r\n        delete data.password;\r\n      }\r\n\r\n      if (editingUser) {\r\n        await usersAPI.update(editingUser.id, data);\r\n        toast.success('Cập nhật nhân viên thành công');\r\n      } else {\r\n        await usersAPI.create(data);\r\n        toast.success('Thêm nhân viên thành công');\r\n      }\r\n      setModalVisible(false);\r\n      reset();\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error(editingUser ? 'Lỗi khi cập nhật nhân viên' : 'Lỗi khi thêm nhân viên');\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async (user) => {\r\n    try {\r\n      await usersAPI.update(user.id, { is_active: !user.is_active });\r\n      toast.success(`${user.is_active ? 'Vô hiệu hóa' : 'Kích hoạt'} tài khoản thành công`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error('Lỗi khi thay đổi trạng thái tài khoản');\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Nhân viên',\r\n      key: 'user_info',\r\n      render: (_, record) => (\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <Avatar\r\n            size={40}\r\n            icon={<UserOutlined />}\r\n            style={{ backgroundColor: roles[record.role]?.color || '#1890ff' }}\r\n          />\r\n          <div style={{ marginLeft: 12 }}>\r\n            <div style={{ fontWeight: 500 }}>{record.full_name}</div>\r\n            <Text type=\"secondary\">@{record.username}</Text>\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Thông tin liên hệ',\r\n      key: 'contact',\r\n      render: (_, record) => (\r\n        <div>\r\n          {record.email && <div>{record.email}</div>}\r\n          {record.phone && <Text type=\"secondary\">{record.phone}</Text>}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Vai trò',\r\n      dataIndex: 'role',\r\n      key: 'role',\r\n      render: (role) => (\r\n        <Tag color={roles[role]?.color || 'default'}>\r\n          {roles[role]?.label || role}\r\n        </Tag>\r\n      ),\r\n      filters: Object.keys(roles).map(role => ({\r\n        text: roles[role].label,\r\n        value: role,\r\n      })),\r\n      onFilter: (value, record) => record.role === value,\r\n    },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'is_active',\r\n      key: 'is_active',\r\n      render: (isActive, record) => (\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          <Badge\r\n            status={isActive ? 'success' : 'default'}\r\n            text={isActive ? 'Hoạt động' : 'Vô hiệu'}\r\n          />\r\n          <Switch\r\n            checked={isActive}\r\n            onChange={() => handleToggleStatus(record)}\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n      ),\r\n      filters: [\r\n        { text: 'Hoạt động', value: true },\r\n        { text: 'Vô hiệu', value: false },\r\n      ],\r\n      onFilter: (value, record) => record.is_active === value,\r\n    },\r\n    {\r\n      title: 'Đăng nhập cuối',\r\n      dataIndex: 'last_login',\r\n      key: 'last_login',\r\n      render: (date) => (\r\n        <Text type=\"secondary\">\r\n          {date ? dayjs(date).format('DD/MM/YYYY HH:mm') : 'Chưa đăng nhập'}\r\n        </Text>\r\n      ),\r\n      sorter: (a, b) => {\r\n        if (!a.last_login && !b.last_login) return 0;\r\n        if (!a.last_login) return 1;\r\n        if (!b.last_login) return -1;\r\n        return new Date(a.last_login) - new Date(b.last_login);\r\n      },\r\n    },\r\n    {\r\n      title: 'Thao tác',\r\n      key: 'actions',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button\r\n            type=\"link\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => handleEditUser(record)}\r\n          >\r\n            Sửa\r\n          </Button>\r\n          <Popconfirm\r\n            title=\"Xác nhận xóa\"\r\n            description=\"Bạn có chắc chắn muốn xóa nhân viên này?\"\r\n            onConfirm={() => handleDeleteUser(record.id)}\r\n            okText=\"Xóa\"\r\n            cancelText=\"Hủy\"\r\n          >\r\n            <Button type=\"link\" danger icon={<DeleteOutlined />}>\r\n              Xóa\r\n            </Button>\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const renderStats = () => {\r\n    const totalUsers = users.length;\r\n    const activeUsers = users.filter(u => u.is_active).length;\r\n    const inactiveUsers = totalUsers - activeUsers;\r\n    const roleStats = Object.keys(roles).reduce((acc, role) => {\r\n      acc[role] = users.filter(u => u.role === role).length;\r\n      return acc;\r\n    }, {});\r\n\r\n    return (\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng nhân viên\"\r\n              value={totalUsers}\r\n              prefix={<TeamOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Đang hoạt động\"\r\n              value={activeUsers}\r\n              valueStyle={{ color: '#3f8600' }}\r\n              prefix={<UserOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Vô hiệu hóa\"\r\n              value={inactiveUsers}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<LockOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Quản trị viên\"\r\n              value={roleStats.admin || 0}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<CrownOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 24 }}>\r\n      {renderStats()}\r\n\r\n      <Card\r\n        title=\"Quản lý nhân viên\"\r\n        extra={\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<PlusOutlined />}\r\n            onClick={handleAddUser}\r\n          >\r\n            Thêm nhân viên\r\n          </Button>\r\n        }\r\n      >\r\n        <Table\r\n          columns={columns}\r\n          dataSource={users}\r\n          loading={loading}\r\n          rowKey=\"id\"\r\n          pagination={{\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n            showTotal: (total, range) =>\r\n              `${range[0]}-${range[1]} của ${total} nhân viên`,\r\n          }}\r\n        />\r\n      </Card>\r\n\r\n      <Modal\r\n        title={editingUser ? 'Chỉnh sửa nhân viên' : 'Thêm nhân viên mới'}\r\n        open={modalVisible}\r\n        onCancel={() => setModalVisible(false)}\r\n        footer={null}\r\n        width={600}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <div style={{ marginBottom: 16 }}>\r\n                <label style={{ display: 'block', marginBottom: 4 }}>\r\n                  Tên đăng nhập <span style={{ color: 'red' }}>*</span>\r\n                </label>\r\n                <Input\r\n                  {...register('username')}\r\n                  placeholder=\"Nhập tên đăng nhập\"\r\n                  disabled={!!editingUser}\r\n                />\r\n                {errors.username && (\r\n                  <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n                    {errors.username.message}\r\n                  </Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n            <Col span={12}>\r\n              <div style={{ marginBottom: 16 }}>\r\n                <label style={{ display: 'block', marginBottom: 4 }}>\r\n                  Họ tên <span style={{ color: 'red' }}>*</span>\r\n                </label>\r\n                <Input\r\n                  {...register('full_name')}\r\n                  placeholder=\"Nhập họ tên\"\r\n                />\r\n                {errors.full_name && (\r\n                  <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n                    {errors.full_name.message}\r\n                  </Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <div style={{ marginBottom: 16 }}>\r\n                <label style={{ display: 'block', marginBottom: 4 }}>\r\n                  Email\r\n                </label>\r\n                <Input\r\n                  {...register('email')}\r\n                  placeholder=\"Nhập email\"\r\n                  type=\"email\"\r\n                />\r\n                {errors.email && (\r\n                  <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n                    {errors.email.message}\r\n                  </Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n            <Col span={12}>\r\n              <div style={{ marginBottom: 16 }}>\r\n                <label style={{ display: 'block', marginBottom: 4 }}>\r\n                  Số điện thoại\r\n                </label>\r\n                <Input\r\n                  {...register('phone')}\r\n                  placeholder=\"Nhập số điện thoại\"\r\n                />\r\n                {errors.phone && (\r\n                  <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n                    {errors.phone.message}\r\n                  </Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <div style={{ marginBottom: 16 }}>\r\n                <label style={{ display: 'block', marginBottom: 4 }}>\r\n                  Vai trò <span style={{ color: 'red' }}>*</span>\r\n                </label>\r\n                <Select\r\n                  {...register('role')}\r\n                  placeholder=\"Chọn vai trò\"\r\n                  style={{ width: '100%' }}\r\n                  onChange={(value) => setValue('role', value)}\r\n                  value={watch('role')}\r\n                >\r\n                  {Object.entries(roles).map(([key, role]) => (\r\n                    <Option key={key} value={key}>\r\n                      <div>\r\n                        <div>{role.label}</div>\r\n                        <Text type=\"secondary\" style={{ fontSize: 12 }}>\r\n                          {role.description}\r\n                        </Text>\r\n                      </div>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n                {errors.role && (\r\n                  <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n                    {errors.role.message}\r\n                  </Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n            <Col span={12}>\r\n              <div style={{ marginBottom: 16 }}>\r\n                <label style={{ display: 'block', marginBottom: 4 }}>\r\n                  {editingUser ? 'Mật khẩu mới (để trống nếu không đổi)' : 'Mật khẩu'} \r\n                  {!editingUser && <span style={{ color: 'red' }}>*</span>}\r\n                </label>\r\n                <Input\r\n                  {...register('password')}\r\n                  placeholder={editingUser ? 'Nhập mật khẩu mới' : 'Nhập mật khẩu'}\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  suffix={\r\n                    <Button\r\n                      type=\"text\"\r\n                      icon={showPassword ? <EyeInvisibleOutlined /> : <EyeOutlined />}\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                    />\r\n                  }\r\n                />\r\n                {errors.password && (\r\n                  <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n                    {errors.password.message}\r\n                  </Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n          <div style={{ marginBottom: 16 }}>\r\n            <label style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n              <Switch\r\n                {...register('is_active')}\r\n                checked={watch('is_active')}\r\n                onChange={(checked) => setValue('is_active', checked)}\r\n              />\r\n              Tài khoản hoạt động\r\n            </label>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'right', marginTop: 24 }}>\r\n            <Space>\r\n              <Button onClick={() => setModalVisible(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                loading={isSubmitting}\r\n                icon={<KeyOutlined />}\r\n              >\r\n                {editingUser ? 'Cập nhật' : 'Thêm nhân viên'}\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}