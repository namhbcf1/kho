{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/kho/kho/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Card,Table,Button,Modal,Input,Select,DatePicker,Space,Tag,Row,Col,Statistic,Tabs,InputNumber,Radio,Form,message}from'antd';import{PlusOutlined,FilterOutlined,DownloadOutlined,DollarOutlined,RiseOutlined,FallOutlined,BarChartOutlined,PieChartOutlined}from'@ant-design/icons';import{LineChart,Line,BarChart,Bar,PieChart,Pie,Cell,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{financialAPI,reportsAPI}from'../services/api';import dayjs from'dayjs';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;const{RangePicker}=DatePicker;const{TabPane}=Tabs;const FinancialPage=()=>{var _categories;const[transactions,setTransactions]=useState([]);const[loading,setLoading]=useState(false);const[modalVisible,setModalVisible]=useState(false);const[stats,setStats]=useState({totalIncome:0,totalExpense:0,netProfit:0,todayIncome:0,monthIncome:0});const[activeTab,setActiveTab]=useState('transactions');const[chartData,setChartData]=useState([]);const[form]=Form.useForm();const categories={income:['B√°n h√†ng','D·ªãch v·ª•','Thu kh√°c','L√£i ng√¢n h√†ng','Ho√†n ti·ªÅn','Thu n·ª£ kh√°ch h√†ng'],expense:['Nh·∫≠p h√†ng','Ti·ªÅn thu√™','ƒêi·ªán n∆∞·ªõc','L∆∞∆°ng nh√¢n vi√™n','Marketing','V·∫≠n chuy·ªÉn','B·∫£o tr√¨ s·ª≠a ch·ªØa','Chi ph√≠ kh√°c','Tr·∫£ n·ª£ nh√† cung c·∫•p']};const paymentMethods=[{value:'cash',label:'Ti·ªÅn m·∫∑t'},{value:'card',label:'Th·∫ª'},{value:'transfer',label:'Chuy·ªÉn kho·∫£n'},{value:'ewallet',label:'V√≠ ƒëi·ªán t·ª≠'}];const COLORS=['#0088FE','#00C49F','#FFBB28','#FF8042','#8884D8','#82CA9D'];useEffect(()=>{fetchTransactions();fetchStats();},[]);useEffect(()=>{if(transactions.length>0){generateChartData();}},[transactions]);const fetchTransactions=async()=>{setLoading(true);try{const response=await financialAPI.getTransactions();if(response.data.success){setTransactions(response.data.data);}}catch(error){toast.error('L·ªói khi t·∫£i d·ªØ li·ªáu thu chi');// Mock data for demo\nconst mockTransactions=[{id:1,type:'income',category:'B√°n h√†ng',amount:1500000,description:'Doanh thu b√°n h√†ng ng√†y',payment_method:'cash',transaction_date:dayjs().subtract(1,'day').toISOString(),user_name:'Admin'},{id:2,type:'income',category:'D·ªãch v·ª•',amount:500000,description:'Ph√≠ d·ªãch v·ª• t∆∞ v·∫•n',payment_method:'transfer',transaction_date:dayjs().subtract(2,'day').toISOString(),user_name:'Admin'},{id:3,type:'expense',category:'Nh·∫≠p h√†ng',amount:800000,description:'Nh·∫≠p h√†ng t·ª´ nh√† cung c·∫•p',payment_method:'transfer',transaction_date:dayjs().subtract(3,'day').toISOString(),user_name:'Admin'}];setTransactions(mockTransactions);}finally{setLoading(false);}};const fetchStats=async()=>{try{const response=await reportsAPI.getFinancialSummary();if(response.data.success){setStats(response.data.data);}}catch(error){console.error('Error fetching stats:',error);// Mock stats\nsetStats({total_income:2500000,total_expense:1200000,net_profit:1300000,today_income:500000,today_expense:200000,today_profit:300000,month_income:15000000,month_expense:8000000,month_profit:7000000});}};const generateChartData=()=>{// Monthly data for line chart\nconst monthlyData=[];const currentMonth=dayjs();for(let i=5;i>=0;i--){const month=currentMonth.subtract(i,'month');const monthTransactions=transactions.filter(t=>{const transactionDate=dayjs(t.transaction_date);return transactionDate.month()===month.month()&&transactionDate.year()===month.year();});const income=monthTransactions.filter(t=>t.type==='income').reduce((sum,t)=>sum+t.amount,0);const expense=monthTransactions.filter(t=>t.type==='expense').reduce((sum,t)=>sum+t.amount,0);monthlyData.push({month:month.format('MM/YYYY'),income,expense,profit:income-expense});}setChartData(monthlyData);};const handleAddTransaction=async values=>{try{var _values$transaction_d;console.log('üîÑ Submitting transaction data:',values);const transactionData=_objectSpread(_objectSpread({},values),{},{transaction_date:((_values$transaction_d=values.transaction_date)===null||_values$transaction_d===void 0?void 0:_values$transaction_d.toISOString())||new Date().toISOString(),user_id:1// Current user ID\n});console.log('üì§ Final transaction data:',transactionData);const response=await financialAPI.create(transactionData);console.log('‚úÖ API Response:',response);if(response.data.success){message.success('Th√™m giao d·ªãch th√†nh c√¥ng');setModalVisible(false);form.resetFields();fetchTransactions();fetchStats();}else{message.error(response.data.message||'L·ªói khi th√™m giao d·ªãch');}}catch(error){var _error$response,_error$response$data;console.error('‚ùå Transaction submission error:',error);message.error(\"L\\u1ED7i khi th\\xEAm giao d\\u1ECBch: \".concat(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}};const handleModalOpen=()=>{setModalVisible(true);form.setFieldsValue({type:'income',payment_method:'cash',transaction_date:dayjs()});};const columns=[{title:'Ng√†y',dataIndex:'transaction_date',key:'transaction_date',render:date=>dayjs(date).format('DD/MM/YYYY HH:mm'),sorter:(a,b)=>dayjs(a.transaction_date).unix()-dayjs(b.transaction_date).unix()},{title:'Lo·∫°i',dataIndex:'type',key:'type',render:type=>/*#__PURE__*/_jsx(Tag,{color:type==='income'?'green':'red',children:type==='income'?'Thu':'Chi'}),filters:[{text:'Thu',value:'income'},{text:'Chi',value:'expense'}],onFilter:(value,record)=>record.type===value},{title:'Danh m·ª•c',dataIndex:'category',key:'category'},{title:'S·ªë ti·ªÅn',dataIndex:'amount',key:'amount',render:(amount,record)=>/*#__PURE__*/_jsxs(\"span\",{style:{color:record.type==='income'?'#52c41a':'#ff4d4f'},children:[record.type==='income'?'+':'-',amount.toLocaleString('vi-VN'),\" \\u20AB\"]}),sorter:(a,b)=>a.amount-b.amount},{title:'M√¥ t·∫£',dataIndex:'description',key:'description',ellipsis:true},{title:'Ph∆∞∆°ng th·ª©c TT',dataIndex:'payment_method',key:'payment_method',render:method=>{const methodMap={cash:'Ti·ªÅn m·∫∑t',card:'Th·∫ª',transfer:'Chuy·ªÉn kho·∫£n',ewallet:'V√≠ ƒëi·ªán t·ª≠'};return methodMap[method]||method;}},{title:'Ng∆∞·ªùi t·∫°o',dataIndex:'user_name',key:'user_name',render:name=>name||'Ch∆∞a x√°c ƒë·ªãnh'}];const renderTransactionsTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng thu\",value:stats.total_income||stats.totalIncome,precision:0,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(RiseOutlined,{}),suffix:\"\\u20AB\"})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng chi\",value:stats.total_expense||stats.totalExpense,precision:0,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(FallOutlined,{}),suffix:\"\\u20AB\"})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"L\\u1EE3i nhu\\u1EADn\",value:stats.net_profit||stats.netProfit,precision:0,valueStyle:{color:'#1890ff'},prefix:/*#__PURE__*/_jsx(DollarOutlined,{}),suffix:\"\\u20AB\"})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Thu h\\xF4m nay\",value:stats.today_income||stats.todayIncome,precision:0,valueStyle:{color:'#52c41a'},prefix:/*#__PURE__*/_jsx(RiseOutlined,{}),suffix:\"\\u20AB\"})})})]}),/*#__PURE__*/_jsx(Card,{title:\"Giao d\\u1ECBch t\\xE0i ch\\xEDnh\",extra:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(FilterOutlined,{}),children:\"L\\u1ECDc\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),children:\"Xu\\u1EA5t b\\xE1o c\\xE1o\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:handleModalOpen,children:\"Th\\xEAm giao d\\u1ECBch\"})]}),children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:transactions,loading:loading,rowKey:\"id\",pagination:{showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" giao d\\u1ECBch\")}})})]});const renderChartsTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Bi\\u1EC3u \\u0111\\u1ED3 doanh thu theo th\\xE1ng\",icon:/*#__PURE__*/_jsx(BarChartOutlined,{}),children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\")}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"income\",fill:\"#52c41a\",name:\"Thu\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"expense\",fill:\"#ff4d4f\",name:\"Chi\"})]})})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Bi\\u1EC3u \\u0111\\u1ED3 l\\u1EE3i nhu\\u1EADn theo th\\xE1ng\",icon:/*#__PURE__*/_jsx(LineChart,{}),children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:chartData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\")}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"profit\",stroke:\"#1890ff\",strokeWidth:2,name:\"L\\u1EE3i nhu\\u1EADn\"})]})})})})]}),/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch chi ti\\u1EBFt\",icon:/*#__PURE__*/_jsx(PieChartOutlined,{}),children:/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Ph\\xE2n b\\u1ED5 thu nh\\u1EADp theo danh m\\u1EE5c\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:Object.entries(categories.income).map(_ref=>{let[key,value]=_ref;return{name:value,value:Math.random()*1000000// Mock data\n};}),cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref2=>{let{name,percent}=_ref2;return\"\".concat(name,\" \").concat((percent*100).toFixed(0),\"%\");},outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",children:Object.entries(categories.income).map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\")})]})})]}),/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Ph\\xE2n b\\u1ED5 chi ph\\xED theo danh m\\u1EE5c\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:Object.entries(categories.expense).map(_ref3=>{let[key,value]=_ref3;return{name:value,value:Math.random()*500000// Mock data\n};}),cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref4=>{let{name,percent}=_ref4;return\"\".concat(name,\" \").concat((percent*100).toFixed(0),\"%\");},outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",children:Object.entries(categories.expense).map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\")})]})})]})]})})})})]});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24},children:[/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onChange:setActiveTab,children:[/*#__PURE__*/_jsx(TabPane,{tab:\"Giao d\\u1ECBch\",children:renderTransactionsTab()},\"transactions\"),/*#__PURE__*/_jsx(TabPane,{tab:\"Bi\\u1EC3u \\u0111\\u1ED3\",children:renderChartsTab()},\"charts\")]}),/*#__PURE__*/_jsx(Modal,{title:\"Th\\xEAm giao d\\u1ECBch t\\xE0i ch\\xEDnh\",open:modalVisible,onCancel:()=>setModalVisible(false),footer:null,width:600,children:/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:handleAddTransaction,children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Lo\\u1EA1i giao d\\u1ECBch\",name:\"type\",rules:[{required:true,message:'Vui l√≤ng ch·ªçn lo·∫°i giao d·ªãch'}],children:/*#__PURE__*/_jsxs(Radio.Group,{onChange:e=>{form.setFieldsValue({category:undefined});},children:[/*#__PURE__*/_jsx(Radio,{value:\"income\",children:\"Thu\"}),/*#__PURE__*/_jsx(Radio,{value:\"expense\",children:\"Chi\"})]})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Danh m\\u1EE5c\",name:\"category\",rules:[{required:true,message:'Vui l√≤ng ch·ªçn danh m·ª•c'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn danh m\\u1EE5c\",children:(_categories=categories[form.getFieldValue('type')||'income'])===null||_categories===void 0?void 0:_categories.map(category=>/*#__PURE__*/_jsx(Option,{value:category,children:category},category))})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"S\\u1ED1 ti\\u1EC1n\",name:\"amount\",rules:[{required:true,message:'Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn'}],children:/*#__PURE__*/_jsx(InputNumber,{placeholder:\"Nh\\u1EADp s\\u1ED1 ti\\u1EC1n\",style:{width:'100%'},formatter:value=>\"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g,','),parser:value=>value.replace(/\\$\\s?|(,*)/g,''),min:0})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n\",name:\"payment_method\",rules:[{required:true,message:'Vui l√≤ng ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn ph\\u01B0\\u01A1ng th\\u1EE9c\",children:paymentMethods.map(method=>/*#__PURE__*/_jsx(Option,{value:method.value,children:method.label},method.value))})})})]}),/*#__PURE__*/_jsx(Form.Item,{label:\"M\\xF4 t\\u1EA3\",name:\"description\",rules:[{required:true,message:'Vui l√≤ng nh·∫≠p m√¥ t·∫£ giao d·ªãch'}],children:/*#__PURE__*/_jsx(Input.TextArea,{placeholder:\"Nh\\u1EADp m\\xF4 t\\u1EA3 giao d\\u1ECBch\",rows:3})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y giao d\\u1ECBch\",name:\"transaction_date\",rules:[{required:true,message:'Vui l√≤ng ch·ªçn ng√†y giao d·ªãch'}],children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'}})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right',marginTop:24},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setModalVisible(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"Th\\xEAm giao d\\u1ECBch\"})]})})]})})]});};export default FinancialPage;","map":{"version":3,"names":["React","useState","useEffect","toast","Card","Table","Button","Modal","Input","Select","DatePicker","Space","Tag","Row","Col","Statistic","Tabs","InputNumber","Radio","Form","message","PlusOutlined","FilterOutlined","DownloadOutlined","DollarOutlined","RiseOutlined","FallOutlined","BarChartOutlined","PieChartOutlined","LineChart","Line","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","financialAPI","reportsAPI","dayjs","jsx","_jsx","jsxs","_jsxs","Option","RangePicker","TabPane","FinancialPage","_categories","transactions","setTransactions","loading","setLoading","modalVisible","setModalVisible","stats","setStats","totalIncome","totalExpense","netProfit","todayIncome","monthIncome","activeTab","setActiveTab","chartData","setChartData","form","useForm","categories","income","expense","paymentMethods","value","label","COLORS","fetchTransactions","fetchStats","length","generateChartData","response","getTransactions","data","success","error","mockTransactions","id","type","category","amount","description","payment_method","transaction_date","subtract","toISOString","user_name","getFinancialSummary","console","total_income","total_expense","net_profit","today_income","today_expense","today_profit","month_income","month_expense","month_profit","monthlyData","currentMonth","i","month","monthTransactions","filter","t","transactionDate","year","reduce","sum","push","format","profit","handleAddTransaction","values","_values$transaction_d","log","transactionData","_objectSpread","Date","user_id","create","resetFields","_error$response","_error$response$data","concat","handleModalOpen","setFieldsValue","columns","title","dataIndex","key","render","date","sorter","a","b","unix","color","children","filters","text","onFilter","record","style","toLocaleString","ellipsis","method","methodMap","cash","card","transfer","ewallet","name","renderTransactionsTab","gutter","marginBottom","span","precision","valueStyle","prefix","suffix","extra","icon","onClick","dataSource","rowKey","pagination","showSizeChanger","showQuickJumper","showTotal","total","range","renderChartsTab","width","height","strokeDasharray","dataKey","formatter","fill","stroke","strokeWidth","Object","entries","map","_ref","Math","random","cx","cy","labelLine","_ref2","percent","toFixed","outerRadius","entry","index","_ref3","_ref4","padding","activeKey","onChange","tab","open","onCancel","footer","layout","onFinish","Item","rules","required","Group","e","undefined","placeholder","getFieldValue","replace","parser","min","TextArea","rows","textAlign","marginTop","htmlType"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/pages/FinancialPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  Table,\r\n  Button,\r\n  Modal,\r\n  Input,\r\n  Select,\r\n  DatePicker,\r\n  Space,\r\n  Tag,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Tabs,\r\n  InputNumber,\r\n  Radio,\r\n  Form,\r\n  message,\r\n} from 'antd';\r\nimport {\r\n  PlusOutlined,\r\n  FilterOutlined,\r\n  DownloadOutlined,\r\n  DollarOutlined,\r\n  RiseOutlined,\r\n  FallOutlined,\r\n  BarChartOutlined,\r\n  PieChartOutlined,\r\n} from '@ant-design/icons';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  BarChart,\r\n  Bar,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from 'recharts';\r\nimport { financialAPI, reportsAPI } from '../services/api';\r\nimport dayjs from 'dayjs';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\n\r\nconst FinancialPage = () => {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [stats, setStats] = useState({\r\n    totalIncome: 0,\r\n    totalExpense: 0,\r\n    netProfit: 0,\r\n    todayIncome: 0,\r\n    monthIncome: 0,\r\n  });\r\n  const [activeTab, setActiveTab] = useState('transactions');\r\n  const [chartData, setChartData] = useState([]);\r\n  const [form] = Form.useForm();\r\n\r\n  const categories = {\r\n    income: [\r\n      'B√°n h√†ng',\r\n      'D·ªãch v·ª•',\r\n      'Thu kh√°c',\r\n      'L√£i ng√¢n h√†ng',\r\n      'Ho√†n ti·ªÅn',\r\n      'Thu n·ª£ kh√°ch h√†ng',\r\n    ],\r\n    expense: [\r\n      'Nh·∫≠p h√†ng',\r\n      'Ti·ªÅn thu√™',\r\n      'ƒêi·ªán n∆∞·ªõc',\r\n      'L∆∞∆°ng nh√¢n vi√™n',\r\n      'Marketing',\r\n      'V·∫≠n chuy·ªÉn',\r\n      'B·∫£o tr√¨ s·ª≠a ch·ªØa',\r\n      'Chi ph√≠ kh√°c',\r\n      'Tr·∫£ n·ª£ nh√† cung c·∫•p',\r\n    ],\r\n  };\r\n\r\n  const paymentMethods = [\r\n    { value: 'cash', label: 'Ti·ªÅn m·∫∑t' },\r\n    { value: 'card', label: 'Th·∫ª' },\r\n    { value: 'transfer', label: 'Chuy·ªÉn kho·∫£n' },\r\n    { value: 'ewallet', label: 'V√≠ ƒëi·ªán t·ª≠' },\r\n  ];\r\n\r\n  const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884D8', '#82CA9D'];\r\n\r\n  useEffect(() => {\r\n    fetchTransactions();\r\n    fetchStats();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (transactions.length > 0) {\r\n      generateChartData();\r\n    }\r\n  }, [transactions]);\r\n\r\n  const fetchTransactions = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await financialAPI.getTransactions();\r\n      if (response.data.success) {\r\n        setTransactions(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      toast.error('L·ªói khi t·∫£i d·ªØ li·ªáu thu chi');\r\n      // Mock data for demo\r\n      const mockTransactions = [\r\n        {\r\n          id: 1,\r\n          type: 'income',\r\n          category: 'B√°n h√†ng',\r\n          amount: 1500000,\r\n          description: 'Doanh thu b√°n h√†ng ng√†y',\r\n          payment_method: 'cash',\r\n          transaction_date: dayjs().subtract(1, 'day').toISOString(),\r\n          user_name: 'Admin',\r\n        },\r\n        {\r\n          id: 2,\r\n          type: 'income',\r\n          category: 'D·ªãch v·ª•',\r\n          amount: 500000,\r\n          description: 'Ph√≠ d·ªãch v·ª• t∆∞ v·∫•n',\r\n          payment_method: 'transfer',\r\n          transaction_date: dayjs().subtract(2, 'day').toISOString(),\r\n          user_name: 'Admin',\r\n        },\r\n        {\r\n          id: 3,\r\n          type: 'expense',\r\n          category: 'Nh·∫≠p h√†ng',\r\n          amount: 800000,\r\n          description: 'Nh·∫≠p h√†ng t·ª´ nh√† cung c·∫•p',\r\n          payment_method: 'transfer',\r\n          transaction_date: dayjs().subtract(3, 'day').toISOString(),\r\n          user_name: 'Admin',\r\n        },\r\n      ];\r\n      setTransactions(mockTransactions);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await reportsAPI.getFinancialSummary();\r\n      if (response.data.success) {\r\n        setStats(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching stats:', error);\r\n      // Mock stats\r\n      setStats({\r\n        total_income: 2500000,\r\n        total_expense: 1200000,\r\n        net_profit: 1300000,\r\n        today_income: 500000,\r\n        today_expense: 200000,\r\n        today_profit: 300000,\r\n        month_income: 15000000,\r\n        month_expense: 8000000,\r\n        month_profit: 7000000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const generateChartData = () => {\r\n    // Monthly data for line chart\r\n    const monthlyData = [];\r\n    const currentMonth = dayjs();\r\n    \r\n    for (let i = 5; i >= 0; i--) {\r\n      const month = currentMonth.subtract(i, 'month');\r\n      const monthTransactions = transactions.filter(t => {\r\n        const transactionDate = dayjs(t.transaction_date);\r\n        return transactionDate.month() === month.month() && \r\n               transactionDate.year() === month.year();\r\n      });\r\n      \r\n      const income = monthTransactions\r\n        .filter(t => t.type === 'income')\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n      \r\n      const expense = monthTransactions\r\n        .filter(t => t.type === 'expense')\r\n        .reduce((sum, t) => sum + t.amount, 0);\r\n      \r\n      monthlyData.push({\r\n        month: month.format('MM/YYYY'),\r\n        income,\r\n        expense,\r\n        profit: income - expense,\r\n      });\r\n    }\r\n    \r\n    setChartData(monthlyData);\r\n  };\r\n\r\n  const handleAddTransaction = async (values) => {\r\n    try {\r\n      console.log('üîÑ Submitting transaction data:', values);\r\n      \r\n      const transactionData = {\r\n        ...values,\r\n        transaction_date: values.transaction_date?.toISOString() || new Date().toISOString(),\r\n        user_id: 1, // Current user ID\r\n      };\r\n\r\n      console.log('üì§ Final transaction data:', transactionData);\r\n\r\n      const response = await financialAPI.create(transactionData);\r\n      console.log('‚úÖ API Response:', response);\r\n      \r\n      if (response.data.success) {\r\n        message.success('Th√™m giao d·ªãch th√†nh c√¥ng');\r\n        setModalVisible(false);\r\n        form.resetFields();\r\n        fetchTransactions();\r\n        fetchStats();\r\n      } else {\r\n        message.error(response.data.message || 'L·ªói khi th√™m giao d·ªãch');\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Transaction submission error:', error);\r\n      message.error(`L·ªói khi th√™m giao d·ªãch: ${error.response?.data?.message || error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleModalOpen = () => {\r\n    setModalVisible(true);\r\n    form.setFieldsValue({\r\n      type: 'income',\r\n      payment_method: 'cash',\r\n      transaction_date: dayjs(),\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Ng√†y',\r\n      dataIndex: 'transaction_date',\r\n      key: 'transaction_date',\r\n      render: (date) => dayjs(date).format('DD/MM/YYYY HH:mm'),\r\n      sorter: (a, b) => dayjs(a.transaction_date).unix() - dayjs(b.transaction_date).unix(),\r\n    },\r\n    {\r\n      title: 'Lo·∫°i',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n      render: (type) => (\r\n        <Tag color={type === 'income' ? 'green' : 'red'}>\r\n          {type === 'income' ? 'Thu' : 'Chi'}\r\n        </Tag>\r\n      ),\r\n      filters: [\r\n        { text: 'Thu', value: 'income' },\r\n        { text: 'Chi', value: 'expense' },\r\n      ],\r\n      onFilter: (value, record) => record.type === value,\r\n    },\r\n    {\r\n      title: 'Danh m·ª•c',\r\n      dataIndex: 'category',\r\n      key: 'category',\r\n    },\r\n    {\r\n      title: 'S·ªë ti·ªÅn',\r\n      dataIndex: 'amount',\r\n      key: 'amount',\r\n      render: (amount, record) => (\r\n        <span style={{ color: record.type === 'income' ? '#52c41a' : '#ff4d4f' }}>\r\n          {record.type === 'income' ? '+' : '-'}{amount.toLocaleString('vi-VN')} ‚Ç´\r\n        </span>\r\n      ),\r\n      sorter: (a, b) => a.amount - b.amount,\r\n    },\r\n    {\r\n      title: 'M√¥ t·∫£',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n      ellipsis: true,\r\n    },\r\n    {\r\n      title: 'Ph∆∞∆°ng th·ª©c TT',\r\n      dataIndex: 'payment_method',\r\n      key: 'payment_method',\r\n      render: (method) => {\r\n        const methodMap = {\r\n          cash: 'Ti·ªÅn m·∫∑t',\r\n          card: 'Th·∫ª',\r\n          transfer: 'Chuy·ªÉn kho·∫£n',\r\n          ewallet: 'V√≠ ƒëi·ªán t·ª≠',\r\n        };\r\n        return methodMap[method] || method;\r\n      },\r\n    },\r\n    {\r\n      title: 'Ng∆∞·ªùi t·∫°o',\r\n      dataIndex: 'user_name',\r\n      key: 'user_name',\r\n      render: (name) => name || 'Ch∆∞a x√°c ƒë·ªãnh',\r\n    },\r\n  ];\r\n\r\n  const renderTransactionsTab = () => (\r\n    <div>\r\n      <Row gutter={16} style={{ marginBottom: 16 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"T·ªïng thu\"\r\n              value={stats.total_income || stats.totalIncome}\r\n              precision={0}\r\n              valueStyle={{ color: '#3f8600' }}\r\n              prefix={<RiseOutlined />}\r\n              suffix=\"‚Ç´\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"T·ªïng chi\"\r\n              value={stats.total_expense || stats.totalExpense}\r\n              precision={0}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<FallOutlined />}\r\n              suffix=\"‚Ç´\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"L·ª£i nhu·∫≠n\"\r\n              value={stats.net_profit || stats.netProfit}\r\n              precision={0}\r\n              valueStyle={{ color: '#1890ff' }}\r\n              prefix={<DollarOutlined />}\r\n              suffix=\"‚Ç´\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Thu h√¥m nay\"\r\n              value={stats.today_income || stats.todayIncome}\r\n              precision={0}\r\n              valueStyle={{ color: '#52c41a' }}\r\n              prefix={<RiseOutlined />}\r\n              suffix=\"‚Ç´\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Card\r\n        title=\"Giao d·ªãch t√†i ch√≠nh\"\r\n        extra={\r\n          <Space>\r\n            <Button icon={<FilterOutlined />}>\r\n              L·ªçc\r\n            </Button>\r\n            <Button icon={<DownloadOutlined />}>\r\n              Xu·∫•t b√°o c√°o\r\n            </Button>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<PlusOutlined />}\r\n              onClick={handleModalOpen}\r\n            >\r\n              Th√™m giao d·ªãch\r\n            </Button>\r\n          </Space>\r\n        }\r\n      >\r\n        <Table\r\n          columns={columns}\r\n          dataSource={transactions}\r\n          loading={loading}\r\n          rowKey=\"id\"\r\n          pagination={{\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n            showTotal: (total, range) =>\r\n              `${range[0]}-${range[1]} c·ªßa ${total} giao d·ªãch`,\r\n          }}\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderChartsTab = () => (\r\n    <div>\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={12}>\r\n          <Card title=\"Bi·ªÉu ƒë·ªì doanh thu theo th√°ng\" icon={<BarChartOutlined />}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={chartData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"month\" />\r\n                <YAxis />\r\n                <Tooltip formatter={(value) => `${value.toLocaleString('vi-VN')} ‚Ç´`} />\r\n                <Legend />\r\n                <Bar dataKey=\"income\" fill=\"#52c41a\" name=\"Thu\" />\r\n                <Bar dataKey=\"expense\" fill=\"#ff4d4f\" name=\"Chi\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Card title=\"Bi·ªÉu ƒë·ªì l·ª£i nhu·∫≠n theo th√°ng\" icon={<LineChart />}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <LineChart data={chartData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"month\" />\r\n                <YAxis />\r\n                <Tooltip formatter={(value) => `${value.toLocaleString('vi-VN')} ‚Ç´`} />\r\n                <Legend />\r\n                <Line\r\n                  type=\"monotone\"\r\n                  dataKey=\"profit\"\r\n                  stroke=\"#1890ff\"\r\n                  strokeWidth={2}\r\n                  name=\"L·ª£i nhu·∫≠n\"\r\n                />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={16}>\r\n        <Col span={24}>\r\n          <Card title=\"Ph√¢n t√≠ch chi ti·∫øt\" icon={<PieChartOutlined />}>\r\n            <Row gutter={16}>\r\n              <Col span={12}>\r\n                <h4>Ph√¢n b·ªï thu nh·∫≠p theo danh m·ª•c</h4>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={Object.entries(categories.income).map(([key, value]) => ({\r\n                        name: value,\r\n                        value: Math.random() * 1000000, // Mock data\r\n                      }))}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      labelLine={false}\r\n                      label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                      outerRadius={80}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                    >\r\n                      {Object.entries(categories.income).map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip formatter={(value) => `${value.toLocaleString('vi-VN')} ‚Ç´`} />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              </Col>\r\n              <Col span={12}>\r\n                <h4>Ph√¢n b·ªï chi ph√≠ theo danh m·ª•c</h4>\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={Object.entries(categories.expense).map(([key, value]) => ({\r\n                        name: value,\r\n                        value: Math.random() * 500000, // Mock data\r\n                      }))}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      labelLine={false}\r\n                      label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                      outerRadius={80}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                    >\r\n                      {Object.entries(categories.expense).map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip formatter={(value) => `${value.toLocaleString('vi-VN')} ‚Ç´`} />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div style={{ padding: 24 }}>\r\n      <Tabs activeKey={activeTab} onChange={setActiveTab}>\r\n        <TabPane tab=\"Giao d·ªãch\" key=\"transactions\">\r\n          {renderTransactionsTab()}\r\n        </TabPane>\r\n        <TabPane tab=\"Bi·ªÉu ƒë·ªì\" key=\"charts\">\r\n          {renderChartsTab()}\r\n        </TabPane>\r\n      </Tabs>\r\n\r\n      <Modal\r\n        title=\"Th√™m giao d·ªãch t√†i ch√≠nh\"\r\n        open={modalVisible}\r\n        onCancel={() => setModalVisible(false)}\r\n        footer={null}\r\n        width={600}\r\n      >\r\n        <Form\r\n          form={form}\r\n          layout=\"vertical\"\r\n          onFinish={handleAddTransaction}\r\n        >\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"Lo·∫°i giao d·ªãch\"\r\n                name=\"type\"\r\n                rules={[{ required: true, message: 'Vui l√≤ng ch·ªçn lo·∫°i giao d·ªãch' }]}\r\n              >\r\n                <Radio.Group\r\n                  onChange={(e) => {\r\n                    form.setFieldsValue({ category: undefined });\r\n                  }}\r\n                >\r\n                  <Radio value=\"income\">Thu</Radio>\r\n                  <Radio value=\"expense\">Chi</Radio>\r\n                </Radio.Group>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"Danh m·ª•c\"\r\n                name=\"category\"\r\n                rules={[{ required: true, message: 'Vui l√≤ng ch·ªçn danh m·ª•c' }]}\r\n              >\r\n                <Select placeholder=\"Ch·ªçn danh m·ª•c\">\r\n                  {categories[form.getFieldValue('type') || 'income']?.map((category) => (\r\n                    <Option key={category} value={category}>\r\n                      {category}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"S·ªë ti·ªÅn\"\r\n                name=\"amount\"\r\n                rules={[{ required: true, message: 'Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn' }]}\r\n              >\r\n                <InputNumber\r\n                  placeholder=\"Nh·∫≠p s·ªë ti·ªÅn\"\r\n                  style={{ width: '100%' }}\r\n                  formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                  parser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                  min={0}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"Ph∆∞∆°ng th·ª©c thanh to√°n\"\r\n                name=\"payment_method\"\r\n                rules={[{ required: true, message: 'Vui l√≤ng ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n' }]}\r\n              >\r\n                <Select placeholder=\"Ch·ªçn ph∆∞∆°ng th·ª©c\">\r\n                  {paymentMethods.map((method) => (\r\n                    <Option key={method.value} value={method.value}>\r\n                      {method.label}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item\r\n            label=\"M√¥ t·∫£\"\r\n            name=\"description\"\r\n            rules={[{ required: true, message: 'Vui l√≤ng nh·∫≠p m√¥ t·∫£ giao d·ªãch' }]}\r\n          >\r\n            <Input.TextArea\r\n              placeholder=\"Nh·∫≠p m√¥ t·∫£ giao d·ªãch\"\r\n              rows={3}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Ng√†y giao d·ªãch\"\r\n            name=\"transaction_date\"\r\n            rules={[{ required: true, message: 'Vui l√≤ng ch·ªçn ng√†y giao d·ªãch' }]}\r\n          >\r\n            <DatePicker style={{ width: '100%' }} />\r\n          </Form.Item>\r\n\r\n          <div style={{ textAlign: 'right', marginTop: 24 }}>\r\n            <Space>\r\n              <Button onClick={() => setModalVisible(false)}>\r\n                H·ªßy\r\n              </Button>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                icon={<PlusOutlined />}\r\n              >\r\n                Th√™m giao d·ªãch\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinancialPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}