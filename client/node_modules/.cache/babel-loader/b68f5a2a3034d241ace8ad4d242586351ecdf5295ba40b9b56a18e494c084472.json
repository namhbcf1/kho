{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Row,Col,Statistic,Typography,DatePicker,Space,Button,Table,Progress}from'antd';import{ArrowUpOutlined,ArrowDownOutlined,DollarOutlined,ShoppingOutlined,AppstoreOutlined,TeamOutlined}from'@ant-design/icons';import{ordersAPI,productsAPI}from'../services/api';import{formatCurrency,formatDate}from'../utils/format';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title,Text}=Typography;const{RangePicker}=DatePicker;function ReportsPage(){const[stats,setStats]=useState({});const[products,setProducts]=useState([]);const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{loadData();},[]);const loadData=async()=>{try{setLoading(true);// Load thống kê tổng quan\nconst statsResponse=await ordersAPI.getStats();if(statsResponse.data.success){setStats(statsResponse.data.data);}// Load sản phẩm để tính tồn kho\nconst productsResponse=await productsAPI.getAll();if(productsResponse.data.success){setProducts(productsResponse.data.data);}// Load đơn hàng gần đây\nconst ordersResponse=await ordersAPI.getAll({limit:20});if(ordersResponse.data.success){setOrders(ordersResponse.data.data);}}catch(error){console.error('Lỗi khi tải dữ liệu báo cáo:',error);}finally{setLoading(false);}};const getProductStats=()=>{const totalProducts=products.length;const inStock=products.filter(p=>p.quantity>0).length;const outOfStock=products.filter(p=>p.quantity===0).length;const lowStock=products.filter(p=>p.quantity>0&&p.quantity<=10).length;const totalStockValue=products.reduce((sum,p)=>sum+p.price*p.quantity,0);return{totalProducts,inStock,outOfStock,lowStock,totalStockValue};};const getTopProducts=()=>{// Tính toán sản phẩm bán chạy từ order items\nconst productSales={};orders.forEach(order=>{if(order.items){order.items.forEach(item=>{if(productSales[item.product_id]){productSales[item.product_id].quantity+=item.quantity;productSales[item.product_id].revenue+=item.subtotal;}else{productSales[item.product_id]={name:item.product_name,quantity:item.quantity,revenue:item.subtotal,price:item.price};}});}});return Object.values(productSales).sort((a,b)=>b.quantity-a.quantity).slice(0,10);};const getLowStockProducts=()=>{return products.filter(p=>p.quantity>0&&p.quantity<=10).sort((a,b)=>a.quantity-b.quantity).slice(0,10);};const productStats=getProductStats();const topProducts=getTopProducts();const lowStockProducts=getLowStockProducts();const topProductsColumns=[{title:'Sản phẩm',dataIndex:'name',key:'name',ellipsis:true},{title:'Đã bán',dataIndex:'quantity',key:'quantity',width:80,sorter:(a,b)=>a.quantity-b.quantity},{title:'Doanh thu',dataIndex:'revenue',key:'revenue',width:120,render:revenue=>formatCurrency(revenue),sorter:(a,b)=>a.revenue-b.revenue}];const lowStockColumns=[{title:'Sản phẩm',dataIndex:'name',key:'name',ellipsis:true},{title:'Tồn kho',dataIndex:'quantity',key:'quantity',width:100,render:quantity=>/*#__PURE__*/_jsx(\"span\",{style:{color:quantity<=5?'#ff4d4f':'#faad14'},children:quantity}),sorter:(a,b)=>a.quantity-b.quantity},{title:'Mức độ',dataIndex:'quantity',key:'level',width:120,render:quantity=>/*#__PURE__*/_jsx(Progress,{percent:Math.min(quantity/10*100,100),size:\"small\",status:quantity<=5?'exception':'active',showInfo:false})}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"B\\xE1o c\\xE1o t\\u1ED5ng quan\"}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Doanh thu h\\xF4m nay\",value:stats.today_revenue||0,precision:0,formatter:value=>formatCurrency(value),prefix:/*#__PURE__*/_jsx(DollarOutlined,{}),valueStyle:{color:'#3f8600'},suffix:/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'14px',color:'#999'},children:[/*#__PURE__*/_jsx(ArrowUpOutlined,{}),\" +12.5%\"]})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110\\u01A1n h\\xE0ng h\\xF4m nay\",value:stats.today_orders||0,prefix:/*#__PURE__*/_jsx(ShoppingOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng s\\u1EA3n ph\\u1EA9m\",value:productStats.totalProducts,prefix:/*#__PURE__*/_jsx(AppstoreOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng doanh thu\",value:stats.total_revenue||0,precision:0,formatter:value=>formatCurrency(value),prefix:/*#__PURE__*/_jsx(TeamOutlined,{}),valueStyle:{color:'#fa8c16'}})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EA3n ph\\u1EA9m c\\xF2n h\\xE0ng\",value:productStats.inStock,valueStyle:{color:'#52c41a'},suffix:\"/ \".concat(productStats.totalProducts)})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EA3n ph\\u1EA9m h\\u1EBFt h\\xE0ng\",value:productStats.outOfStock,valueStyle:{color:'#ff4d4f'},suffix:\"/ \".concat(productStats.totalProducts)})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EAFp h\\u1EBFt h\\xE0ng\",value:productStats.lowStock,valueStyle:{color:'#faad14'},suffix:\"s\\u1EA3n ph\\u1EA9m\"})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Gi\\xE1 tr\\u1ECB t\\u1ED3n kho\",value:productStats.totalStockValue,precision:0,formatter:value=>formatCurrency(value),valueStyle:{color:'#13c2c2'}})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Top s\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y\",loading:loading,children:/*#__PURE__*/_jsx(Table,{dataSource:topProducts,columns:topProductsColumns,rowKey:\"name\",pagination:false,size:\"small\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"S\\u1EA3n ph\\u1EA9m s\\u1EAFp h\\u1EBFt h\\xE0ng\",loading:loading,extra:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[productStats.lowStock,\" s\\u1EA3n ph\\u1EA9m\"]}),children:/*#__PURE__*/_jsx(Table,{dataSource:lowStockProducts,columns:lowStockColumns,rowKey:\"id\",pagination:false,size:\"small\"})})})]}),/*#__PURE__*/_jsx(Row,{gutter:16,style:{marginTop:24},children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Card,{title:\"T\\xF3m t\\u1EAFt ho\\u1EA1t \\u0111\\u1ED9ng\",children:/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsxs(Title,{level:3,style:{color:'#1890ff',margin:0},children:[(productStats.inStock/productStats.totalProducts*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"T\\u1EF7 l\\u1EC7 s\\u1EA3n ph\\u1EA9m c\\xF2n h\\xE0ng\"})]})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(Title,{level:3,style:{color:'#52c41a',margin:0},children:stats.today_orders||0}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u0110\\u01A1n h\\xE0ng h\\xF4m nay\"})]})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px'},children:[/*#__PURE__*/_jsx(Title,{level:3,style:{color:'#722ed1',margin:0},children:stats.total_orders?(stats.total_revenue/stats.total_orders).toFixed(0):0}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Gi\\xE1 tr\\u1ECB \\u0111\\u01A1n h\\xE0ng trung b\\xECnh\"})]})})]})})})})]});}export default ReportsPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Row","Col","Statistic","Typography","DatePicker","Space","Button","Table","Progress","ArrowUpOutlined","ArrowDownOutlined","DollarOutlined","ShoppingOutlined","AppstoreOutlined","TeamOutlined","ordersAPI","productsAPI","formatCurrency","formatDate","jsx","_jsx","jsxs","_jsxs","Title","Text","RangePicker","ReportsPage","stats","setStats","products","setProducts","orders","setOrders","loading","setLoading","loadData","statsResponse","getStats","data","success","productsResponse","getAll","ordersResponse","limit","error","console","getProductStats","totalProducts","length","inStock","filter","p","quantity","outOfStock","lowStock","totalStockValue","reduce","sum","price","getTopProducts","productSales","forEach","order","items","item","product_id","revenue","subtotal","name","product_name","Object","values","sort","a","b","slice","getLowStockProducts","productStats","topProducts","lowStockProducts","topProductsColumns","title","dataIndex","key","ellipsis","width","sorter","render","lowStockColumns","style","color","children","percent","Math","min","size","status","showInfo","level","gutter","marginBottom","span","value","today_revenue","precision","formatter","prefix","valueStyle","suffix","fontSize","today_orders","total_revenue","concat","dataSource","columns","rowKey","pagination","extra","type","marginTop","textAlign","padding","margin","toFixed","total_orders"],"sources":["C:/Users/ADMIN/Desktop/kho/client/src/pages/ReportsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Typography,\r\n  DatePicker,\r\n  Space,\r\n  Button,\r\n  Table,\r\n  Progress\r\n} from 'antd';\r\nimport {\r\n  ArrowUpOutlined,\r\n  ArrowDownOutlined,\r\n  DollarOutlined,\r\n  ShoppingOutlined,\r\n  AppstoreOutlined,\r\n  TeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { ordersAPI, productsAPI } from '../services/api';\r\nimport { formatCurrency, formatDate } from '../utils/format';\r\n\r\nconst { Title, Text } = Typography;\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction ReportsPage() {\r\n  const [stats, setStats] = useState({});\r\n  const [products, setProducts] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Load thống kê tổng quan\r\n      const statsResponse = await ordersAPI.getStats();\r\n      if (statsResponse.data.success) {\r\n        setStats(statsResponse.data.data);\r\n      }\r\n\r\n      // Load sản phẩm để tính tồn kho\r\n      const productsResponse = await productsAPI.getAll();\r\n      if (productsResponse.data.success) {\r\n        setProducts(productsResponse.data.data);\r\n      }\r\n\r\n      // Load đơn hàng gần đây\r\n      const ordersResponse = await ordersAPI.getAll({ limit: 20 });\r\n      if (ordersResponse.data.success) {\r\n        setOrders(ordersResponse.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Lỗi khi tải dữ liệu báo cáo:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getProductStats = () => {\r\n    const totalProducts = products.length;\r\n    const inStock = products.filter(p => p.quantity > 0).length;\r\n    const outOfStock = products.filter(p => p.quantity === 0).length;\r\n    const lowStock = products.filter(p => p.quantity > 0 && p.quantity <= 10).length;\r\n    const totalStockValue = products.reduce((sum, p) => sum + (p.price * p.quantity), 0);\r\n    \r\n    return { totalProducts, inStock, outOfStock, lowStock, totalStockValue };\r\n  };\r\n\r\n  const getTopProducts = () => {\r\n    // Tính toán sản phẩm bán chạy từ order items\r\n    const productSales = {};\r\n    \r\n    orders.forEach(order => {\r\n      if (order.items) {\r\n        order.items.forEach(item => {\r\n          if (productSales[item.product_id]) {\r\n            productSales[item.product_id].quantity += item.quantity;\r\n            productSales[item.product_id].revenue += item.subtotal;\r\n          } else {\r\n            productSales[item.product_id] = {\r\n              name: item.product_name,\r\n              quantity: item.quantity,\r\n              revenue: item.subtotal,\r\n              price: item.price\r\n            };\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    return Object.values(productSales)\r\n      .sort((a, b) => b.quantity - a.quantity)\r\n      .slice(0, 10);\r\n  };\r\n\r\n  const getLowStockProducts = () => {\r\n    return products\r\n      .filter(p => p.quantity > 0 && p.quantity <= 10)\r\n      .sort((a, b) => a.quantity - b.quantity)\r\n      .slice(0, 10);\r\n  };\r\n\r\n  const productStats = getProductStats();\r\n  const topProducts = getTopProducts();\r\n  const lowStockProducts = getLowStockProducts();\r\n\r\n  const topProductsColumns = [\r\n    {\r\n      title: 'Sản phẩm',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      ellipsis: true\r\n    },\r\n    {\r\n      title: 'Đã bán',\r\n      dataIndex: 'quantity',\r\n      key: 'quantity',\r\n      width: 80,\r\n      sorter: (a, b) => a.quantity - b.quantity\r\n    },\r\n    {\r\n      title: 'Doanh thu',\r\n      dataIndex: 'revenue',\r\n      key: 'revenue',\r\n      width: 120,\r\n      render: (revenue) => formatCurrency(revenue),\r\n      sorter: (a, b) => a.revenue - b.revenue\r\n    }\r\n  ];\r\n\r\n  const lowStockColumns = [\r\n    {\r\n      title: 'Sản phẩm',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      ellipsis: true\r\n    },\r\n    {\r\n      title: 'Tồn kho',\r\n      dataIndex: 'quantity',\r\n      key: 'quantity',\r\n      width: 100,\r\n      render: (quantity) => (\r\n        <span style={{ color: quantity <= 5 ? '#ff4d4f' : '#faad14' }}>\r\n          {quantity}\r\n        </span>\r\n      ),\r\n      sorter: (a, b) => a.quantity - b.quantity\r\n    },\r\n    {\r\n      title: 'Mức độ',\r\n      dataIndex: 'quantity',\r\n      key: 'level',\r\n      width: 120,\r\n      render: (quantity) => (\r\n        <Progress \r\n          percent={Math.min((quantity / 10) * 100, 100)} \r\n          size=\"small\" \r\n          status={quantity <= 5 ? 'exception' : 'active'}\r\n          showInfo={false}\r\n        />\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Title level={2}>Báo cáo tổng quan</Title>\r\n      \r\n      {/* Thống kê tổng quan */}\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Doanh thu hôm nay\"\r\n              value={stats.today_revenue || 0}\r\n              precision={0}\r\n              formatter={(value) => formatCurrency(value)}\r\n              prefix={<DollarOutlined />}\r\n              valueStyle={{ color: '#3f8600' }}\r\n              suffix={\r\n                <span style={{ fontSize: '14px', color: '#999' }}>\r\n                  <ArrowUpOutlined /> +12.5%\r\n                </span>\r\n              }\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Đơn hàng hôm nay\"\r\n              value={stats.today_orders || 0}\r\n              prefix={<ShoppingOutlined />}\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng sản phẩm\"\r\n              value={productStats.totalProducts}\r\n              prefix={<AppstoreOutlined />}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng doanh thu\"\r\n              value={stats.total_revenue || 0}\r\n              precision={0}\r\n              formatter={(value) => formatCurrency(value)}\r\n              prefix={<TeamOutlined />}\r\n              valueStyle={{ color: '#fa8c16' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Thống kê tồn kho */}\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sản phẩm còn hàng\"\r\n              value={productStats.inStock}\r\n              valueStyle={{ color: '#52c41a' }}\r\n              suffix={`/ ${productStats.totalProducts}`}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sản phẩm hết hàng\"\r\n              value={productStats.outOfStock}\r\n              valueStyle={{ color: '#ff4d4f' }}\r\n              suffix={`/ ${productStats.totalProducts}`}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sắp hết hàng\"\r\n              value={productStats.lowStock}\r\n              valueStyle={{ color: '#faad14' }}\r\n              suffix=\"sản phẩm\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Giá trị tồn kho\"\r\n              value={productStats.totalStockValue}\r\n              precision={0}\r\n              formatter={(value) => formatCurrency(value)}\r\n              valueStyle={{ color: '#13c2c2' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Bảng thống kê */}\r\n      <Row gutter={16}>\r\n        <Col span={12}>\r\n          <Card title=\"Top sản phẩm bán chạy\" loading={loading}>\r\n            <Table\r\n              dataSource={topProducts}\r\n              columns={topProductsColumns}\r\n              rowKey=\"name\"\r\n              pagination={false}\r\n              size=\"small\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        \r\n        <Col span={12}>\r\n          <Card \r\n            title=\"Sản phẩm sắp hết hàng\" \r\n            loading={loading}\r\n            extra={\r\n              <Text type=\"secondary\">\r\n                {productStats.lowStock} sản phẩm\r\n              </Text>\r\n            }\r\n          >\r\n            <Table\r\n              dataSource={lowStockProducts}\r\n              columns={lowStockColumns}\r\n              rowKey=\"id\"\r\n              pagination={false}\r\n              size=\"small\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Thông tin thêm */}\r\n      <Row gutter={16} style={{ marginTop: 24 }}>\r\n        <Col span={24}>\r\n          <Card title=\"Tóm tắt hoạt động\">\r\n            <Row gutter={16}>\r\n              <Col span={8}>\r\n                <div style={{ textAlign: 'center', padding: '20px' }}>\r\n                  <Title level={3} style={{ color: '#1890ff', margin: 0 }}>\r\n                    {((productStats.inStock / productStats.totalProducts) * 100).toFixed(1)}%\r\n                  </Title>\r\n                  <Text type=\"secondary\">Tỷ lệ sản phẩm còn hàng</Text>\r\n                </div>\r\n              </Col>\r\n              <Col span={8}>\r\n                <div style={{ textAlign: 'center', padding: '20px' }}>\r\n                  <Title level={3} style={{ color: '#52c41a', margin: 0 }}>\r\n                    {stats.today_orders || 0}\r\n                  </Title>\r\n                  <Text type=\"secondary\">Đơn hàng hôm nay</Text>\r\n                </div>\r\n              </Col>\r\n              <Col span={8}>\r\n                <div style={{ textAlign: 'center', padding: '20px' }}>\r\n                  <Title level={3} style={{ color: '#722ed1', margin: 0 }}>\r\n                    {stats.total_orders ? (stats.total_revenue / stats.total_orders).toFixed(0) : 0}\r\n                  </Title>\r\n                  <Text type=\"secondary\">Giá trị đơn hàng trung bình</Text>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}