{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Row,Col,Statistic,Select,DatePicker,Table,Space,Button,Tabs,Progress,List,Tag,Tooltip,Alert,Typography,Divider}from'antd';import{LineChart,Line,AreaChart,Area,BarChart,Bar,PieChart,Pie,Cell,XAxis,YAxis,CartesianGrid,Tooltip as RechartsTooltip,ResponsiveContainer,Legend}from'recharts';import{DollarOutlined,ShoppingCartOutlined,UserOutlined,RiseOutlined,FallOutlined,DownloadOutlined,BarChartOutlined,PieChartOutlined,LineChartOutlined}from'@ant-design/icons';import{reportsAPI,ordersAPI}from'../services/api';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;const{RangePicker}=DatePicker;const{TabPane}=Tabs;const{Title,Text}=Typography;const EnhancedReportsPage=()=>{const[loading,setLoading]=useState(false);const[dateRange,setDateRange]=useState([moment().subtract(30,'days'),moment()]);const[reportType,setReportType]=useState('overview');const[dashboardStats,setDashboardStats]=useState({});const[salesData,setSalesData]=useState([]);const[bestSellingProducts,setBestSellingProducts]=useState([]);const[categoryStats,setCategoryStats]=useState([]);const[profitData,setProfitData]=useState([]);const[customerStats,setCustomerStats]=useState([]);const COLORS=['#8884d8','#82ca9d','#ffc658','#ff7300','#0088fe','#00c49f'];useEffect(()=>{fetchAllReports();},[dateRange]);const fetchAllReports=async()=>{setLoading(true);try{await Promise.all([fetchDashboardStats(),fetchSalesData(),fetchBestSellingProducts(),fetchCategoryStats(),fetchProfitData(),fetchCustomerStats()]);}catch(error){console.error('Error fetching reports:',error);}finally{setLoading(false);}};const fetchDashboardStats=async()=>{try{const response=await reportsAPI.getDashboardStats();if(response.data.success){setDashboardStats(response.data.data);}}catch(error){console.error('Error fetching dashboard stats:',error);}};const fetchSalesData=async()=>{try{const response=await reportsAPI.getSalesReport({start_date:dateRange[0].format('YYYY-MM-DD'),end_date:dateRange[1].format('YYYY-MM-DD')});if(response.data.success){setSalesData(response.data.data);}}catch(error){// Mock data for demo\nconst mockData=Array.from({length:30},(_,i)=>({date:moment().subtract(29-i,'days').format('DD/MM'),revenue:Math.floor(Math.random()*50000000)+10000000,orders:Math.floor(Math.random()*100)+20,profit:Math.floor(Math.random()*15000000)+3000000}));setSalesData(mockData);}};const fetchBestSellingProducts=async()=>{try{const response=await reportsAPI.getBestSelling({limit:10});if(response.data.success){setBestSellingProducts(response.data.data);}}catch(error){// Mock data for computer products\nconst mockProducts=[{name:'CPU Intel Core i7-12700K',total_sold:45,revenue:450000000,category:'CPU'},{name:'GPU RTX 4070 Ti',total_sold:35,revenue:875000000,category:'GPU'},{name:'RAM DDR4 16GB Corsair',total_sold:120,revenue:240000000,category:'RAM'},{name:'SSD Samsung 970 EVO 1TB',total_sold:80,revenue:320000000,category:'SSD/HDD'},{name:'Mainboard ASUS ROG Z690',total_sold:25,revenue:375000000,category:'Mainboard'},{name:'PSU Corsair 750W Gold',total_sold:60,revenue:180000000,category:'PSU'},{name:'Gaming Monitor 27\" 144Hz',total_sold:40,revenue:320000000,category:'Monitor'},{name:'Mechanical Keyboard RGB',total_sold:90,revenue:135000000,category:'Keyboard'},{name:'Gaming Mouse Logitech',total_sold:110,revenue:110000000,category:'Mouse'},{name:'Gaming Laptop ROG',total_sold:15,revenue:450000000,category:'Laptop'}];setBestSellingProducts(mockProducts);}};const fetchCategoryStats=async()=>{// Mock category data for computer store\nconst mockCategories=[{category:'GPU',revenue:875000000,percentage:25},{category:'CPU',revenue:680000000,percentage:19},{category:'Laptop',revenue:650000000,percentage:18},{category:'Monitor',revenue:420000000,percentage:12},{category:'RAM',revenue:350000000,percentage:10},{category:'SSD/HDD',revenue:320000000,percentage:9},{category:'Others',revenue:245000000,percentage:7}];setCategoryStats(mockCategories);};const fetchProfitData=async()=>{// Mock profit data\nconst mockProfit=Array.from({length:12},(_,i)=>({month:moment().subtract(11-i,'months').format('MM/YYYY'),revenue:Math.floor(Math.random()*200000000)+100000000,cost:Math.floor(Math.random()*140000000)+70000000,profit:0}));mockProfit.forEach(item=>{item.profit=item.revenue-item.cost;});setProfitData(mockProfit);};const fetchCustomerStats=async()=>{// Mock customer data\nconst mockCustomers=[{type:'Khách lẻ',count:850,revenue:1200000000},{type:'Khách VIP',count:120,revenue:800000000},{type:'Khách sỉ',count:45,revenue:1500000000}];setCustomerStats(mockCustomers);};const renderOverviewTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Doanh thu h\\xF4m nay\",value:dashboardStats.today_revenue||12500000,prefix:/*#__PURE__*/_jsx(DollarOutlined,{}),suffix:\"\\u20AB\",valueStyle:{color:'#3f8600'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110\\u01A1n h\\xE0ng h\\xF4m nay\",value:dashboardStats.today_orders||24,prefix:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Kh\\xE1ch h\\xE0ng m\\u1EDBi\",value:15,prefix:/*#__PURE__*/_jsx(UserOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1EF7 l\\u1EC7 l\\u1EE3i nhu\\u1EADn\",value:28.5,prefix:/*#__PURE__*/_jsx(RiseOutlined,{}),suffix:\"%\",valueStyle:{color:'#cf1322'}})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Card,{title:\"Bi\\u1EC3u \\u0111\\u1ED3 doanh thu 30 ng\\xE0y qua\",loading:loading,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(AreaChart,{data:salesData,children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorRevenue\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#8884d8\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#8884d8\",stopOpacity:0})]})}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:value=>[\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\"),'Doanh thu']}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"revenue\",stroke:\"#8884d8\",fillOpacity:1,fill:\"url(#colorRevenue)\"})]})})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n b\\u1ED1 theo danh m\\u1EE5c\",loading:loading,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:categoryStats,cx:\"50%\",cy:\"50%\",outerRadius:80,fill:\"#8884d8\",dataKey:\"percentage\",label:_ref=>{let{category,percentage}=_ref;return\"\".concat(category,\": \").concat(percentage,\"%\");},children:categoryStats.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(RechartsTooltip,{})]})})})})]}),/*#__PURE__*/_jsx(Card,{title:\"S\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y nh\\u1EA5t\",loading:loading,children:/*#__PURE__*/_jsx(Table,{dataSource:bestSellingProducts,pagination:false,size:\"small\",columns:[{title:'Sản phẩm',dataIndex:'name',key:'name',render:(name,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:name}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",size:\"small\",children:record.category})]})},{title:'Đã bán',dataIndex:'total_sold',key:'total_sold',width:100,sorter:(a,b)=>a.total_sold-b.total_sold},{title:'Doanh thu',dataIndex:'revenue',key:'revenue',width:150,render:revenue=>\"\".concat(revenue.toLocaleString('vi-VN'),\" \\u20AB\"),sorter:(a,b)=>a.revenue-b.revenue},{title:'Tỷ lệ',key:'progress',width:100,render:(_,record)=>{const maxSold=Math.max(...bestSellingProducts.map(p=>p.total_sold));const percentage=record.total_sold/maxSold*100;return/*#__PURE__*/_jsx(Progress,{percent:percentage,size:\"small\",showInfo:false});}}]})})]});const renderSalesTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Doanh thu theo th\\u1EDDi gian\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(LineChart,{data:salesData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:value=>[\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\"),'Doanh thu']}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"revenue\",stroke:\"#8884d8\",name:\"Doanh thu\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"profit\",stroke:\"#82ca9d\",name:\"L\\u1EE3i nhu\\u1EADn\"})]})})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng theo ng\\xE0y\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:salesData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"orders\",fill:\"#ffc658\",name:\"\\u0110\\u01A1n h\\xE0ng\"})]})})})})]}),/*#__PURE__*/_jsx(Card,{title:\"Th\\u1ED1ng k\\xEA kh\\xE1ch h\\xE0ng\",children:/*#__PURE__*/_jsx(Row,{gutter:16,children:customerStats.map((stat,index)=>/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(Card,{size:\"small\",children:[/*#__PURE__*/_jsx(Statistic,{title:stat.type,value:stat.count,suffix:\"kh\\xE1ch\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"Doanh thu: \",stat.revenue.toLocaleString('vi-VN'),\" \\u20AB\"]})})]})},index))})})]});const renderInventoryTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Alert,{message:\"B\\xE1o c\\xE1o t\\u1ED3n kho\",description:\"Theo d\\xF5i t\\xECnh tr\\u1EA1ng t\\u1ED3n kho, s\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y v\\xE0 s\\u1EA3n ph\\u1EA9m \\u1EBF \\u1EA9m\",type:\"info\",style:{marginBottom:16}}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EA3n ph\\u1EA9m s\\u1EAFp h\\u1EBFt\",value:12,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(FallOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EA3n ph\\u1EA9m \\u1EBF \\u1EA9m\",value:8,valueStyle:{color:'#fa8c16'}})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Gi\\xE1 tr\\u1ECB t\\u1ED3n kho\",value:2500000000,suffix:\"\\u20AB\",valueStyle:{color:'#1890ff'}})})})]}),/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch t\\u1ED3n kho theo danh m\\u1EE5c\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:categoryStats,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"category\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:value=>[\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\"),'Giá trị tồn kho']}),/*#__PURE__*/_jsx(Bar,{dataKey:\"revenue\",fill:\"#8884d8\"})]})})})]});const renderProfitTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch l\\u1EE3i nhu\\u1EADn 12 th\\xE1ng\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:profitData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:(value,name)=>[\"\".concat(value.toLocaleString('vi-VN'),\" \\u20AB\"),name==='revenue'?'Doanh thu':name==='cost'?'Chi phí':'Lợi nhuận']}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"revenue\",fill:\"#8884d8\",name:\"revenue\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"cost\",fill:\"#ff7300\",name:\"cost\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"profit\",fill:\"#00c49f\",name:\"profit\"})]})})}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginTop:24},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"T\\u1EF7 su\\u1EA5t l\\u1EE3i nhu\\u1EADn\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px 0'},children:[/*#__PURE__*/_jsx(Progress,{type:\"circle\",percent:28.5,format:percent=>\"\".concat(percent,\"%\"),strokeColor:\"#52c41a\",width:120}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"T\\u1EF7 su\\u1EA5t l\\u1EE3i nhu\\u1EADn trung b\\xECnh\"})})]})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch chi ph\\xED\",children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:[{name:'Chi phí hàng hóa',value:70,color:'#ff4d4f'},{name:'Chi phí vận hành',value:15,color:'#faad14'},{name:'Chi phí marketing',value:8,color:'#1890ff'},{name:'Chi phí khác',value:7,color:'#52c41a'}],renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:4},children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[item.value,\"%\"]})]}),/*#__PURE__*/_jsx(Progress,{percent:item.value,strokeColor:item.color,showInfo:false})]})})})})})]})]});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24,display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"B\\xE1o c\\xE1o v\\xE0 ph\\xE2n t\\xEDch\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Theo d\\xF5i hi\\u1EC7u qu\\u1EA3 kinh doanh v\\xE0 ph\\xE2n t\\xEDch d\\u1EEF li\\u1EC7u\"})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(RangePicker,{value:dateRange,onChange:setDateRange,ranges:{'Hôm nay':[moment(),moment()],'7 ngày qua':[moment().subtract(6,'days'),moment()],'30 ngày qua':[moment().subtract(29,'days'),moment()],'Tháng này':[moment().startOf('month'),moment().endOf('month')],'Tháng trước':[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}}),/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),children:\"Xu\\u1EA5t b\\xE1o c\\xE1o\"})]})]}),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"overview\",size:\"large\",children:[/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarChartOutlined,{}),\"T\\u1ED5ng quan\"]}),children:renderOverviewTab()},\"overview\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(LineChartOutlined,{}),\"Doanh s\\u1ED1\"]}),children:renderSalesTab()},\"sales\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(PieChartOutlined,{}),\"T\\u1ED3n kho\"]}),children:renderInventoryTab()},\"inventory\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(DollarOutlined,{}),\"L\\u1EE3i nhu\\u1EADn\"]}),children:renderProfitTab()},\"profit\")]})]});};export default EnhancedReportsPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Row","Col","Statistic","Select","DatePicker","Table","Space","Button","Tabs","Progress","List","Tag","Tooltip","Alert","Typography","Divider","LineChart","Line","AreaChart","Area","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","RechartsTooltip","ResponsiveContainer","Legend","DollarOutlined","ShoppingCartOutlined","UserOutlined","RiseOutlined","FallOutlined","DownloadOutlined","BarChartOutlined","PieChartOutlined","LineChartOutlined","reportsAPI","ordersAPI","moment","jsx","_jsx","jsxs","_jsxs","Option","RangePicker","TabPane","Title","Text","EnhancedReportsPage","loading","setLoading","dateRange","setDateRange","subtract","reportType","setReportType","dashboardStats","setDashboardStats","salesData","setSalesData","bestSellingProducts","setBestSellingProducts","categoryStats","setCategoryStats","profitData","setProfitData","customerStats","setCustomerStats","COLORS","fetchAllReports","Promise","all","fetchDashboardStats","fetchSalesData","fetchBestSellingProducts","fetchCategoryStats","fetchProfitData","fetchCustomerStats","error","console","response","getDashboardStats","data","success","getSalesReport","start_date","format","end_date","mockData","Array","from","length","_","i","date","revenue","Math","floor","random","orders","profit","getBestSelling","limit","mockProducts","name","total_sold","category","mockCategories","percentage","mockProfit","month","cost","forEach","item","mockCustomers","type","count","renderOverviewTab","children","gutter","style","marginBottom","span","title","value","today_revenue","prefix","suffix","valueStyle","color","today_orders","width","height","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","tickFormatter","concat","toFixed","strokeDasharray","formatter","toLocaleString","stroke","fillOpacity","fill","cx","cy","outerRadius","label","_ref","map","entry","index","dataSource","pagination","size","columns","dataIndex","key","render","record","sorter","a","b","maxSold","max","p","percent","showInfo","renderSalesTab","stat","marginTop","renderInventoryTab","message","description","renderProfitTab","textAlign","padding","strokeColor","strong","renderItem","Item","display","justifyContent","alignItems","level","onChange","ranges","startOf","endOf","icon","defaultActiveKey","tab"],"sources":["C:/Users/ADMIN/Desktop/kho/client/src/pages/EnhancedReportsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Select,\r\n  DatePicker,\r\n  Table,\r\n  Space,\r\n  Button,\r\n  Tabs,\r\n  Progress,\r\n  List,\r\n  Tag,\r\n  Tooltip,\r\n  Alert,\r\n  Typography,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  ResponsiveContainer,\r\n  Legend,\r\n} from 'recharts';\r\nimport {\r\n  DollarOutlined,\r\n  ShoppingCartOutlined,\r\n  UserOutlined,\r\n  RiseOutlined,\r\n  FallOutlined,\r\n  DownloadOutlined,\r\n  BarChartOutlined,\r\n  PieChartOutlined,\r\n  LineChartOutlined,\r\n} from '@ant-design/icons';\r\nimport { reportsAPI, ordersAPI } from '../services/api';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { Title, Text } = Typography;\r\n\r\nconst EnhancedReportsPage = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dateRange, setDateRange] = useState([\r\n    moment().subtract(30, 'days'),\r\n    moment(),\r\n  ]);\r\n  const [reportType, setReportType] = useState('overview');\r\n  const [dashboardStats, setDashboardStats] = useState({});\r\n  const [salesData, setSalesData] = useState([]);\r\n  const [bestSellingProducts, setBestSellingProducts] = useState([]);\r\n  const [categoryStats, setCategoryStats] = useState([]);\r\n  const [profitData, setProfitData] = useState([]);\r\n  const [customerStats, setCustomerStats] = useState([]);\r\n\r\n  const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#0088fe', '#00c49f'];\r\n\r\n  useEffect(() => {\r\n    fetchAllReports();\r\n  }, [dateRange]);\r\n\r\n  const fetchAllReports = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await Promise.all([\r\n        fetchDashboardStats(),\r\n        fetchSalesData(),\r\n        fetchBestSellingProducts(),\r\n        fetchCategoryStats(),\r\n        fetchProfitData(),\r\n        fetchCustomerStats(),\r\n      ]);\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDashboardStats = async () => {\r\n    try {\r\n      const response = await reportsAPI.getDashboardStats();\r\n      if (response.data.success) {\r\n        setDashboardStats(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard stats:', error);\r\n    }\r\n  };\r\n\r\n  const fetchSalesData = async () => {\r\n    try {\r\n      const response = await reportsAPI.getSalesReport({\r\n        start_date: dateRange[0].format('YYYY-MM-DD'),\r\n        end_date: dateRange[1].format('YYYY-MM-DD'),\r\n      });\r\n      if (response.data.success) {\r\n        setSalesData(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      // Mock data for demo\r\n      const mockData = Array.from({ length: 30 }, (_, i) => ({\r\n        date: moment().subtract(29 - i, 'days').format('DD/MM'),\r\n        revenue: Math.floor(Math.random() * 50000000) + 10000000,\r\n        orders: Math.floor(Math.random() * 100) + 20,\r\n        profit: Math.floor(Math.random() * 15000000) + 3000000,\r\n      }));\r\n      setSalesData(mockData);\r\n    }\r\n  };\r\n\r\n  const fetchBestSellingProducts = async () => {\r\n    try {\r\n      const response = await reportsAPI.getBestSelling({ limit: 10 });\r\n      if (response.data.success) {\r\n        setBestSellingProducts(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      // Mock data for computer products\r\n      const mockProducts = [\r\n        { name: 'CPU Intel Core i7-12700K', total_sold: 45, revenue: 450000000, category: 'CPU' },\r\n        { name: 'GPU RTX 4070 Ti', total_sold: 35, revenue: 875000000, category: 'GPU' },\r\n        { name: 'RAM DDR4 16GB Corsair', total_sold: 120, revenue: 240000000, category: 'RAM' },\r\n        { name: 'SSD Samsung 970 EVO 1TB', total_sold: 80, revenue: 320000000, category: 'SSD/HDD' },\r\n        { name: 'Mainboard ASUS ROG Z690', total_sold: 25, revenue: 375000000, category: 'Mainboard' },\r\n        { name: 'PSU Corsair 750W Gold', total_sold: 60, revenue: 180000000, category: 'PSU' },\r\n        { name: 'Gaming Monitor 27\" 144Hz', total_sold: 40, revenue: 320000000, category: 'Monitor' },\r\n        { name: 'Mechanical Keyboard RGB', total_sold: 90, revenue: 135000000, category: 'Keyboard' },\r\n        { name: 'Gaming Mouse Logitech', total_sold: 110, revenue: 110000000, category: 'Mouse' },\r\n        { name: 'Gaming Laptop ROG', total_sold: 15, revenue: 450000000, category: 'Laptop' },\r\n      ];\r\n      setBestSellingProducts(mockProducts);\r\n    }\r\n  };\r\n\r\n  const fetchCategoryStats = async () => {\r\n    // Mock category data for computer store\r\n    const mockCategories = [\r\n      { category: 'GPU', revenue: 875000000, percentage: 25 },\r\n      { category: 'CPU', revenue: 680000000, percentage: 19 },\r\n      { category: 'Laptop', revenue: 650000000, percentage: 18 },\r\n      { category: 'Monitor', revenue: 420000000, percentage: 12 },\r\n      { category: 'RAM', revenue: 350000000, percentage: 10 },\r\n      { category: 'SSD/HDD', revenue: 320000000, percentage: 9 },\r\n      { category: 'Others', revenue: 245000000, percentage: 7 },\r\n    ];\r\n    setCategoryStats(mockCategories);\r\n  };\r\n\r\n  const fetchProfitData = async () => {\r\n    // Mock profit data\r\n    const mockProfit = Array.from({ length: 12 }, (_, i) => ({\r\n      month: moment().subtract(11 - i, 'months').format('MM/YYYY'),\r\n      revenue: Math.floor(Math.random() * 200000000) + 100000000,\r\n      cost: Math.floor(Math.random() * 140000000) + 70000000,\r\n      profit: 0,\r\n    }));\r\n    \r\n    mockProfit.forEach(item => {\r\n      item.profit = item.revenue - item.cost;\r\n    });\r\n    \r\n    setProfitData(mockProfit);\r\n  };\r\n\r\n  const fetchCustomerStats = async () => {\r\n    // Mock customer data\r\n    const mockCustomers = [\r\n      { type: 'Khách lẻ', count: 850, revenue: 1200000000 },\r\n      { type: 'Khách VIP', count: 120, revenue: 800000000 },\r\n      { type: 'Khách sỉ', count: 45, revenue: 1500000000 },\r\n    ];\r\n    setCustomerStats(mockCustomers);\r\n  };\r\n\r\n  const renderOverviewTab = () => (\r\n    <div>\r\n      {/* Key Statistics */}\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Doanh thu hôm nay\"\r\n              value={dashboardStats.today_revenue || 12500000}\r\n              prefix={<DollarOutlined />}\r\n              suffix=\"₫\"\r\n              valueStyle={{ color: '#3f8600' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Đơn hàng hôm nay\"\r\n              value={dashboardStats.today_orders || 24}\r\n              prefix={<ShoppingCartOutlined />}\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Khách hàng mới\"\r\n              value={15}\r\n              prefix={<UserOutlined />}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tỷ lệ lợi nhuận\"\r\n              value={28.5}\r\n              prefix={<RiseOutlined />}\r\n              suffix=\"%\"\r\n              valueStyle={{ color: '#cf1322' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Revenue Trend Chart */}\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={16}>\r\n          <Card title=\"Biểu đồ doanh thu 30 ngày qua\" loading={loading}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <AreaChart data={salesData}>\r\n                <defs>\r\n                  <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                    <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8}/>\r\n                    <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0}/>\r\n                  </linearGradient>\r\n                </defs>\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <RechartsTooltip \r\n                  formatter={(value) => [`${value.toLocaleString('vi-VN')} ₫`, 'Doanh thu']}\r\n                />\r\n                <Area\r\n                  type=\"monotone\"\r\n                  dataKey=\"revenue\"\r\n                  stroke=\"#8884d8\"\r\n                  fillOpacity={1}\r\n                  fill=\"url(#colorRevenue)\"\r\n                />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card title=\"Phân bố theo danh mục\" loading={loading}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={categoryStats}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  outerRadius={80}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"percentage\"\r\n                  label={({ category, percentage }) => `${category}: ${percentage}%`}\r\n                >\r\n                  {categoryStats.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <RechartsTooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Best Selling Products */}\r\n      <Card title=\"Sản phẩm bán chạy nhất\" loading={loading}>\r\n        <Table\r\n          dataSource={bestSellingProducts}\r\n          pagination={false}\r\n          size=\"small\"\r\n          columns={[\r\n            {\r\n              title: 'Sản phẩm',\r\n              dataIndex: 'name',\r\n              key: 'name',\r\n              render: (name, record) => (\r\n                <div>\r\n                  <div>{name}</div>\r\n                  <Tag color=\"blue\" size=\"small\">{record.category}</Tag>\r\n                </div>\r\n              ),\r\n            },\r\n            {\r\n              title: 'Đã bán',\r\n              dataIndex: 'total_sold',\r\n              key: 'total_sold',\r\n              width: 100,\r\n              sorter: (a, b) => a.total_sold - b.total_sold,\r\n            },\r\n            {\r\n              title: 'Doanh thu',\r\n              dataIndex: 'revenue',\r\n              key: 'revenue',\r\n              width: 150,\r\n              render: (revenue) => `${revenue.toLocaleString('vi-VN')} ₫`,\r\n              sorter: (a, b) => a.revenue - b.revenue,\r\n            },\r\n            {\r\n              title: 'Tỷ lệ',\r\n              key: 'progress',\r\n              width: 100,\r\n              render: (_, record) => {\r\n                const maxSold = Math.max(...bestSellingProducts.map(p => p.total_sold));\r\n                const percentage = (record.total_sold / maxSold) * 100;\r\n                return <Progress percent={percentage} size=\"small\" showInfo={false} />;\r\n              },\r\n            },\r\n          ]}\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderSalesTab = () => (\r\n    <div>\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={12}>\r\n          <Card title=\"Doanh thu theo thời gian\">\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              <LineChart data={salesData}>\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <RechartsTooltip \r\n                  formatter={(value) => [`${value.toLocaleString('vi-VN')} ₫`, 'Doanh thu']}\r\n                />\r\n                <Legend />\r\n                <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"#8884d8\" name=\"Doanh thu\" />\r\n                <Line type=\"monotone\" dataKey=\"profit\" stroke=\"#82ca9d\" name=\"Lợi nhuận\" />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Card title=\"Số đơn hàng theo ngày\">\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              <BarChart data={salesData}>\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <RechartsTooltip />\r\n                <Bar dataKey=\"orders\" fill=\"#ffc658\" name=\"Đơn hàng\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Card title=\"Thống kê khách hàng\">\r\n        <Row gutter={16}>\r\n          {customerStats.map((stat, index) => (\r\n            <Col span={8} key={index}>\r\n              <Card size=\"small\">\r\n                <Statistic\r\n                  title={stat.type}\r\n                  value={stat.count}\r\n                  suffix=\"khách\"\r\n                />\r\n                <div style={{ marginTop: 8 }}>\r\n                  <Text type=\"secondary\">\r\n                    Doanh thu: {stat.revenue.toLocaleString('vi-VN')} ₫\r\n                  </Text>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderInventoryTab = () => (\r\n    <div>\r\n      <Alert\r\n        message=\"Báo cáo tồn kho\"\r\n        description=\"Theo dõi tình trạng tồn kho, sản phẩm bán chạy và sản phẩm ế ẩm\"\r\n        type=\"info\"\r\n        style={{ marginBottom: 16 }}\r\n      />\r\n      \r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={8}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sản phẩm sắp hết\"\r\n              value={12}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<FallOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sản phẩm ế ẩm\"\r\n              value={8}\r\n              valueStyle={{ color: '#fa8c16' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Giá trị tồn kho\"\r\n              value={2500000000}\r\n              suffix=\"₫\"\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Card title=\"Phân tích tồn kho theo danh mục\">\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <BarChart data={categoryStats}>\r\n            <XAxis dataKey=\"category\" />\r\n            <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <RechartsTooltip \r\n              formatter={(value) => [`${value.toLocaleString('vi-VN')} ₫`, 'Giá trị tồn kho']}\r\n            />\r\n            <Bar dataKey=\"revenue\" fill=\"#8884d8\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderProfitTab = () => (\r\n    <div>\r\n      <Card title=\"Phân tích lợi nhuận 12 tháng\">\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <BarChart data={profitData}>\r\n            <XAxis dataKey=\"month\" />\r\n            <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <RechartsTooltip \r\n              formatter={(value, name) => [\r\n                `${value.toLocaleString('vi-VN')} ₫`,\r\n                name === 'revenue' ? 'Doanh thu' : name === 'cost' ? 'Chi phí' : 'Lợi nhuận'\r\n              ]}\r\n            />\r\n            <Legend />\r\n            <Bar dataKey=\"revenue\" fill=\"#8884d8\" name=\"revenue\" />\r\n            <Bar dataKey=\"cost\" fill=\"#ff7300\" name=\"cost\" />\r\n            <Bar dataKey=\"profit\" fill=\"#00c49f\" name=\"profit\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n\r\n      <Row gutter={16} style={{ marginTop: 24 }}>\r\n        <Col span={12}>\r\n          <Card title=\"Tỷ suất lợi nhuận\">\r\n            <div style={{ textAlign: 'center', padding: '20px 0' }}>\r\n              <Progress\r\n                type=\"circle\"\r\n                percent={28.5}\r\n                format={(percent) => `${percent}%`}\r\n                strokeColor=\"#52c41a\"\r\n                width={120}\r\n              />\r\n              <div style={{ marginTop: 16 }}>\r\n                <Text strong>Tỷ suất lợi nhuận trung bình</Text>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Card title=\"Phân tích chi phí\">\r\n            <List\r\n              size=\"small\"\r\n              dataSource={[\r\n                { name: 'Chi phí hàng hóa', value: 70, color: '#ff4d4f' },\r\n                { name: 'Chi phí vận hành', value: 15, color: '#faad14' },\r\n                { name: 'Chi phí marketing', value: 8, color: '#1890ff' },\r\n                { name: 'Chi phí khác', value: 7, color: '#52c41a' },\r\n              ]}\r\n              renderItem={(item) => (\r\n                <List.Item>\r\n                  <div style={{ width: '100%' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 4 }}>\r\n                      <span>{item.name}</span>\r\n                      <span>{item.value}%</span>\r\n                    </div>\r\n                    <Progress percent={item.value} strokeColor={item.color} showInfo={false} />\r\n                  </div>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div style={{ padding: '24px' }}>\r\n      <div style={{ marginBottom: 24, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n          <Title level={2}>Báo cáo và phân tích</Title>\r\n          <Text type=\"secondary\">Theo dõi hiệu quả kinh doanh và phân tích dữ liệu</Text>\r\n        </div>\r\n        \r\n        <Space>\r\n          <RangePicker\r\n            value={dateRange}\r\n            onChange={setDateRange}\r\n            ranges={{\r\n              'Hôm nay': [moment(), moment()],\r\n              '7 ngày qua': [moment().subtract(6, 'days'), moment()],\r\n              '30 ngày qua': [moment().subtract(29, 'days'), moment()],\r\n              'Tháng này': [moment().startOf('month'), moment().endOf('month')],\r\n              'Tháng trước': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],\r\n            }}\r\n          />\r\n          <Button type=\"primary\" icon={<DownloadOutlined />}>\r\n            Xuất báo cáo\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n\r\n      <Tabs defaultActiveKey=\"overview\" size=\"large\">\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <BarChartOutlined />\r\n              Tổng quan\r\n            </span>\r\n          }\r\n          key=\"overview\"\r\n        >\r\n          {renderOverviewTab()}\r\n        </TabPane>\r\n        \r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <LineChartOutlined />\r\n              Doanh số\r\n            </span>\r\n          }\r\n          key=\"sales\"\r\n        >\r\n          {renderSalesTab()}\r\n        </TabPane>\r\n        \r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <PieChartOutlined />\r\n              Tồn kho\r\n            </span>\r\n          }\r\n          key=\"inventory\"\r\n        >\r\n          {renderInventoryTab()}\r\n        </TabPane>\r\n        \r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <DollarOutlined />\r\n              Lợi nhuận\r\n            </span>\r\n          }\r\n          key=\"profit\"\r\n        >\r\n          {renderProfitTab()}\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedReportsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}