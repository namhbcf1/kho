{"ast":null,"code":"// AI-Powered Error Monitor & Auto-Fix System\n// Tự động bắt và phân tích lỗi, đưa ra giải pháp sửa chữa\nimport api from'./api';class AIErrorMonitor{constructor(){this.errors=[];this.apiErrors=[];this.consoleErrors=[];this.isMonitoring=false;this.aiEndpoint='/ai/analyze-error';this.autoFixEnabled=true;this.init();}init(){console.log('🤖 AI Error Monitor khởi động...');// Bắt tất cả lỗi console\nthis.interceptConsoleErrors();// Bắt tất cả lỗi API\nthis.interceptAPIErrors();// Bắt lỗi React/JS runtime\nthis.interceptRuntimeErrors();// Bắt lỗi unhandled promise\nthis.interceptPromiseErrors();// Bắt lỗi network\nthis.interceptNetworkErrors();this.isMonitoring=true;console.log('✅ AI Error Monitor đã sẵn sàng - Sẽ tự động sửa lỗi!');}// Bắt tất cả lỗi console (error, warn, debug)\ninterceptConsoleErrors(){var _this=this;const originalError=console.error;const originalWarn=console.warn;console.error=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this.captureConsoleError('error',args);originalError.apply(console,args);};console.warn=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this.captureConsoleError('warn',args);originalWarn.apply(console,args);};}// Bắt lỗi API từ axios interceptor\ninterceptAPIErrors(){// Đã có sẵn trong api.js, ta sẽ hook vào đó\nif(window.axios){window.axios.interceptors.response.use(response=>response,error=>{this.captureAPIError(error);return Promise.reject(error);});}}// Bắt lỗi runtime JavaScript\ninterceptRuntimeErrors(){window.addEventListener('error',event=>{this.captureRuntimeError(event);});}// Bắt lỗi promise không được handle\ninterceptPromiseErrors(){window.addEventListener('unhandledrejection',event=>{this.capturePromiseError(event);});}// Bắt lỗi network\ninterceptNetworkErrors(){var _this2=this;const originalFetch=window.fetch;window.fetch=async function(){try{const response=await originalFetch(...arguments);if(!response.ok){_this2.captureNetworkError(arguments.length<=0?undefined:arguments[0],response);}return response;}catch(error){_this2.captureNetworkError(arguments.length<=0?undefined:arguments[0],null,error);throw error;}};}// Ghi lại lỗi console\ncaptureConsoleError(level,args){const error={id:Date.now()+Math.random(),type:'console',level:level,message:args.join(' '),timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,stack:new Error().stack};this.consoleErrors.push(error);this.processError(error);}// Ghi lại lỗi API\ncaptureAPIError(axiosError){var _axiosError$config,_axiosError$config$me,_axiosError$config2,_axiosError$config3,_axiosError$config4,_axiosError$config5,_axiosError$response,_axiosError$response2,_axiosError$response3,_axiosError$config6,_axiosError$config7;const error={id:Date.now()+Math.random(),type:'api',method:(_axiosError$config=axiosError.config)===null||_axiosError$config===void 0?void 0:(_axiosError$config$me=_axiosError$config.method)===null||_axiosError$config$me===void 0?void 0:_axiosError$config$me.toUpperCase(),url:(_axiosError$config2=axiosError.config)===null||_axiosError$config2===void 0?void 0:_axiosError$config2.url,baseURL:(_axiosError$config3=axiosError.config)===null||_axiosError$config3===void 0?void 0:_axiosError$config3.baseURL,fullURL:\"\".concat((_axiosError$config4=axiosError.config)===null||_axiosError$config4===void 0?void 0:_axiosError$config4.baseURL).concat((_axiosError$config5=axiosError.config)===null||_axiosError$config5===void 0?void 0:_axiosError$config5.url),status:(_axiosError$response=axiosError.response)===null||_axiosError$response===void 0?void 0:_axiosError$response.status,statusText:(_axiosError$response2=axiosError.response)===null||_axiosError$response2===void 0?void 0:_axiosError$response2.statusText,data:(_axiosError$response3=axiosError.response)===null||_axiosError$response3===void 0?void 0:_axiosError$response3.data,message:axiosError.message,timestamp:new Date().toISOString(),requestData:(_axiosError$config6=axiosError.config)===null||_axiosError$config6===void 0?void 0:_axiosError$config6.data,headers:(_axiosError$config7=axiosError.config)===null||_axiosError$config7===void 0?void 0:_axiosError$config7.headers};this.apiErrors.push(error);console.log('🔴 API Error Captured:',error);this.processError(error);}// Ghi lại lỗi runtime\ncaptureRuntimeError(event){var _event$error;const error={id:Date.now()+Math.random(),type:'runtime',message:event.message,filename:event.filename,lineno:event.lineno,colno:event.colno,stack:(_event$error=event.error)===null||_event$error===void 0?void 0:_event$error.stack,timestamp:new Date().toISOString(),url:window.location.href};this.errors.push(error);this.processError(error);}// Ghi lại lỗi promise\ncapturePromiseError(event){var _event$reason,_event$reason2;const error={id:Date.now()+Math.random(),type:'promise',message:((_event$reason=event.reason)===null||_event$reason===void 0?void 0:_event$reason.message)||event.reason,stack:(_event$reason2=event.reason)===null||_event$reason2===void 0?void 0:_event$reason2.stack,timestamp:new Date().toISOString(),url:window.location.href};this.errors.push(error);this.processError(error);}// Ghi lại lỗi network\ncaptureNetworkError(url,response,error){const networkError={id:Date.now()+Math.random(),type:'network',url:url,status:response===null||response===void 0?void 0:response.status,statusText:response===null||response===void 0?void 0:response.statusText,message:(error===null||error===void 0?void 0:error.message)||\"Network error: \".concat(response===null||response===void 0?void 0:response.status),timestamp:new Date().toISOString()};this.errors.push(networkError);this.processError(networkError);}// Xử lý lỗi thông qua AI\nasync processError(error){console.log(\"\\uD83E\\uDD16 AI \\u0111ang ph\\xE2n t\\xEDch l\\u1ED7i: \".concat(error.type),error);try{// Gửi lỗi đến AI để phân tích\nconst aiResponse=await this.sendToAI(error);if(aiResponse.canAutoFix&&this.autoFixEnabled){console.log('🔧 AI đã tìm ra cách sửa, đang auto-fix...');await this.applyAutoFix(error,aiResponse.solution);}else{console.log('📋 AI gợi ý cách sửa:',aiResponse.suggestion);this.showErrorNotification(error,aiResponse);}}catch(aiError){console.log('❌ AI không thể phân tích lỗi:',aiError.message);this.showBasicErrorNotification(error);}}// Gửi lỗi đến AI backend để phân tích\nasync sendToAI(error){try{const response=await api.post(this.aiEndpoint,{error:error,context:{page:window.location.pathname,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,recentErrors:this.getRecentErrors(5),systemInfo:{url:window.location.href,viewport:\"\".concat(window.innerWidth,\"x\").concat(window.innerHeight),online:navigator.onLine}}});return response.data;}catch(error){throw new Error('AI service unavailable');}}// Áp dụng auto-fix do AI đề xuất\nasync applyAutoFix(error,solution){try{console.log('🔄 Đang áp dụng auto-fix...',solution);switch(solution.type){case'reload_page':setTimeout(()=>window.location.reload(),2000);break;case'retry_api':await this.retryFailedAPI(error,solution);break;case'clear_cache':localStorage.clear();sessionStorage.clear();break;case'update_ui_state':await this.updateUIState(solution.data);break;case'fix_code':console.log('💡 Code fix suggestion:',solution.code);break;case'show_user_message':this.showUserMessage(solution.message);break;case'redirect_to_list':this.redirectToList(solution.page);break;case'use_fallback_data':this.useFallbackData(solution.data);break;case'reload_page_section':this.reloadPageSection(solution.section);break;// ADVANCED SOLUTIONS - DEEP ANALYSIS\ncase'retry_with_backoff':this.retryWithExponentialBackoff(solution);break;case'enable_offline_mode':this.enableOfflineMode(solution);break;case'add_null_checks':this.suggestNullChecks(solution);break;case'analyze_hook_dependencies':this.analyzeHookDependencies(solution);break;case'implement_error_boundary':this.implementErrorBoundary(solution);break;case'auto_create_customer':this.autoCreateCustomer(solution);break;case'refresh_inventory_data':this.refreshInventoryData(solution);break;case'suggest_alternative_products':this.suggestAlternativeProducts(solution);break;case'refresh_auth_token':this.refreshAuthToken(solution);break;case'highlight_invalid_fields':this.highlightInvalidFields(solution);break;default:console.log('🤖 AI solution:',solution.description);}console.log('✅ Auto-fix hoàn thành!');this.showSuccessNotification(\"AI \\u0111\\xE3 t\\u1EF1 \\u0111\\u1ED9ng s\\u1EEDa l\\u1ED7i: \".concat(error.message));}catch(fixError){console.log('❌ Auto-fix thất bại:',fixError.message);}}// Retry API call theo gợi ý của AI\nasync retryFailedAPI(error,solution){if(error.type!=='api')return;try{var _error$method;const retryConfig={method:((_error$method=error.method)===null||_error$method===void 0?void 0:_error$method.toLowerCase())||'get',url:error.url,data:solution.modifiedData||JSON.parse(error.requestData||'{}'),headers:solution.modifiedHeaders||error.headers};console.log('🔄 Retry API với config mới:',retryConfig);const response=await api(retryConfig);console.log('✅ API retry thành công:',response.data);return response;}catch(retryError){console.log('❌ API retry thất bại:',retryError.message);throw retryError;}}// Cập nhật UI state theo gợi ý AI\nasync updateUIState(stateChanges){try{// Dispatch Redux actions hoặc update React state\nif(window.store&&stateChanges.redux){window.store.dispatch(stateChanges.redux);}// Update localStorage\nif(stateChanges.localStorage){Object.entries(stateChanges.localStorage).forEach(_ref=>{let[key,value]=_ref;localStorage.setItem(key,JSON.stringify(value));});}console.log('✅ UI state updated theo AI suggestion');}catch(error){console.log('❌ Không thể update UI state:',error.message);}}// Hiển thị thông báo lỗi với AI suggestion\nshowErrorNotification(error,aiResponse){const notification={type:'error',title:\"\\uD83E\\uDD16 AI Ph\\xE1t hi\\u1EC7n l\\u1ED7i: \".concat(error.type),message:error.message,suggestion:aiResponse.suggestion,action:aiResponse.action,duration:10000};this.displayNotification(notification);}// Hiển thị thông báo thành công\nshowSuccessNotification(message){const notification={type:'success',title:'🤖 AI Auto-Fix',message:message,duration:5000};this.displayNotification(notification);}// Hiển thị thông báo cơ bản\nshowBasicErrorNotification(error){console.log(\"\\uD83D\\uDD34 L\\u1ED7i \".concat(error.type,\": \").concat(error.message));}// Hiển thị notification trên UI\ndisplayNotification(notification){// Tích hợp với Ant Design notification hoặc custom notification\nif(window.antd&&window.antd.notification){window.antd.notification[notification.type]({message:notification.title,description:notification.message+(notification.suggestion?\"\\n\\uD83D\\uDCA1 \".concat(notification.suggestion):''),duration:notification.duration/1000});}else{console.log('📢 Notification:',notification);}}// Lấy lỗi gần đây\ngetRecentErrors(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;const allErrors=[...this.errors,...this.apiErrors,...this.consoleErrors];return allErrors.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp)).slice(0,count);}// Lấy thống kê lỗi\ngetErrorStats(){const allErrors=this.getRecentErrors(100);const stats={total:allErrors.length,byType:{},byPage:{},recent24h:0};const now=new Date();const yesterday=new Date(now.getTime()-24*60*60*1000);allErrors.forEach(error=>{// Count by type\nstats.byType[error.type]=(stats.byType[error.type]||0)+1;// Count by page\nconst page=error.url||'unknown';stats.byPage[page]=(stats.byPage[page]||0)+1;// Count recent 24h\nif(new Date(error.timestamp)>yesterday){stats.recent24h++;}});return stats;}// API để disable/enable auto-fix\nsetAutoFix(enabled){this.autoFixEnabled=enabled;console.log(\"\\uD83E\\uDD16 AI Auto-Fix: \".concat(enabled?'Enabled':'Disabled'));}// Hiển thị thông báo cho user\nshowUserMessage(message){try{console.log(\"\\uD83D\\uDCE2 AI Message: \".concat(message));// Sử dụng Ant Design notification nếu có\nif(window.antd&&window.antd.message){window.antd.message.warning(message);}else{// Fallback to browser notification\nalert(\"\\uD83E\\uDD16 AI: \".concat(message));}return true;}catch(error){console.error('❌ Không thể hiển thị thông báo:',error);return false;}}// Chuyển hướng về trang danh sách\nredirectToList(page){try{console.log(\"\\uD83D\\uDD04 AI Redirect to: \".concat(page));if(page&&page.startsWith('/')){// Chuyển hướng bằng window.location\nsetTimeout(()=>{window.location.href=page;},2000);}else{// Chuyển về trang chính nếu không có page cụ thể\nsetTimeout(()=>{window.location.href='/';},2000);}return true;}catch(error){console.error('❌ Không thể chuyển hướng:',error);return false;}}// Sử dụng dữ liệu fallback\nuseFallbackData(data){try{console.log('🔄 AI sử dụng fallback data:',data);// Lưu vào sessionStorage để component khác có thể sử dụng\nif(data&&typeof data==='object'){sessionStorage.setItem('ai_fallback_data',JSON.stringify(data));// Trigger custom event để components biết có fallback data\nwindow.dispatchEvent(new CustomEvent('ai-fallback-data',{detail:data}));}return true;}catch(error){console.error('❌ Không thể sử dụng fallback data:',error);return false;}}// Reload một phần cụ thể của trang\nreloadPageSection(section){try{console.log(\"\\uD83D\\uDD04 AI reload section: \".concat(section));// Dispatch event để component tự reload\nwindow.dispatchEvent(new CustomEvent('ai-reload-section',{detail:{section}}));return true;}catch(error){console.error('❌ Không thể reload section:',error);return false;}}// ============================================\n// ADVANCED SOLUTION IMPLEMENTATIONS - DEEP AI\n// ============================================\n// Retry với exponential backoff strategy\nretryWithExponentialBackoff(solution){const{strategy='exponential',maxRetries=5,baseDelay=1000}=solution;console.log(\"\\uD83D\\uDD04 AI implementing \".concat(strategy,\" backoff retry strategy\"));const retryWithDelay=attempt=>{if(attempt>=maxRetries){console.log(\"\\u274C Max retries (\".concat(maxRetries,\") reached\"));return;}const delay=strategy==='exponential'?baseDelay*Math.pow(2,attempt):baseDelay;console.log(\"\\u23F1\\uFE0F Retry attempt \".concat(attempt+1,\"/\").concat(maxRetries,\" after \").concat(delay,\"ms\"));setTimeout(()=>{// Implement actual retry logic here\nwindow.location.reload();},delay);};retryWithDelay(0);}// Enable offline mode với cache strategy\nenableOfflineMode(solution){const{cache_strategy='last_known_good',duration=30000}=solution;console.log(\"\\uD83D\\uDCF4 AI enabling offline mode with \".concat(cache_strategy,\" strategy\"));// Set offline indicator\nif(document.body){const offlineIndicator=document.createElement('div');offlineIndicator.id='ai-offline-indicator';offlineIndicator.style.cssText=\"\\n        position: fixed;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        background: #ff7875;\\n        color: white;\\n        text-align: center;\\n        padding: 8px;\\n        z-index: 9999;\\n        font-size: 14px;\\n      \";offlineIndicator.textContent='🤖 AI: Offline mode - Đang sử dụng dữ liệu cache';document.body.prepend(offlineIndicator);// Auto remove after duration\nsetTimeout(()=>{offlineIndicator===null||offlineIndicator===void 0?void 0:offlineIndicator.remove();},duration);}}// Suggest null checks cho React components\nsuggestNullChecks(solution){console.log('🛡️ AI suggesting null checks implementation:');console.log(\"\\n      \\uD83D\\uDCA1 AI Code Suggestion:\\n      \\n      // Add null checks before accessing properties\\n      const MyComponent = ({ data }) => {\\n        if (!data || !data.items) {\\n          return <div>Loading...</div>;\\n        }\\n        \\n        return (\\n          <div>\\n            {data.items?.map(item => (\\n              <div key={item?.id || 'unknown'}>\\n                {item?.name || 'Unknown'}\\n              </div>\\n            ))}\\n          </div>\\n        );\\n      };\\n    \");}// Analyze React Hook dependencies\nanalyzeHookDependencies(solution){console.log('🔍 AI analyzing React Hook dependencies:');console.log(\"\\n      \\uD83D\\uDCA1 AI Hook Analysis:\\n      \\n      \\u26A0\\uFE0F Common Issues:\\n      1. Missing dependencies in useEffect\\n      2. Stale closures in event handlers\\n      3. Infinite re-renders from object dependencies\\n      \\n      \\uD83D\\uDD27 AI Suggestions:\\n      - Add missing dependencies to dependency array\\n      - Use useCallback for function dependencies\\n      - Use useMemo for object dependencies\\n      - Consider splitting complex effects\\n      \\n      Example fix:\\n      useEffect(() => {\\n        // effect code\\n      }, [dependency1, dependency2]); // \\u2190 Add all dependencies\\n    \");}// Implement Error Boundary suggestion\nimplementErrorBoundary(solution){console.log('🚧 AI suggesting Error Boundary implementation:');console.log(\"\\n      \\uD83D\\uDCA1 AI Error Boundary Pattern:\\n      \\n      import ErrorBoundary from './components/ErrorBoundary';\\n      \\n      <ErrorBoundary fallback={<div>Something went wrong</div>}>\\n        <YourComponent />\\n      </ErrorBoundary>\\n      \\n      \\u2705 This will catch component errors and prevent crashes\\n    \");}// Auto create customer solution\nautoCreateCustomer(solution){console.log('👤 AI auto-creating customer with defaults...');const defaultCustomer={name:'Khách hàng',phone:'',customer_type:'regular',discount_rate:0};// Trigger customer creation form with defaults\nthis.showUserMessage('AI đã chuẩn bị thông tin khách hàng mặc định. Vui lòng kiểm tra và xác nhận.');return defaultCustomer;}// Refresh inventory data\nrefreshInventoryData(solution){console.log('📦 AI refreshing inventory data...');// Emit custom event to refresh inventory\nwindow.dispatchEvent(new CustomEvent('ai-refresh-inventory',{detail:{realTime:solution.real_time}}));this.showUserMessage('AI đang cập nhật dữ liệu tồn kho real-time...');}// Suggest alternative products\nsuggestAlternativeProducts(solution){console.log('🔄 AI suggesting alternative products...');this.showUserMessage('Sản phẩm không đủ stock. AI đang tìm sản phẩm tương tự...');// Emit event for product suggestions\nwindow.dispatchEvent(new CustomEvent('ai-suggest-alternatives',{detail:{similar:solution.similar}}));}// Refresh authentication token\nrefreshAuthToken(solution){console.log('🔐 AI attempting to refresh auth token...');if(solution.silent){// Silent refresh\nconsole.log('🤫 Silent token refresh...');}else{this.showUserMessage('Phiên đăng nhập hết hạn. AI đang làm mới token...');}// Trigger auth refresh\nwindow.dispatchEvent(new CustomEvent('ai-refresh-auth'));}// Highlight invalid form fields\nhighlightInvalidFields(solution){console.log('🎯 AI highlighting invalid form fields...');// Find form elements and highlight invalid ones\nconst forms=document.querySelectorAll('form');forms.forEach(form=>{const invalidInputs=form.querySelectorAll(':invalid');invalidInputs.forEach(input=>{input.style.border='2px solid #ff4d4f';input.style.boxShadow='0 0 5px rgba(255, 77, 79, 0.3)';});});this.showUserMessage('AI đã highlight các field cần sửa. Vui lòng kiểm tra lại.');}// API để lấy report tổng hợp\ngenerateReport(){const stats=this.getErrorStats();const recentErrors=this.getRecentErrors(20);return{summary:{monitoring:this.isMonitoring,autoFix:this.autoFixEnabled,totalErrors:stats.total,recent24h:stats.recent24h},stats:stats,recentErrors:recentErrors,timestamp:new Date().toISOString()};}}// Khởi tạo global error monitor\nconst aiErrorMonitor=new AIErrorMonitor();// Export để sử dụng trong các component khác\nexport default aiErrorMonitor;// Expose vào window để debug\nif(process.env.NODE_ENV==='development'){window.aiErrorMonitor=aiErrorMonitor;}","map":{"version":3,"names":["api","AIErrorMonitor","constructor","errors","apiErrors","consoleErrors","isMonitoring","aiEndpoint","autoFixEnabled","init","console","log","interceptConsoleErrors","interceptAPIErrors","interceptRuntimeErrors","interceptPromiseErrors","interceptNetworkErrors","_this","originalError","error","originalWarn","warn","_len","arguments","length","args","Array","_key","captureConsoleError","apply","_len2","_key2","window","axios","interceptors","response","use","captureAPIError","Promise","reject","addEventListener","event","captureRuntimeError","capturePromiseError","_this2","originalFetch","fetch","ok","captureNetworkError","undefined","level","id","Date","now","Math","random","type","message","join","timestamp","toISOString","url","location","href","userAgent","navigator","stack","Error","push","processError","axiosError","_axiosError$config","_axiosError$config$me","_axiosError$config2","_axiosError$config3","_axiosError$config4","_axiosError$config5","_axiosError$response","_axiosError$response2","_axiosError$response3","_axiosError$config6","_axiosError$config7","method","config","toUpperCase","baseURL","fullURL","concat","status","statusText","data","requestData","headers","_event$error","filename","lineno","colno","_event$reason","_event$reason2","reason","networkError","aiResponse","sendToAI","canAutoFix","applyAutoFix","solution","suggestion","showErrorNotification","aiError","showBasicErrorNotification","post","context","page","pathname","recentErrors","getRecentErrors","systemInfo","viewport","innerWidth","innerHeight","online","onLine","setTimeout","reload","retryFailedAPI","localStorage","clear","sessionStorage","updateUIState","code","showUserMessage","redirectToList","useFallbackData","reloadPageSection","section","retryWithExponentialBackoff","enableOfflineMode","suggestNullChecks","analyzeHookDependencies","implementErrorBoundary","autoCreateCustomer","refreshInventoryData","suggestAlternativeProducts","refreshAuthToken","highlightInvalidFields","description","showSuccessNotification","fixError","_error$method","retryConfig","toLowerCase","modifiedData","JSON","parse","modifiedHeaders","retryError","stateChanges","store","redux","dispatch","Object","entries","forEach","_ref","key","value","setItem","stringify","notification","title","action","duration","displayNotification","antd","count","allErrors","sort","a","b","slice","getErrorStats","stats","total","byType","byPage","recent24h","yesterday","getTime","setAutoFix","enabled","warning","alert","startsWith","dispatchEvent","CustomEvent","detail","strategy","maxRetries","baseDelay","retryWithDelay","attempt","delay","pow","cache_strategy","document","body","offlineIndicator","createElement","style","cssText","textContent","prepend","remove","defaultCustomer","name","phone","customer_type","discount_rate","realTime","real_time","similar","silent","forms","querySelectorAll","form","invalidInputs","input","border","boxShadow","generateReport","summary","monitoring","autoFix","totalErrors","aiErrorMonitor","process","env","NODE_ENV"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/services/errorMonitor.js"],"sourcesContent":["// AI-Powered Error Monitor & Auto-Fix System\r\n// Tự động bắt và phân tích lỗi, đưa ra giải pháp sửa chữa\r\n\r\nimport api from './api';\r\n\r\nclass AIErrorMonitor {\r\n  constructor() {\r\n    this.errors = [];\r\n    this.apiErrors = [];\r\n    this.consoleErrors = [];\r\n    this.isMonitoring = false;\r\n    this.aiEndpoint = '/ai/analyze-error';\r\n    this.autoFixEnabled = true;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('🤖 AI Error Monitor khởi động...');\r\n    \r\n    // Bắt tất cả lỗi console\r\n    this.interceptConsoleErrors();\r\n    \r\n    // Bắt tất cả lỗi API\r\n    this.interceptAPIErrors();\r\n    \r\n    // Bắt lỗi React/JS runtime\r\n    this.interceptRuntimeErrors();\r\n    \r\n    // Bắt lỗi unhandled promise\r\n    this.interceptPromiseErrors();\r\n    \r\n    // Bắt lỗi network\r\n    this.interceptNetworkErrors();\r\n    \r\n    this.isMonitoring = true;\r\n    console.log('✅ AI Error Monitor đã sẵn sàng - Sẽ tự động sửa lỗi!');\r\n  }\r\n\r\n  // Bắt tất cả lỗi console (error, warn, debug)\r\n  interceptConsoleErrors() {\r\n    const originalError = console.error;\r\n    const originalWarn = console.warn;\r\n    \r\n    console.error = (...args) => {\r\n      this.captureConsoleError('error', args);\r\n      originalError.apply(console, args);\r\n    };\r\n    \r\n    console.warn = (...args) => {\r\n      this.captureConsoleError('warn', args);\r\n      originalWarn.apply(console, args);\r\n    };\r\n  }\r\n\r\n  // Bắt lỗi API từ axios interceptor\r\n  interceptAPIErrors() {\r\n    // Đã có sẵn trong api.js, ta sẽ hook vào đó\r\n    if (window.axios) {\r\n      window.axios.interceptors.response.use(\r\n        (response) => response,\r\n        (error) => {\r\n          this.captureAPIError(error);\r\n          return Promise.reject(error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  // Bắt lỗi runtime JavaScript\r\n  interceptRuntimeErrors() {\r\n    window.addEventListener('error', (event) => {\r\n      this.captureRuntimeError(event);\r\n    });\r\n  }\r\n\r\n  // Bắt lỗi promise không được handle\r\n  interceptPromiseErrors() {\r\n    window.addEventListener('unhandledrejection', (event) => {\r\n      this.capturePromiseError(event);\r\n    });\r\n  }\r\n\r\n  // Bắt lỗi network\r\n  interceptNetworkErrors() {\r\n    const originalFetch = window.fetch;\r\n    window.fetch = async (...args) => {\r\n      try {\r\n        const response = await originalFetch(...args);\r\n        if (!response.ok) {\r\n          this.captureNetworkError(args[0], response);\r\n        }\r\n        return response;\r\n      } catch (error) {\r\n        this.captureNetworkError(args[0], null, error);\r\n        throw error;\r\n      }\r\n    };\r\n  }\r\n\r\n  // Ghi lại lỗi console\r\n  captureConsoleError(level, args) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'console',\r\n      level: level,\r\n      message: args.join(' '),\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href,\r\n      userAgent: navigator.userAgent,\r\n      stack: new Error().stack\r\n    };\r\n    \r\n    this.consoleErrors.push(error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi lại lỗi API\r\n  captureAPIError(axiosError) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'api',\r\n      method: axiosError.config?.method?.toUpperCase(),\r\n      url: axiosError.config?.url,\r\n      baseURL: axiosError.config?.baseURL,\r\n      fullURL: `${axiosError.config?.baseURL}${axiosError.config?.url}`,\r\n      status: axiosError.response?.status,\r\n      statusText: axiosError.response?.statusText,\r\n      data: axiosError.response?.data,\r\n      message: axiosError.message,\r\n      timestamp: new Date().toISOString(),\r\n      requestData: axiosError.config?.data,\r\n      headers: axiosError.config?.headers\r\n    };\r\n    \r\n    this.apiErrors.push(error);\r\n    console.log('🔴 API Error Captured:', error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi lại lỗi runtime\r\n  captureRuntimeError(event) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'runtime',\r\n      message: event.message,\r\n      filename: event.filename,\r\n      lineno: event.lineno,\r\n      colno: event.colno,\r\n      stack: event.error?.stack,\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href\r\n    };\r\n    \r\n    this.errors.push(error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi lại lỗi promise\r\n  capturePromiseError(event) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'promise',\r\n      message: event.reason?.message || event.reason,\r\n      stack: event.reason?.stack,\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href\r\n    };\r\n    \r\n    this.errors.push(error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi lại lỗi network\r\n  captureNetworkError(url, response, error) {\r\n    const networkError = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'network',\r\n      url: url,\r\n      status: response?.status,\r\n      statusText: response?.statusText,\r\n      message: error?.message || `Network error: ${response?.status}`,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    this.errors.push(networkError);\r\n    this.processError(networkError);\r\n  }\r\n\r\n  // Xử lý lỗi thông qua AI\r\n  async processError(error) {\r\n    console.log(`🤖 AI đang phân tích lỗi: ${error.type}`, error);\r\n    \r\n    try {\r\n      // Gửi lỗi đến AI để phân tích\r\n      const aiResponse = await this.sendToAI(error);\r\n      \r\n      if (aiResponse.canAutoFix && this.autoFixEnabled) {\r\n        console.log('🔧 AI đã tìm ra cách sửa, đang auto-fix...');\r\n        await this.applyAutoFix(error, aiResponse.solution);\r\n      } else {\r\n        console.log('📋 AI gợi ý cách sửa:', aiResponse.suggestion);\r\n        this.showErrorNotification(error, aiResponse);\r\n      }\r\n    } catch (aiError) {\r\n      console.log('❌ AI không thể phân tích lỗi:', aiError.message);\r\n      this.showBasicErrorNotification(error);\r\n    }\r\n  }\r\n\r\n  // Gửi lỗi đến AI backend để phân tích\r\n  async sendToAI(error) {\r\n    try {\r\n      const response = await api.post(this.aiEndpoint, {\r\n        error: error,\r\n        context: {\r\n          page: window.location.pathname,\r\n          timestamp: new Date().toISOString(),\r\n          userAgent: navigator.userAgent,\r\n          recentErrors: this.getRecentErrors(5),\r\n          systemInfo: {\r\n            url: window.location.href,\r\n            viewport: `${window.innerWidth}x${window.innerHeight}`,\r\n            online: navigator.onLine\r\n          }\r\n        }\r\n      });\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error('AI service unavailable');\r\n    }\r\n  }\r\n\r\n  // Áp dụng auto-fix do AI đề xuất\r\n  async applyAutoFix(error, solution) {\r\n    try {\r\n      console.log('🔄 Đang áp dụng auto-fix...', solution);\r\n      \r\n      switch (solution.type) {\r\n        case 'reload_page':\r\n          setTimeout(() => window.location.reload(), 2000);\r\n          break;\r\n          \r\n        case 'retry_api':\r\n          await this.retryFailedAPI(error, solution);\r\n          break;\r\n          \r\n        case 'clear_cache':\r\n          localStorage.clear();\r\n          sessionStorage.clear();\r\n          break;\r\n          \r\n        case 'update_ui_state':\r\n          await this.updateUIState(solution.data);\r\n          break;\r\n          \r\n        case 'fix_code':\r\n          console.log('💡 Code fix suggestion:', solution.code);\r\n          break;\r\n\r\n        case 'show_user_message':\r\n          this.showUserMessage(solution.message);\r\n          break;\r\n\r\n        case 'redirect_to_list':\r\n          this.redirectToList(solution.page);\r\n          break;\r\n\r\n        case 'use_fallback_data':\r\n          this.useFallbackData(solution.data);\r\n          break;\r\n\r\n        case 'reload_page_section':\r\n          this.reloadPageSection(solution.section);\r\n          break;\r\n          \r\n        // ADVANCED SOLUTIONS - DEEP ANALYSIS\r\n        case 'retry_with_backoff':\r\n          this.retryWithExponentialBackoff(solution);\r\n          break;\r\n          \r\n        case 'enable_offline_mode':\r\n          this.enableOfflineMode(solution);\r\n          break;\r\n          \r\n        case 'add_null_checks':\r\n          this.suggestNullChecks(solution);\r\n          break;\r\n          \r\n        case 'analyze_hook_dependencies':\r\n          this.analyzeHookDependencies(solution);\r\n          break;\r\n          \r\n        case 'implement_error_boundary':\r\n          this.implementErrorBoundary(solution);\r\n          break;\r\n          \r\n        case 'auto_create_customer':\r\n          this.autoCreateCustomer(solution);\r\n          break;\r\n          \r\n        case 'refresh_inventory_data':\r\n          this.refreshInventoryData(solution);\r\n          break;\r\n          \r\n        case 'suggest_alternative_products':\r\n          this.suggestAlternativeProducts(solution);\r\n          break;\r\n          \r\n        case 'refresh_auth_token':\r\n          this.refreshAuthToken(solution);\r\n          break;\r\n          \r\n        case 'highlight_invalid_fields':\r\n          this.highlightInvalidFields(solution);\r\n          break;\r\n          \r\n        default:\r\n          console.log('🤖 AI solution:', solution.description);\r\n      }\r\n      \r\n      console.log('✅ Auto-fix hoàn thành!');\r\n      this.showSuccessNotification(`AI đã tự động sửa lỗi: ${error.message}`);\r\n      \r\n    } catch (fixError) {\r\n      console.log('❌ Auto-fix thất bại:', fixError.message);\r\n    }\r\n  }\r\n\r\n  // Retry API call theo gợi ý của AI\r\n  async retryFailedAPI(error, solution) {\r\n    if (error.type !== 'api') return;\r\n    \r\n    try {\r\n      const retryConfig = {\r\n        method: error.method?.toLowerCase() || 'get',\r\n        url: error.url,\r\n        data: solution.modifiedData || JSON.parse(error.requestData || '{}'),\r\n        headers: solution.modifiedHeaders || error.headers\r\n      };\r\n      \r\n      console.log('🔄 Retry API với config mới:', retryConfig);\r\n      const response = await api(retryConfig);\r\n      console.log('✅ API retry thành công:', response.data);\r\n      \r\n      return response;\r\n    } catch (retryError) {\r\n      console.log('❌ API retry thất bại:', retryError.message);\r\n      throw retryError;\r\n    }\r\n  }\r\n\r\n  // Cập nhật UI state theo gợi ý AI\r\n  async updateUIState(stateChanges) {\r\n    try {\r\n      // Dispatch Redux actions hoặc update React state\r\n      if (window.store && stateChanges.redux) {\r\n        window.store.dispatch(stateChanges.redux);\r\n      }\r\n      \r\n      // Update localStorage\r\n      if (stateChanges.localStorage) {\r\n        Object.entries(stateChanges.localStorage).forEach(([key, value]) => {\r\n          localStorage.setItem(key, JSON.stringify(value));\r\n        });\r\n      }\r\n      \r\n      console.log('✅ UI state updated theo AI suggestion');\r\n    } catch (error) {\r\n      console.log('❌ Không thể update UI state:', error.message);\r\n    }\r\n  }\r\n\r\n  // Hiển thị thông báo lỗi với AI suggestion\r\n  showErrorNotification(error, aiResponse) {\r\n    const notification = {\r\n      type: 'error',\r\n      title: `🤖 AI Phát hiện lỗi: ${error.type}`,\r\n      message: error.message,\r\n      suggestion: aiResponse.suggestion,\r\n      action: aiResponse.action,\r\n      duration: 10000\r\n    };\r\n    \r\n    this.displayNotification(notification);\r\n  }\r\n\r\n  // Hiển thị thông báo thành công\r\n  showSuccessNotification(message) {\r\n    const notification = {\r\n      type: 'success',\r\n      title: '🤖 AI Auto-Fix',\r\n      message: message,\r\n      duration: 5000\r\n    };\r\n    \r\n    this.displayNotification(notification);\r\n  }\r\n\r\n  // Hiển thị thông báo cơ bản\r\n  showBasicErrorNotification(error) {\r\n    console.log(`🔴 Lỗi ${error.type}: ${error.message}`);\r\n  }\r\n\r\n  // Hiển thị notification trên UI\r\n  displayNotification(notification) {\r\n    // Tích hợp với Ant Design notification hoặc custom notification\r\n    if (window.antd && window.antd.notification) {\r\n      window.antd.notification[notification.type]({\r\n        message: notification.title,\r\n        description: notification.message + (notification.suggestion ? `\\n💡 ${notification.suggestion}` : ''),\r\n        duration: notification.duration / 1000\r\n      });\r\n    } else {\r\n      console.log('📢 Notification:', notification);\r\n    }\r\n  }\r\n\r\n  // Lấy lỗi gần đây\r\n  getRecentErrors(count = 10) {\r\n    const allErrors = [...this.errors, ...this.apiErrors, ...this.consoleErrors];\r\n    return allErrors\r\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n      .slice(0, count);\r\n  }\r\n\r\n  // Lấy thống kê lỗi\r\n  getErrorStats() {\r\n    const allErrors = this.getRecentErrors(100);\r\n    const stats = {\r\n      total: allErrors.length,\r\n      byType: {},\r\n      byPage: {},\r\n      recent24h: 0\r\n    };\r\n    \r\n    const now = new Date();\r\n    const yesterday = new Date(now.getTime() - 24 * 60 * 60 * 1000);\r\n    \r\n    allErrors.forEach(error => {\r\n      // Count by type\r\n      stats.byType[error.type] = (stats.byType[error.type] || 0) + 1;\r\n      \r\n      // Count by page\r\n      const page = error.url || 'unknown';\r\n      stats.byPage[page] = (stats.byPage[page] || 0) + 1;\r\n      \r\n      // Count recent 24h\r\n      if (new Date(error.timestamp) > yesterday) {\r\n        stats.recent24h++;\r\n      }\r\n    });\r\n    \r\n    return stats;\r\n  }\r\n\r\n  // API để disable/enable auto-fix\r\n  setAutoFix(enabled) {\r\n    this.autoFixEnabled = enabled;\r\n    console.log(`🤖 AI Auto-Fix: ${enabled ? 'Enabled' : 'Disabled'}`);\r\n  }\r\n\r\n  // Hiển thị thông báo cho user\r\n  showUserMessage(message) {\r\n    try {\r\n      console.log(`📢 AI Message: ${message}`);\r\n      \r\n      // Sử dụng Ant Design notification nếu có\r\n      if (window.antd && window.antd.message) {\r\n        window.antd.message.warning(message);\r\n      } else {\r\n        // Fallback to browser notification\r\n        alert(`🤖 AI: ${message}`);\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Không thể hiển thị thông báo:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Chuyển hướng về trang danh sách\r\n  redirectToList(page) {\r\n    try {\r\n      console.log(`🔄 AI Redirect to: ${page}`);\r\n      \r\n      if (page && page.startsWith('/')) {\r\n        // Chuyển hướng bằng window.location\r\n        setTimeout(() => {\r\n          window.location.href = page;\r\n        }, 2000);\r\n      } else {\r\n        // Chuyển về trang chính nếu không có page cụ thể\r\n        setTimeout(() => {\r\n          window.location.href = '/';\r\n        }, 2000);\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Không thể chuyển hướng:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Sử dụng dữ liệu fallback\r\n  useFallbackData(data) {\r\n    try {\r\n      console.log('🔄 AI sử dụng fallback data:', data);\r\n      \r\n      // Lưu vào sessionStorage để component khác có thể sử dụng\r\n      if (data && typeof data === 'object') {\r\n        sessionStorage.setItem('ai_fallback_data', JSON.stringify(data));\r\n        \r\n        // Trigger custom event để components biết có fallback data\r\n        window.dispatchEvent(new CustomEvent('ai-fallback-data', {\r\n          detail: data\r\n        }));\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Không thể sử dụng fallback data:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Reload một phần cụ thể của trang\r\n  reloadPageSection(section) {\r\n    try {\r\n      console.log(`🔄 AI reload section: ${section}`);\r\n      \r\n      // Dispatch event để component tự reload\r\n      window.dispatchEvent(new CustomEvent('ai-reload-section', {\r\n        detail: { section }\r\n      }));\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('❌ Không thể reload section:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // ADVANCED SOLUTION IMPLEMENTATIONS - DEEP AI\r\n  // ============================================\r\n  \r\n  // Retry với exponential backoff strategy\r\n  retryWithExponentialBackoff(solution) {\r\n    const { strategy = 'exponential', maxRetries = 5, baseDelay = 1000 } = solution;\r\n    \r\n    console.log(`🔄 AI implementing ${strategy} backoff retry strategy`);\r\n    \r\n    const retryWithDelay = (attempt) => {\r\n      if (attempt >= maxRetries) {\r\n        console.log(`❌ Max retries (${maxRetries}) reached`);\r\n        return;\r\n      }\r\n      \r\n      const delay = strategy === 'exponential' \r\n        ? baseDelay * Math.pow(2, attempt)\r\n        : baseDelay;\r\n      \r\n      console.log(`⏱️ Retry attempt ${attempt + 1}/${maxRetries} after ${delay}ms`);\r\n      \r\n      setTimeout(() => {\r\n        // Implement actual retry logic here\r\n        window.location.reload();\r\n      }, delay);\r\n    };\r\n    \r\n    retryWithDelay(0);\r\n  }\r\n  \r\n  // Enable offline mode với cache strategy\r\n  enableOfflineMode(solution) {\r\n    const { cache_strategy = 'last_known_good', duration = 30000 } = solution;\r\n    \r\n    console.log(`📴 AI enabling offline mode with ${cache_strategy} strategy`);\r\n    \r\n    // Set offline indicator\r\n    if (document.body) {\r\n      const offlineIndicator = document.createElement('div');\r\n      offlineIndicator.id = 'ai-offline-indicator';\r\n      offlineIndicator.style.cssText = `\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: #ff7875;\r\n        color: white;\r\n        text-align: center;\r\n        padding: 8px;\r\n        z-index: 9999;\r\n        font-size: 14px;\r\n      `;\r\n      offlineIndicator.textContent = '🤖 AI: Offline mode - Đang sử dụng dữ liệu cache';\r\n      \r\n      document.body.prepend(offlineIndicator);\r\n      \r\n      // Auto remove after duration\r\n      setTimeout(() => {\r\n        offlineIndicator?.remove();\r\n      }, duration);\r\n    }\r\n  }\r\n  \r\n  // Suggest null checks cho React components\r\n  suggestNullChecks(solution) {\r\n    console.log('🛡️ AI suggesting null checks implementation:');\r\n    console.log(`\r\n      💡 AI Code Suggestion:\r\n      \r\n      // Add null checks before accessing properties\r\n      const MyComponent = ({ data }) => {\r\n        if (!data || !data.items) {\r\n          return <div>Loading...</div>;\r\n        }\r\n        \r\n        return (\r\n          <div>\r\n            {data.items?.map(item => (\r\n              <div key={item?.id || 'unknown'}>\r\n                {item?.name || 'Unknown'}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      };\r\n    `);\r\n  }\r\n  \r\n  // Analyze React Hook dependencies\r\n  analyzeHookDependencies(solution) {\r\n    console.log('🔍 AI analyzing React Hook dependencies:');\r\n    console.log(`\r\n      💡 AI Hook Analysis:\r\n      \r\n      ⚠️ Common Issues:\r\n      1. Missing dependencies in useEffect\r\n      2. Stale closures in event handlers\r\n      3. Infinite re-renders from object dependencies\r\n      \r\n      🔧 AI Suggestions:\r\n      - Add missing dependencies to dependency array\r\n      - Use useCallback for function dependencies\r\n      - Use useMemo for object dependencies\r\n      - Consider splitting complex effects\r\n      \r\n      Example fix:\r\n      useEffect(() => {\r\n        // effect code\r\n      }, [dependency1, dependency2]); // ← Add all dependencies\r\n    `);\r\n  }\r\n  \r\n  // Implement Error Boundary suggestion\r\n  implementErrorBoundary(solution) {\r\n    console.log('🚧 AI suggesting Error Boundary implementation:');\r\n    console.log(`\r\n      💡 AI Error Boundary Pattern:\r\n      \r\n      import ErrorBoundary from './components/ErrorBoundary';\r\n      \r\n      <ErrorBoundary fallback={<div>Something went wrong</div>}>\r\n        <YourComponent />\r\n      </ErrorBoundary>\r\n      \r\n      ✅ This will catch component errors and prevent crashes\r\n    `);\r\n  }\r\n  \r\n  // Auto create customer solution\r\n  autoCreateCustomer(solution) {\r\n    console.log('👤 AI auto-creating customer with defaults...');\r\n    \r\n    const defaultCustomer = {\r\n      name: 'Khách hàng',\r\n      phone: '',\r\n      customer_type: 'regular',\r\n      discount_rate: 0\r\n    };\r\n    \r\n    // Trigger customer creation form with defaults\r\n    this.showUserMessage('AI đã chuẩn bị thông tin khách hàng mặc định. Vui lòng kiểm tra và xác nhận.');\r\n    \r\n    return defaultCustomer;\r\n  }\r\n  \r\n  // Refresh inventory data\r\n  refreshInventoryData(solution) {\r\n    console.log('📦 AI refreshing inventory data...');\r\n    \r\n    // Emit custom event to refresh inventory\r\n    window.dispatchEvent(new CustomEvent('ai-refresh-inventory', {\r\n      detail: { realTime: solution.real_time }\r\n    }));\r\n    \r\n    this.showUserMessage('AI đang cập nhật dữ liệu tồn kho real-time...');\r\n  }\r\n  \r\n  // Suggest alternative products\r\n  suggestAlternativeProducts(solution) {\r\n    console.log('🔄 AI suggesting alternative products...');\r\n    \r\n    this.showUserMessage('Sản phẩm không đủ stock. AI đang tìm sản phẩm tương tự...');\r\n    \r\n    // Emit event for product suggestions\r\n    window.dispatchEvent(new CustomEvent('ai-suggest-alternatives', {\r\n      detail: { similar: solution.similar }\r\n    }));\r\n  }\r\n  \r\n  // Refresh authentication token\r\n  refreshAuthToken(solution) {\r\n    console.log('🔐 AI attempting to refresh auth token...');\r\n    \r\n    if (solution.silent) {\r\n      // Silent refresh\r\n      console.log('🤫 Silent token refresh...');\r\n    } else {\r\n      this.showUserMessage('Phiên đăng nhập hết hạn. AI đang làm mới token...');\r\n    }\r\n    \r\n    // Trigger auth refresh\r\n    window.dispatchEvent(new CustomEvent('ai-refresh-auth'));\r\n  }\r\n  \r\n  // Highlight invalid form fields\r\n  highlightInvalidFields(solution) {\r\n    console.log('🎯 AI highlighting invalid form fields...');\r\n    \r\n    // Find form elements and highlight invalid ones\r\n    const forms = document.querySelectorAll('form');\r\n    forms.forEach(form => {\r\n      const invalidInputs = form.querySelectorAll(':invalid');\r\n      invalidInputs.forEach(input => {\r\n        input.style.border = '2px solid #ff4d4f';\r\n        input.style.boxShadow = '0 0 5px rgba(255, 77, 79, 0.3)';\r\n      });\r\n    });\r\n    \r\n    this.showUserMessage('AI đã highlight các field cần sửa. Vui lòng kiểm tra lại.');\r\n  }\r\n\r\n  // API để lấy report tổng hợp\r\n  generateReport() {\r\n    const stats = this.getErrorStats();\r\n    const recentErrors = this.getRecentErrors(20);\r\n    \r\n    return {\r\n      summary: {\r\n        monitoring: this.isMonitoring,\r\n        autoFix: this.autoFixEnabled,\r\n        totalErrors: stats.total,\r\n        recent24h: stats.recent24h\r\n      },\r\n      stats: stats,\r\n      recentErrors: recentErrors,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n  }\r\n}\r\n\r\n// Khởi tạo global error monitor\r\nconst aiErrorMonitor = new AIErrorMonitor();\r\n\r\n// Export để sử dụng trong các component khác\r\nexport default aiErrorMonitor;\r\n\r\n// Expose vào window để debug\r\nif (process.env.NODE_ENV === 'development') {\r\n  window.aiErrorMonitor = aiErrorMonitor;\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}