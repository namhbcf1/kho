{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/kho/kho/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Card,Table,Button,Input,Space,Modal,Form,Select,message,Row,Col,Statistic,Tag,Tooltip,DatePicker,Typography,Alert,Tabs,Badge,Descriptions,Divider,Rate,InputNumber,Drawer,Timeline,Empty,Spin,AutoComplete}from'antd';import{PlusOutlined,SearchOutlined,EditOutlined,EyeOutlined,ToolOutlined,ExclamationCircleOutlined,CheckCircleOutlined,ClockCircleOutlined,DeleteOutlined,FileTextOutlined,HistoryOutlined,InfoCircleOutlined,BarcodeOutlined,ShopOutlined,CalendarOutlined,WarningOutlined,SafetyOutlined,EnvironmentOutlined,ThunderboltOutlined,RobotOutlined,ScanOutlined}from'@ant-design/icons';import{warrantyAPI,customersAPI,productsAPI,usersAPI,serialsAPI,formatCurrency,formatDate}from'../services/api';import LoadingSpinner,{PageLoading,CardLoading}from'../components/LoadingSpinner';import useAPI from'../hooks/useAPI';import moment from'moment';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const{Search}=Input;const{Option}=Select;const{TabPane}=Tabs;const{Text,Title}=Typography;const WarrantyPage=()=>{const[claims,setClaims]=useState([]);const[customers,setCustomers]=useState([]);const[products,setProducts]=useState([]);const[users,setUsers]=useState([]);const[suppliers,setSuppliers]=useState([]);const[loading,setLoading]=useState(false);const[isModalVisible,setIsModalVisible]=useState(false);const[isDetailModalVisible,setIsDetailModalVisible]=useState(false);const[selectedClaim,setSelectedClaim]=useState(null);const[searchText,setSearchText]=useState('');const[filterStatus,setFilterStatus]=useState('all');const[filterPriority,setFilterPriority]=useState('all');const[stats,setStats]=useState({});const[form]=Form.useForm();// ðŸ” NEW: Serial Search State\nconst[serialSearchResults,setSerialSearchResults]=useState([]);const[serialSearchLoading,setSerialSearchLoading]=useState(false);const[serialSearchText,setSerialSearchText]=useState('');const[selectedSerial,setSelectedSerial]=useState(null);const[serialDetailDrawer,setSerialDetailDrawer]=useState(false);const[activeTab,setActiveTab]=useState('serials');// ðŸŽ¯ NEW: Quick Search & Auto-fill State\nconst[quickSearchValue,setQuickSearchValue]=useState('');const[quickSearchLoading,setQuickSearchLoading]=useState(false);const[autoFillLoading,setAutoFillLoading]=useState(false);const[serialSuggestions,setSerialSuggestions]=useState([]);// ðŸ’¼ NEW: Claims Management State - moved from duplicate\nconst claimStatuses=[{value:'pending',label:'Chá» duyá»‡t',color:'orange'},{value:'approved',label:'ÄÃ£ duyá»‡t',color:'blue'},{value:'rejected',label:'Tá»« chá»‘i',color:'red'},{value:'in_progress',label:'Äang xá»­ lÃ½',color:'purple'},{value:'completed',label:'HoÃ n thÃ nh',color:'green'},{value:'cancelled',label:'ÄÃ£ há»§y',color:'gray'}];const claimTypes=[{value:'repair',label:'Sá»­a chá»¯a'},{value:'replace',label:'Thay tháº¿'},{value:'refund',label:'HoÃ n tiá»n'}];const priorities=[{value:'low',label:'Tháº¥p',color:'green'},{value:'normal',label:'BÃ¬nh thÆ°á»ng',color:'blue'},{value:'high',label:'Cao',color:'orange'},{value:'urgent',label:'Kháº©n cáº¥p',color:'red'}];useEffect(()=>{loadData();loadStats();},[]);useEffect(()=>{if(activeTab==='claims'){fetchClaims();}},[searchText,filterStatus,filterPriority,activeTab]);const loadData=async()=>{try{const[customersRes,productsRes,usersRes,suppliersRes]=await Promise.all([customersAPI.getAll(),productsAPI.getAll(),usersAPI.getAll(),fetch('/api/suppliers').then(res=>res.json())]);if(customersRes.data.success)setCustomers(customersRes.data.data);if(productsRes.data.success)setProducts(productsRes.data.data);if(usersRes.data.success)setUsers(usersRes.data.data);if(suppliersRes.success)setSuppliers(suppliersRes.data);}catch(error){console.error('Error loading data:',error);}};const statsAPI=useAPI({showErrorMessage:false,onError:error=>{console.warn('Warranty stats failed, using fallback data');setStats({total_claims:0,pending_claims:0,in_progress_claims:0,completed_claims:0,avg_resolution_days:0});}});const loadStats=async()=>{try{await statsAPI.executeAPI(()=>warrantyAPI.getStats());if(statsAPI.data&&statsAPI.data.success){setStats(statsAPI.data.data);}}catch(error){console.log('Stats API call completed with fallback data');}};const fetchClaims=async()=>{try{setLoading(true);const params={serial_number:searchText,status:filterStatus!=='all'?filterStatus:undefined,priority:filterPriority!=='all'?filterPriority:undefined};const response=await warrantyAPI.getClaims(params);if(response.data.success){setClaims(response.data.data);}}catch(error){console.error('Error fetching claims:',error);}finally{setLoading(false);}};// ðŸ” NEW: Serial Search Functions\nconst handleSerialSearch=async query=>{if(!query||query.trim().length<2){setSerialSearchResults([]);return;}try{setSerialSearchLoading(true);const response=await serialsAPI.search(query.trim());if(response.data.success){setSerialSearchResults(response.data.data);message.success(\"T\\xECm th\\u1EA5y \".concat(response.data.data.length,\" k\\u1EBFt qu\\u1EA3\"));}else{setSerialSearchResults([]);message.info('KhÃ´ng tÃ¬m tháº¥y serial number nÃ o');}}catch(error){message.error('Lá»—i khi tÃ¬m kiáº¿m serial number');setSerialSearchResults([]);}finally{setSerialSearchLoading(false);}};// ðŸŽ¯ NEW: Quick Search from Header\nconst handleQuickSearch=async value=>{if(!(value!==null&&value!==void 0&&value.trim()))return;try{setQuickSearchLoading(true);const response=await serialsAPI.search(value.trim());if(response.data.success&&response.data.data.length>0){// Switch to serials tab and show results\nsetActiveTab('serials');setSerialSearchResults(response.data.data);setSerialSearchText(value.trim());message.success(\"\\uD83C\\uDFAF T\\xECm th\\u1EA5y \".concat(response.data.data.length,\" k\\u1EBFt qu\\u1EA3 cho \\\"\").concat(value,\"\\\"\"));}else{message.warning(\"Kh\\xF4ng t\\xECm th\\u1EA5y Serial Number \\\"\".concat(value,\"\\\"\"));}}catch(error){message.error('Lá»—i khi tÃ¬m kiáº¿m nhanh');}finally{setQuickSearchLoading(false);setQuickSearchValue('');}};// ðŸ¤– ENHANCED: Auto-fill Form when entering Serial Number\nconst handleSerialAutoFill=async serialNumber=>{if(!(serialNumber!==null&&serialNumber!==void 0&&serialNumber.trim())||serialNumber.length<3)return;try{setAutoFillLoading(true);const response=await serialsAPI.getWarrantyInfo(serialNumber.trim());if(response.data.success){const serialInfo=response.data.data;// ðŸŽ¯ ENHANCED: Find matching product from products list by name\nlet selectedProductId=serialInfo.product_id;if(!selectedProductId&&serialInfo.product_name){const matchingProduct=products.find(p=>p.name.toLowerCase().includes(serialInfo.product_name.toLowerCase())||serialInfo.product_name.toLowerCase().includes(p.name.toLowerCase()));if(matchingProduct){selectedProductId=matchingProduct.id;}}// ðŸŽ¯ ENHANCED: Find matching customer if sold\nlet selectedCustomerId=serialInfo.customer_id;if(!selectedCustomerId&&serialInfo.customer_name){const matchingCustomer=customers.find(c=>c.name.toLowerCase().includes(serialInfo.customer_name.toLowerCase())||c.phone===serialInfo.customer_phone);if(matchingCustomer){selectedCustomerId=matchingCustomer.id;}}// Auto-fill form fields with enhanced data\nform.setFieldsValue({serial_number:serialInfo.serial_number,product_id:selectedProductId,customer_id:selectedCustomerId,supplier_id:serialInfo.supplier_id||null,// ðŸŽ¯ NEW: Auto-fill supplier\nwarranty_start_date:serialInfo.warranty_start_date?moment(serialInfo.warranty_start_date):null,warranty_end_date:serialInfo.warranty_end_date?moment(serialInfo.warranty_end_date):null,issue_description:\"Y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh cho \".concat(serialInfo.product_name||'sáº£n pháº©m',\" - Serial: \").concat(serialNumber).concat(serialInfo.supplier_name?\" (NCC: \".concat(serialInfo.supplier_name,\")\"):''),claim_type:'repair',status:'pending',priority:serialInfo.warranty_status==='Sáº¯p háº¿t háº¡n'?'high':'normal'});// Show detailed success message\nconst productName=serialInfo.product_name||'N/A';const supplierName=serialInfo.supplier_name||'N/A';message.success({content:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'bold',color:'#52c41a'},children:[\"\\uD83E\\uDD16 \\u0110\\xE3 t\\u1EF1 \\u0111\\u1ED9ng \\u0111i\\u1EC1n th\\xF4ng tin cho Serial: \",serialNumber]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginTop:'4px'},children:[\"\\uD83D\\uDCE6 S\\u1EA3n ph\\u1EA9m: \",productName,\" | \\uD83C\\uDFEA NCC: \",supplierName]})]}),duration:4});}else{message.warning(\"Serial \\\"\".concat(serialNumber,\"\\\" kh\\xF4ng t\\xECm th\\u1EA5y th\\xF4ng tin. Vui l\\xF2ng ki\\u1EC3m tra l\\u1EA1i.\"));}}catch(error){message.error('KhÃ´ng thá»ƒ tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin serial');}finally{setAutoFillLoading(false);}};// ðŸ’¡ NEW: Fetch Serial Suggestions for AutoComplete\nconst fetchSerialSuggestions=async searchText=>{if(!searchText||searchText.length<2){setSerialSuggestions([]);return;}try{const response=await serialsAPI.search(searchText,{limit:10});if(response.data.success){const suggestions=response.data.data.map(item=>({value:item.serial_number,label:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'#1890ff'},children:item.serial_number}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#666'},children:item.product_name})]})}));setSerialSuggestions(suggestions);}}catch(error){setSerialSuggestions([]);}};// ðŸŽ¯ Helper Functions  \nconst showModal=function(){let claim=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setSelectedClaim(claim);setIsModalVisible(true);if(claim){form.setFieldsValue(_objectSpread(_objectSpread({},claim),{},{warranty_start_date:claim.warranty_start_date?moment(claim.warranty_start_date):null,warranty_end_date:claim.warranty_end_date?moment(claim.warranty_end_date):null,expected_completion_date:claim.expected_completion_date?moment(claim.expected_completion_date):null,actual_completion_date:claim.actual_completion_date?moment(claim.actual_completion_date):null,sent_to_supplier_date:claim.sent_to_supplier_date?moment(claim.sent_to_supplier_date):null,received_from_supplier_date:claim.received_from_supplier_date?moment(claim.received_from_supplier_date):null}));}else{form.resetFields();}};const handleSubmit=async values=>{try{var _values$warranty_star,_values$warranty_end_,_values$expected_comp,_values$actual_comple,_values$sent_to_suppl,_values$received_from;const data=_objectSpread(_objectSpread({},values),{},{warranty_start_date:(_values$warranty_star=values.warranty_start_date)===null||_values$warranty_star===void 0?void 0:_values$warranty_star.format('YYYY-MM-DD'),warranty_end_date:(_values$warranty_end_=values.warranty_end_date)===null||_values$warranty_end_===void 0?void 0:_values$warranty_end_.format('YYYY-MM-DD'),expected_completion_date:(_values$expected_comp=values.expected_completion_date)===null||_values$expected_comp===void 0?void 0:_values$expected_comp.format('YYYY-MM-DD'),actual_completion_date:(_values$actual_comple=values.actual_completion_date)===null||_values$actual_comple===void 0?void 0:_values$actual_comple.format('YYYY-MM-DD'),sent_to_supplier_date:(_values$sent_to_suppl=values.sent_to_supplier_date)===null||_values$sent_to_suppl===void 0?void 0:_values$sent_to_suppl.format('YYYY-MM-DD'),received_from_supplier_date:(_values$received_from=values.received_from_supplier_date)===null||_values$received_from===void 0?void 0:_values$received_from.format('YYYY-MM-DD')});if(selectedClaim){await warrantyAPI.updateClaim(selectedClaim.id,data);message.success('ðŸŽ‰ Cáº­p nháº­t yÃªu cáº§u báº£o hÃ nh thÃ nh cÃ´ng');}else{await warrantyAPI.createClaim(data);message.success('ðŸŽ‰ Táº¡o yÃªu cáº§u báº£o hÃ nh thÃ nh cÃ´ng');}setIsModalVisible(false);// Refresh data if needed\nloadStats();}catch(error){message.error('âŒ Lá»—i khi lÆ°u yÃªu cáº§u báº£o hÃ nh');}};const showSerialDetail=async serial=>{try{const response=await serialsAPI.getWarrantyInfo(serial.serial_number);if(response.data.success){setSelectedSerial(response.data.data);setSerialDetailDrawer(true);}}catch(error){message.error('Lá»—i khi láº¥y thÃ´ng tin chi tiáº¿t');}};const getStatusTag=status=>{const statusMap={'available':{color:'green',text:'CÃ³ sáºµn'},'sold':{color:'blue',text:'ÄÃ£ bÃ¡n'},'damaged':{color:'red',text:'Há»ng'},'reserved':{color:'orange',text:'ÄÃ£ Ä‘áº·t'}};const statusInfo=statusMap[status]||{color:'default',text:status};return/*#__PURE__*/_jsx(Tag,{color:statusInfo.color,children:statusInfo.text});};const getConditionTag=condition=>{const conditionMap={'new':{color:'green',text:'Má»›i'},'like_new':{color:'blue',text:'NhÆ° má»›i'},'good':{color:'cyan',text:'Tá»‘t'},'fair':{color:'orange',text:'KhÃ¡'},'poor':{color:'red',text:'KÃ©m'}};const conditionInfo=conditionMap[condition]||{color:'default',text:condition};return/*#__PURE__*/_jsx(Tag,{color:conditionInfo.color,children:conditionInfo.text});};const getWarrantyStatusTag=warranty=>{if(!warranty||warranty.status==='N/A'){return/*#__PURE__*/_jsx(Tag,{color:\"default\",children:\"N/A\"});}const statusMap={'CÃ²n hiá»‡u lá»±c':{color:'green',icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{})},'Sáº¯p háº¿t háº¡n':{color:'orange',icon:/*#__PURE__*/_jsx(WarningOutlined,{})},'Háº¿t háº¡n':{color:'red',icon:/*#__PURE__*/_jsx(ExclamationCircleOutlined,{})}};const statusInfo=statusMap[warranty.status]||{color:'default',icon:null};return/*#__PURE__*/_jsx(Tag,{color:statusInfo.color,icon:statusInfo.icon,children:warranty.status});};// Serial Search Table Columns\nconst serialColumns=[{title:'Serial Number',dataIndex:'serial_number',key:'serial_number',width:150,fixed:'left',render:text=>/*#__PURE__*/_jsx(Text,{copyable:true,strong:true,style:{color:'#1890ff'},children:text})},{title:'Tráº¡ng thÃ¡i',dataIndex:'status_display',key:'status',width:100,render:(text,record)=>getStatusTag(record.status)},{title:'TÃ¬nh tráº¡ng',dataIndex:'condition_display',key:'condition',width:100,render:(text,record)=>getConditionTag(record.condition_grade)},{title:'NhÃ  cung cáº¥p',key:'supplier',width:200,render:(_,record)=>{var _record$supplier_disp,_record$supplier_disp2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:((_record$supplier_disp=record.supplier_display)===null||_record$supplier_disp===void 0?void 0:_record$supplier_disp.name)||'N/A'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666'},children:((_record$supplier_disp2=record.supplier_display)===null||_record$supplier_disp2===void 0?void 0:_record$supplier_disp2.code)||''})]});}},{title:'Thá»i gian',key:'time',width:180,render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',fontWeight:'bold'},children:[\"Nh\\u1EADp: \",record.import_time_display]}),record.sale_info&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#52c41a'},children:[\"B\\xE1n: \",record.sale_info.date]})]})},{title:'Vá»‹ trÃ­',dataIndex:'location',key:'location',width:80,render:location=>/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(EnvironmentOutlined,{}),children:location||'N/A'})},{title:'Báº£o hÃ nh',key:'warranty',width:200,render:(_,record)=>{const warranty=record.warranty_display;// ðŸ›¡ï¸ AI FIX: Add null checks to prevent undefined errors\nif(!warranty){return/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#999'},children:\"N/A\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',fontWeight:'bold'},children:warranty.period||'N/A'}),warranty.start_date&&warranty.start_date!=='N/A'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"T\\u1EEB: \",warranty.start_date]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"\\u0110\\u1EBFn: \",warranty.end_date||'N/A']}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'4px'},children:getWarrantyStatusTag(warranty)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#1890ff',marginTop:'2px'},children:[\"BH: \",warranty.provider||'N/A']})]});}},{title:'Thao tÃ¡c',key:'actions',width:100,fixed:'right',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Xem chi ti\\u1EBFt\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>showSerialDetail(record)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"L\\u1ECBch s\\u1EED\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(HistoryOutlined,{}),onClick:()=>{message.info('TÃ­nh nÄƒng lá»‹ch sá»­ sáº½ Ä‘Æ°á»£c phÃ¡t triá»ƒn');}})})]})}];return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'calc(100vh - 64px)',background:'#f0f2f5'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'400px',background:'#fff',boxShadow:'2px 0 8px rgba(0,0,0,0.06)',display:'flex',flexDirection:'column',borderRight:'1px solid #f0f0f0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px',background:'linear-gradient(135deg, #52c41a, #1890ff)',color:'white',textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'20px',fontWeight:'bold',marginBottom:'8px'},children:[/*#__PURE__*/_jsx(BarcodeOutlined,{style:{marginRight:'8px'}}),\"T\\xECm ki\\u1EBFm Serial Number\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',opacity:0.9},children:\"Nh\\u1EADp SN \\u0111\\u1EC3 xem th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:/*#__PURE__*/_jsx(AutoComplete,{style:{width:'100%'},options:serialSuggestions,value:quickSearchValue,onChange:setQuickSearchValue,onSearch:fetchSerialSuggestions,onSelect:handleQuickSearch,placeholder:\"\\uD83D\\uDD0D Nh\\u1EADp Serial Number (VD: SN24)...\",size:\"large\",allowClear:true,children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(ScanOutlined,{style:{color:'#1890ff'}}),suffix:quickSearchLoading?/*#__PURE__*/_jsx(Spin,{size:\"small\"}):/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(ThunderboltOutlined,{}),onClick:()=>handleQuickSearch(quickSearchValue),style:{border:'none',boxShadow:'none'},size:\"small\",children:\"T\\xECm\"}),onPressEnter:()=>handleQuickSearch(quickSearchValue),style:{borderRadius:'8px',border:'2px solid #1890ff20',fontSize:'16px'}})})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,padding:'0 20px 20px',overflow:'auto'},children:serialSearchResults.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'16px',fontWeight:'bold',marginBottom:'16px',padding:'12px',background:'#f6ffed',borderRadius:'8px',border:'1px solid #b7eb8f',textAlign:'center'},children:[\"\\uD83C\\uDFAF T\\xECm th\\u1EA5y \",serialSearchResults.length,\" k\\u1EBFt qu\\u1EA3\"]}),serialSearchResults.map((serial,index)=>/*#__PURE__*/_jsx(Card,{size:\"small\",style:{marginBottom:'12px',border:'1px solid #1890ff20',borderRadius:'8px',cursor:'pointer',transition:'all 0.3s ease'},onMouseEnter:e=>e.target.closest('.ant-card').style.transform='translateY(-2px)',onMouseLeave:e=>e.target.closest('.ant-card').style.transform='translateY(0)',onClick:()=>showSerialDetail(serial),children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Text,{strong:true,style:{color:'#1890ff',fontSize:'16px'},children:serial.serial_number}),/*#__PURE__*/_jsx(Tag,{color:serial.status==='available'?'green':serial.status==='sold'?'red':'orange',children:serial.status_display||serial.status})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',fontWeight:'500'},children:[\"\\uD83D\\uDCE6 \",serial.product_name||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"\\uD83C\\uDFEA \",serial.supplier_name||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px'},children:[\"\\uD83D\\uDD27 \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#52c41a'},children:serial.condition_display||serial.condition_grade})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#999'},children:[\"\\uD83D\\uDCC5 \",serial.import_time_display||'N/A']}),serial.warranty_display&&serial.warranty_display.period&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',padding:'4px 8px',background:serial.warranty_display.status==='CÃ²n hiá»‡u lá»±c'?'#f6ffed':serial.warranty_display.status==='Sáº¯p háº¿t háº¡n'?'#fffbe6':'#fff2f0',borderRadius:'4px',border:\"1px solid \".concat(serial.warranty_display.status==='CÃ²n hiá»‡u lá»±c'?'#b7eb8f':serial.warranty_display.status==='Sáº¯p háº¿t háº¡n'?'#ffe58f':'#ffccc7')},children:[\"\\uD83D\\uDEE1\\uFE0F \",serial.warranty_display.period||'N/A',\" - \",serial.warranty_display.status||'N/A']})]})},serial.id||index))]}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',color:'#666',marginBottom:'8px'},children:serialSearchText?'KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£':'Nháº­p Serial Number Ä‘á»ƒ báº¯t Ä‘áº§u tÃ¬m kiáº¿m'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#999'},children:\"VD: SN24, SN001, ABC123...\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px',padding:'16px 0',borderBottom:'2px solid #f0f0f0'},children:[/*#__PURE__*/_jsxs(Title,{level:2,style:{margin:0,display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(SafetyOutlined,{style:{marginRight:'12px',color:'#52c41a',fontSize:'28px'}}),/*#__PURE__*/_jsx(\"span\",{style:{background:'linear-gradient(135deg, #52c41a, #1890ff)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},children:\"B\\u1EA3o h\\xE0nh\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(RobotOutlined,{}),color:\"green\",children:\"AI Enhanced\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showModal(),style:{background:'linear-gradient(135deg, #52c41a, #1890ff)',border:'none',borderRadius:'8px',height:'48px'},children:\"\\uD83E\\uDD16 T\\u1EA1o y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh\"})]})]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng y\\xEAu c\\u1EA7u\",value:stats.total_claims||0,prefix:/*#__PURE__*/_jsx(FileTextOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Ch\\u1EDD duy\\u1EC7t\",value:stats.pending_claims||0,prefix:/*#__PURE__*/_jsx(ClockCircleOutlined,{}),valueStyle:{color:'#faad14'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110ang x\\u1EED l\\xFD\",value:stats.in_progress_claims||0,prefix:/*#__PURE__*/_jsx(ToolOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Ho\\xE0n th\\xE0nh\",value:stats.completed_claims||0,prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),valueStyle:{color:'#52c41a'}})})})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Tabs,{activeKey:activeTab,onChange:setActiveTab,size:\"large\",style:{marginTop:'16px'},items:[{key:'serials',label:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarcodeOutlined,{}),\"T\\xECm ki\\u1EBFm Serial Number\",/*#__PURE__*/_jsx(Badge,{count:serialSearchResults.length,style:{marginLeft:'8px'}})]}),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Search,{placeholder:\"Nh\\u1EADp Serial Number, t\\xEAn s\\u1EA3n ph\\u1EA9m ho\\u1EB7c nh\\xE0 cung c\\u1EA5p...\",value:serialSearchText,onChange:e=>setSerialSearchText(e.target.value),onSearch:handleSerialSearch,enterButton:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(SearchOutlined,{}),children:\"T\\xECm ki\\u1EBFm\"}),size:\"large\",allowClear:true,loading:serialSearchLoading})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Alert,{message:\"\\uD83D\\uDCA1 T\\xECm ki\\u1EBFm n\\xE2ng cao\",description:\"B\\u1EA1n c\\xF3 th\\u1EC3 t\\xECm theo Serial Number, t\\xEAn s\\u1EA3n ph\\u1EA9m, ho\\u1EB7c t\\xEAn nh\\xE0 cung c\\u1EA5p. K\\u1EBFt qu\\u1EA3 s\\u1EBD hi\\u1EC3n th\\u1ECB \\u0111\\u1EA7y \\u0111\\u1EE7 th\\xF4ng tin b\\u1EA3o h\\xE0nh v\\xE0 tr\\u1EA1ng th\\xE1i.\",type:\"info\",showIcon:true,style:{height:'100%'}})})]}),serialSearchResults.length>0?/*#__PURE__*/_jsx(Table,{columns:serialColumns,dataSource:serialSearchResults,rowKey:\"id\",loading:serialSearchLoading,pagination:{total:serialSearchResults.length,pageSize:10,showSizeChanger:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" serial number\")},scroll:{x:1400},size:\"middle\"}):/*#__PURE__*/_jsx(Empty,{image:Empty.PRESENTED_IMAGE_SIMPLE,description:/*#__PURE__*/_jsx(\"span\",{children:serialSearchText?'KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£ nÃ o':'Nháº­p tá»« khÃ³a Ä‘á»ƒ tÃ¬m kiáº¿m Serial Number'}),extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showModal(),style:{background:'linear-gradient(135deg, #52c41a, #1890ff)',border:'none',borderRadius:'8px'},children:\"T\\u1EA1o y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'24px',padding:'16px',background:'linear-gradient(135deg, #f6f9fc, #e8f4fd)',borderRadius:'12px',textAlign:'center'},children:/*#__PURE__*/_jsxs(Space,{size:\"large\",children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showModal(),style:{background:'linear-gradient(135deg, #52c41a, #1890ff)',border:'none',borderRadius:'8px',height:'48px',minWidth:'200px'},children:\"\\uD83E\\uDD16 T\\u1EA1o y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh\"}),/*#__PURE__*/_jsx(Button,{size:\"large\",icon:/*#__PURE__*/_jsx(BarcodeOutlined,{}),onClick:()=>{setActiveTab('serials');setSerialSearchText('');setSerialSearchResults([]);},style:{borderRadius:'8px',height:'48px',minWidth:'180px'},children:\"Qu\\xE9t Serial Number\"})]})})]})},{key:'claims',label:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(ToolOutlined,{}),\"Y\\xEAu c\\u1EA7u B\\u1EA3o h\\xE0nh\",/*#__PURE__*/_jsx(Badge,{count:stats.pending_claims||0,status:\"processing\",style:{marginLeft:'8px'}})]}),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Alert,{message:\"\\uD83D\\uDCCB Qu\\u1EA3n l\\xFD Y\\xEAu c\\u1EA7u B\\u1EA3o h\\xE0nh\",description:\"T\\u1EA1o, theo d\\xF5i v\\xE0 x\\u1EED l\\xFD c\\xE1c y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh t\\u1EEB kh\\xE1ch h\\xE0ng. S\\u1EED d\\u1EE5ng t\\xEDnh n\\u0103ng AI Auto-fill \\u0111\\u1EC3 t\\u1EA1o nhanh t\\u1EEB Serial Number.\",type:\"info\",showIcon:true})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"large\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showModal(),style:{background:'linear-gradient(135deg, #52c41a, #1890ff)',border:'none',borderRadius:'8px',height:'48px'},children:\"\\uD83E\\uDD16 T\\u1EA1o y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh\"})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{size:\"small\",style:{textAlign:'center',borderLeft:'4px solid #1890ff'},children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng y\\xEAu c\\u1EA7u\",value:stats.total_claims||0,prefix:/*#__PURE__*/_jsx(FileTextOutlined,{style:{color:'#1890ff'}}),valueStyle:{color:'#1890ff',fontSize:'24px'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{size:\"small\",style:{textAlign:'center',borderLeft:'4px solid #faad14'},children:/*#__PURE__*/_jsx(Statistic,{title:\"Ch\\u1EDD x\\u1EED l\\xFD\",value:stats.pending_claims||0,prefix:/*#__PURE__*/_jsx(ClockCircleOutlined,{style:{color:'#faad14'}}),valueStyle:{color:'#faad14',fontSize:'24px'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{size:\"small\",style:{textAlign:'center',borderLeft:'4px solid #722ed1'},children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110ang x\\u1EED l\\xFD\",value:stats.in_progress_claims||0,prefix:/*#__PURE__*/_jsx(ToolOutlined,{style:{color:'#722ed1'}}),valueStyle:{color:'#722ed1',fontSize:'24px'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{size:\"small\",style:{textAlign:'center',borderLeft:'4px solid #52c41a'},children:/*#__PURE__*/_jsx(Statistic,{title:\"Ho\\xE0n th\\xE0nh\",value:stats.completed_claims||0,prefix:/*#__PURE__*/_jsx(CheckCircleOutlined,{style:{color:'#52c41a'}}),valueStyle:{color:'#52c41a',fontSize:'24px'}})})})]}),/*#__PURE__*/_jsx(Card,{title:\"\\uD83D\\uDCCB Danh s\\xE1ch Y\\xEAu c\\u1EA7u B\\u1EA3o h\\xE0nh\",style:{marginTop:'16px'},children:/*#__PURE__*/_jsx(Table,{columns:[{title:'MÃ£ yÃªu cáº§u',dataIndex:'claim_number',key:'claim_number',render:text=>/*#__PURE__*/_jsx(Text,{code:true,children:text||'ChÆ°a cÃ³'})},{title:'Serial Number',dataIndex:'serial_number',key:'serial_number',render:text=>/*#__PURE__*/_jsx(Text,{copyable:true,strong:true,style:{color:'#1890ff'},children:text})},{title:'Sáº£n pháº©m',dataIndex:'product_name',key:'product_name',render:text=>text||'N/A'},{title:'KhÃ¡ch hÃ ng',dataIndex:'customer_name',key:'customer_name',render:text=>text||'N/A'},{title:'NhÃ  cung cáº¥p',dataIndex:'supplier_name',key:'supplier_name',render:(text,record)=>{if(!text)return/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"N/A\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'500',color:'#1890ff'},children:[\"\\uD83C\\uDFEA \",text]}),record.supplier_code&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#666'},children:record.supplier_code})]});}},{title:'Tráº¡ng thÃ¡i',dataIndex:'status',key:'status',render:status=>{const statusInfo=claimStatuses.find(s=>s.value===status);return/*#__PURE__*/_jsx(Tag,{color:statusInfo===null||statusInfo===void 0?void 0:statusInfo.color,children:(statusInfo===null||statusInfo===void 0?void 0:statusInfo.label)||status});}},{title:'NgÃ y táº¡o',dataIndex:'created_at',key:'created_at',render:date=>date?moment(date).format('DD/MM/YYYY HH:mm'):'N/A'},{title:'Thao tÃ¡c',key:'actions',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),title:\"Xem chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>showModal(record),title:\"Ch\\u1EC9nh s\\u1EEDa\"})]})}],dataSource:claims,rowKey:\"id\",loading:loading,pagination:{pageSize:10,showSizeChanger:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" y\\xEAu c\\u1EA7u\")},locale:{emptyText:/*#__PURE__*/_jsx(Empty,{image:Empty.PRESENTED_IMAGE_SIMPLE,description:\"Ch\\u01B0a c\\xF3 y\\xEAu c\\u1EA7u b\\u1EA3o h\\xE0nh n\\xE0o\",extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showModal(),children:\"T\\u1EA1o y\\xEAu c\\u1EA7u \\u0111\\u1EA7u ti\\xEAn\"})})}})})]})}]})}),/*#__PURE__*/_jsx(Drawer,{title:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarcodeOutlined,{style:{marginRight:8}}),\"Chi ti\\u1EBFt Serial Number\"]}),placement:\"right\",width:600,onClose:()=>setSerialDetailDrawer(false),open:serialDetailDrawer,children:selectedSerial&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin Serial\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Serial Number\",span:2,children:/*#__PURE__*/_jsx(Text,{copyable:true,strong:true,style:{fontSize:'16px',color:'#1890ff'},children:selectedSerial.serial_number})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"S\\u1EA3n ph\\u1EA9m\",span:2,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:selectedSerial.product_name}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#666'},children:[\"SKU: \",selectedSerial.product_sku]})]})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Tr\\u1EA1ng th\\xE1i\",children:getStatusTag(selectedSerial.status)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"T\\xECnh tr\\u1EA1ng\",children:getConditionTag(selectedSerial.condition_grade)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"V\\u1ECB tr\\xED\",children:/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(EnvironmentOutlined,{}),children:selectedSerial.location||'N/A'})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin Nh\\xE0 cung c\\u1EA5p\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"T\\xEAn nh\\xE0 cung c\\u1EA5p\",span:2,children:selectedSerial.supplier_name||'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"M\\xE3 nh\\xE0 cung c\\u1EA5p\",children:selectedSerial.supplier_code||'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\u01B0\\u1EDDi li\\xEAn h\\u1EC7\",children:selectedSerial.supplier_contact||'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y nh\\u1EADp\",children:/*#__PURE__*/_jsx(Tag,{icon:/*#__PURE__*/_jsx(CalendarOutlined,{}),children:selectedSerial.purchase_date?formatDate(selectedSerial.purchase_date):'N/A'})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Gi\\xE1 nh\\u1EADp\",children:selectedSerial.purchase_price?formatCurrency(selectedSerial.purchase_price):'N/A'})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin B\\u1EA3o h\\xE0nh\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Th\\u1EDDi gian b\\u1EA3o h\\xE0nh\",span:2,children:selectedSerial.warranty_months_total>0?\"\".concat(selectedSerial.warranty_months_total,\" th\\xE1ng\"):'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u\",children:selectedSerial.warranty_start_date?new Date(selectedSerial.warranty_start_date).toLocaleDateString('vi-VN'):'N/A'}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y k\\u1EBFt th\\xFAc\",children:selectedSerial.warranty_end_date?new Date(selectedSerial.warranty_end_date).toLocaleDateString('vi-VN'):'N/A'}),/*#__PURE__*/_jsxs(Descriptions.Item,{label:\"Tr\\u1EA1ng th\\xE1i b\\u1EA3o h\\xE0nh\",span:2,children:[getWarrantyStatusTag({status:selectedSerial.warranty_status}),selectedSerial.warranty_days_left>0&&/*#__PURE__*/_jsxs(Text,{style:{marginLeft:8,color:'#666'},children:[\"(C\\xF2n \",selectedSerial.warranty_days_left,\" ng\\xE0y)\"]})]}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Nh\\xE0 cung c\\u1EA5p b\\u1EA3o h\\xE0nh\",span:2,children:selectedSerial.warranty_provider||'N/A'})]}),selectedSerial.sold_date&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Descriptions,{title:\"Th\\xF4ng tin B\\xE1n h\\xE0ng\",bordered:true,children:[/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Ng\\xE0y b\\xE1n\",children:new Date(selectedSerial.sold_date).toLocaleDateString('vi-VN')}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Gi\\xE1 b\\xE1n\",children:formatCurrency(selectedSerial.sold_price)}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"Kh\\xE1ch h\\xE0ng\",span:2,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:selectedSerial.customer_name}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#666'},children:selectedSerial.customer_phone})]})}),/*#__PURE__*/_jsx(Descriptions.Item,{label:\"M\\xE3 \\u0111\\u01A1n h\\xE0ng\",children:/*#__PURE__*/_jsx(Text,{code:true,children:selectedSerial.order_number})})]})]}),selectedSerial.notes&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"Ghi ch\\xFA\",children:/*#__PURE__*/_jsx(Text,{children:selectedSerial.notes})})]})]})}),/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(RobotOutlined,{style:{color:'#52c41a'}}),/*#__PURE__*/_jsx(\"span\",{children:selectedClaim?'Chá»‰nh sá»­a yÃªu cáº§u báº£o hÃ nh':'Táº¡o yÃªu cáº§u báº£o hÃ nh'}),/*#__PURE__*/_jsx(Tag,{color:\"green\",size:\"small\",children:\"AI Auto-fill\"})]}),open:isModalVisible,onCancel:()=>setIsModalVisible(false),footer:null,width:900,style:{top:50},children:/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:handleSubmit,children:[/*#__PURE__*/_jsx(Alert,{message:\"\\uD83E\\uDD16 AI Th\\xF4ng minh: Nh\\u1EADp Serial Number v\\xE0 b\\u1EA5m Enter \\u0111\\u1EC3 t\\u1EF1 \\u0111\\u1ED9ng \\u0111i\\u1EC1n to\\xE0n b\\u1ED9 th\\xF4ng tin!\",type:\"info\",showIcon:true,style:{marginBottom:16}}),/*#__PURE__*/_jsx(Form.Item,{label:/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'bold',color:'#1890ff'},children:[/*#__PURE__*/_jsx(BarcodeOutlined,{style:{marginRight:'4px'}}),\"Serial Number\"]}),name:\"serial_number\",rules:[{required:true,message:'Vui lÃ²ng nháº­p Serial Number'}],children:/*#__PURE__*/_jsx(AutoComplete,{options:serialSuggestions,onSearch:fetchSerialSuggestions,placeholder:\"Nh\\u1EADp Serial Number (VD: SN24, SN12341234...)\",size:\"large\",style:{width:'100%'},onPressEnter:e=>handleSerialAutoFill(e.target.value),onSelect:value=>handleSerialAutoFill(value),suffix:autoFillLoading?/*#__PURE__*/_jsx(Spin,{size:\"small\"}):/*#__PURE__*/_jsx(Tooltip,{title:\"B\\u1EA5m Enter \\u0111\\u1EC3 auto-fill\",children:/*#__PURE__*/_jsx(ThunderboltOutlined,{style:{color:'#52c41a'}})})})}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"S\\u1EA3n ph\\u1EA9m\",name:\"product_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m\",allowClear:true,showSearch:true,filterOption:(input,option)=>option.children.toLowerCase().indexOf(input.toLowerCase())>=0,children:products.map(product=>/*#__PURE__*/_jsx(Option,{value:product.id,children:product.name},product.id))})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Kh\\xE1ch h\\xE0ng\",name:\"customer_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn kh\\xE1ch h\\xE0ng\",allowClear:true,showSearch:true,filterOption:(input,option)=>option.children.toLowerCase().indexOf(input.toLowerCase())>=0,children:customers.map(customer=>/*#__PURE__*/_jsx(Option,{value:customer.id,children:customer.name},customer.id))})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Nh\\xE0 cung c\\u1EA5p\",name:\"supplier_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn nh\\xE0 cung c\\u1EA5p\",allowClear:true,showSearch:true,filterOption:(input,option)=>option.children.toLowerCase().indexOf(input.toLowerCase())>=0,children:suppliers.map(supplier=>/*#__PURE__*/_jsxs(Option,{value:supplier.id,children:[\"\\uD83C\\uDFEA \",supplier.name]},supplier.id))})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"K\\u1EF9 thu\\u1EADt vi\\xEAn\",name:\"assigned_technician_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn k\\u1EF9 thu\\u1EADt vi\\xEAn\",allowClear:true,children:users.map(user=>/*#__PURE__*/_jsx(Option,{value:user.id,children:user.full_name},user.id))})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"\\u01AFu ti\\xEAn\",name:\"priority\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn \\u01B0u ti\\xEAn\",defaultValue:\"normal\",children:priorities.map(priority=>/*#__PURE__*/_jsx(Option,{value:priority.value,children:/*#__PURE__*/_jsx(Tag,{color:priority.color,children:priority.label})},priority.value))})})})]}),/*#__PURE__*/_jsx(Form.Item,{label:\"M\\xF4 t\\u1EA3 v\\u1EA5n \\u0111\\u1EC1\",name:\"issue_description\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input.TextArea,{rows:4,placeholder:\"M\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EA5n \\u0111\\u1EC1 c\\u1EA7n b\\u1EA3o h\\xE0nh...\",showCount:true,maxLength:500})}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Lo\\u1EA1i y\\xEAu c\\u1EA7u\",name:\"claim_type\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn lo\\u1EA1i\",defaultValue:\"repair\",children:claimTypes.map(type=>/*#__PURE__*/_jsx(Option,{value:type.value,children:type.label},type.value))})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Tr\\u1EA1ng th\\xE1i\",name:\"status\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\",defaultValue:\"pending\",children:claimStatuses.map(status=>/*#__PURE__*/_jsx(Option,{value:status.value,children:/*#__PURE__*/_jsx(Tag,{color:status.color,children:status.label})},status.value))})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y d\\u1EF1 ki\\u1EBFn ho\\xE0n th\\xE0nh\",name:\"expected_completion_date\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},placeholder:\"Ch\\u1ECDn ng\\xE0y\",disabledDate:current=>current&&current<moment().endOf('day')})})})]}),/*#__PURE__*/_jsx(Divider,{orientation:\"left\",children:/*#__PURE__*/_jsxs(\"span\",{style:{color:'#52c41a'},children:[/*#__PURE__*/_jsx(SafetyOutlined,{style:{marginRight:'4px'}}),\"Th\\xF4ng tin B\\u1EA3o h\\xE0nh\"]})}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u b\\u1EA3o h\\xE0nh\",name:\"warranty_start_date\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},placeholder:\"Ch\\u1ECDn ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y k\\u1EBFt th\\xFAc b\\u1EA3o h\\xE0nh\",name:\"warranty_end_date\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},placeholder:\"Ch\\u1ECDn ng\\xE0y k\\u1EBFt th\\xFAc\"})})})]}),/*#__PURE__*/_jsx(Form.Item,{style:{marginTop:'24px',textAlign:'right'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsModalVisible(false),size:\"large\",children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",size:\"large\",icon:selectedClaim?/*#__PURE__*/_jsx(EditOutlined,{}):/*#__PURE__*/_jsx(PlusOutlined,{}),style:{background:'linear-gradient(135deg, #52c41a, #1890ff)',border:'none'},children:selectedClaim?'Cáº­p nháº­t':'Táº¡o má»›i'})]})})]})})]})]});};export default WarrantyPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Table","Button","Input","Space","Modal","Form","Select","message","Row","Col","Statistic","Tag","Tooltip","DatePicker","Typography","Alert","Tabs","Badge","Descriptions","Divider","Rate","InputNumber","Drawer","Timeline","Empty","Spin","AutoComplete","PlusOutlined","SearchOutlined","EditOutlined","EyeOutlined","ToolOutlined","ExclamationCircleOutlined","CheckCircleOutlined","ClockCircleOutlined","DeleteOutlined","FileTextOutlined","HistoryOutlined","InfoCircleOutlined","BarcodeOutlined","ShopOutlined","CalendarOutlined","WarningOutlined","SafetyOutlined","EnvironmentOutlined","ThunderboltOutlined","RobotOutlined","ScanOutlined","warrantyAPI","customersAPI","productsAPI","usersAPI","serialsAPI","formatCurrency","formatDate","LoadingSpinner","PageLoading","CardLoading","useAPI","moment","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Search","Option","TabPane","Text","Title","WarrantyPage","claims","setClaims","customers","setCustomers","products","setProducts","users","setUsers","suppliers","setSuppliers","loading","setLoading","isModalVisible","setIsModalVisible","isDetailModalVisible","setIsDetailModalVisible","selectedClaim","setSelectedClaim","searchText","setSearchText","filterStatus","setFilterStatus","filterPriority","setFilterPriority","stats","setStats","form","useForm","serialSearchResults","setSerialSearchResults","serialSearchLoading","setSerialSearchLoading","serialSearchText","setSerialSearchText","selectedSerial","setSelectedSerial","serialDetailDrawer","setSerialDetailDrawer","activeTab","setActiveTab","quickSearchValue","setQuickSearchValue","quickSearchLoading","setQuickSearchLoading","autoFillLoading","setAutoFillLoading","serialSuggestions","setSerialSuggestions","claimStatuses","value","label","color","claimTypes","priorities","loadData","loadStats","fetchClaims","customersRes","productsRes","usersRes","suppliersRes","Promise","all","getAll","fetch","then","res","json","data","success","error","console","statsAPI","showErrorMessage","onError","warn","total_claims","pending_claims","in_progress_claims","completed_claims","avg_resolution_days","executeAPI","getStats","log","params","serial_number","status","undefined","priority","response","getClaims","handleSerialSearch","query","trim","length","search","concat","info","handleQuickSearch","warning","handleSerialAutoFill","serialNumber","getWarrantyInfo","serialInfo","selectedProductId","product_id","product_name","matchingProduct","find","p","name","toLowerCase","includes","id","selectedCustomerId","customer_id","customer_name","matchingCustomer","c","phone","customer_phone","setFieldsValue","supplier_id","warranty_start_date","warranty_end_date","issue_description","supplier_name","claim_type","warranty_status","productName","supplierName","content","children","style","fontWeight","fontSize","marginTop","duration","fetchSerialSuggestions","limit","suggestions","map","item","display","justifyContent","alignItems","showModal","claim","arguments","_objectSpread","expected_completion_date","actual_completion_date","sent_to_supplier_date","received_from_supplier_date","resetFields","handleSubmit","values","_values$warranty_star","_values$warranty_end_","_values$expected_comp","_values$actual_comple","_values$sent_to_suppl","_values$received_from","format","updateClaim","createClaim","showSerialDetail","serial","getStatusTag","statusMap","text","statusInfo","getConditionTag","condition","conditionMap","conditionInfo","getWarrantyStatusTag","warranty","icon","serialColumns","title","dataIndex","key","width","fixed","render","copyable","strong","record","condition_grade","_","_record$supplier_disp","_record$supplier_disp2","supplier_display","code","import_time_display","sale_info","date","location","warranty_display","period","start_date","end_date","provider","size","onClick","minHeight","background","boxShadow","flexDirection","borderRight","padding","textAlign","marginBottom","marginRight","opacity","options","onChange","onSearch","onSelect","placeholder","allowClear","prefix","suffix","type","border","onPressEnter","borderRadius","flex","overflow","index","cursor","transition","onMouseEnter","e","target","closest","transform","onMouseLeave","gap","status_display","condition_display","borderBottom","level","margin","WebkitBackgroundClip","WebkitTextFillColor","height","gutter","span","valueStyle","activeKey","items","count","marginLeft","enterButton","description","showIcon","columns","dataSource","rowKey","pagination","total","pageSize","showSizeChanger","showTotal","range","scroll","x","image","PRESENTED_IMAGE_SIMPLE","extra","minWidth","borderLeft","supplier_code","s","locale","emptyText","placement","onClose","open","bordered","Item","product_sku","supplier_contact","purchase_date","purchase_price","warranty_months_total","Date","toLocaleDateString","warranty_days_left","warranty_provider","sold_date","sold_price","order_number","notes","onCancel","footer","top","layout","onFinish","rules","required","showSearch","filterOption","input","option","indexOf","product","customer","supplier","user","full_name","defaultValue","TextArea","rows","showCount","maxLength","disabledDate","current","endOf","orientation","htmlType"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/pages/WarrantyPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card, Table, Button, Input, Space, Modal, Form, Select, message,\r\n  Row, Col, Statistic, Tag, Tooltip, DatePicker, Typography, Alert,\r\n  Tabs, Badge, Descriptions, Divider, Rate, InputNumber, Drawer,\r\n  Timeline, Empty, Spin, AutoComplete\r\n} from 'antd';\r\nimport {\r\n  PlusOutlined, SearchOutlined, EditOutlined, EyeOutlined,\r\n  ToolOutlined, ExclamationCircleOutlined, CheckCircleOutlined,\r\n  ClockCircleOutlined, DeleteOutlined, FileTextOutlined,\r\n  HistoryOutlined, InfoCircleOutlined, BarcodeOutlined,\r\n  ShopOutlined, CalendarOutlined, WarningOutlined,\r\n  SafetyOutlined, EnvironmentOutlined, ThunderboltOutlined,\r\n  RobotOutlined, ScanOutlined\r\n} from '@ant-design/icons';\r\nimport { warrantyAPI, customersAPI, productsAPI, usersAPI, serialsAPI, formatCurrency, formatDate } from '../services/api';\r\nimport LoadingSpinner, { PageLoading, CardLoading } from '../components/LoadingSpinner';\r\nimport useAPI from '../hooks/useAPI';\r\nimport moment from 'moment';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\nconst { TabPane } = Tabs;\r\nconst { Text, Title } = Typography;\r\n\r\nconst WarrantyPage = () => {\r\n  const [claims, setClaims] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [suppliers, setSuppliers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isDetailModalVisible, setIsDetailModalVisible] = useState(false);\r\n  const [selectedClaim, setSelectedClaim] = useState(null);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [filterPriority, setFilterPriority] = useState('all');\r\n  const [stats, setStats] = useState({});\r\n  const [form] = Form.useForm();\r\n\r\n  // ðŸ” NEW: Serial Search State\r\n  const [serialSearchResults, setSerialSearchResults] = useState([]);\r\n  const [serialSearchLoading, setSerialSearchLoading] = useState(false);\r\n  const [serialSearchText, setSerialSearchText] = useState('');\r\n  const [selectedSerial, setSelectedSerial] = useState(null);\r\n  const [serialDetailDrawer, setSerialDetailDrawer] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('serials');\r\n\r\n  // ðŸŽ¯ NEW: Quick Search & Auto-fill State\r\n  const [quickSearchValue, setQuickSearchValue] = useState('');\r\n  const [quickSearchLoading, setQuickSearchLoading] = useState(false);\r\n  const [autoFillLoading, setAutoFillLoading] = useState(false);\r\n  const [serialSuggestions, setSerialSuggestions] = useState([]);\r\n\r\n  // ðŸ’¼ NEW: Claims Management State - moved from duplicate\r\n\r\n  const claimStatuses = [\r\n    { value: 'pending', label: 'Chá» duyá»‡t', color: 'orange' },\r\n    { value: 'approved', label: 'ÄÃ£ duyá»‡t', color: 'blue' },\r\n    { value: 'rejected', label: 'Tá»« chá»‘i', color: 'red' },\r\n    { value: 'in_progress', label: 'Äang xá»­ lÃ½', color: 'purple' },\r\n    { value: 'completed', label: 'HoÃ n thÃ nh', color: 'green' },\r\n    { value: 'cancelled', label: 'ÄÃ£ há»§y', color: 'gray' },\r\n  ];\r\n\r\n  const claimTypes = [\r\n    { value: 'repair', label: 'Sá»­a chá»¯a' },\r\n    { value: 'replace', label: 'Thay tháº¿' },\r\n    { value: 'refund', label: 'HoÃ n tiá»n' },\r\n  ];\r\n\r\n  const priorities = [\r\n    { value: 'low', label: 'Tháº¥p', color: 'green' },\r\n    { value: 'normal', label: 'BÃ¬nh thÆ°á»ng', color: 'blue' },\r\n    { value: 'high', label: 'Cao', color: 'orange' },\r\n    { value: 'urgent', label: 'Kháº©n cáº¥p', color: 'red' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    loadStats();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'claims') {\r\n      fetchClaims();\r\n    }\r\n  }, [searchText, filterStatus, filterPriority, activeTab]);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [customersRes, productsRes, usersRes, suppliersRes] = await Promise.all([\r\n        customersAPI.getAll(),\r\n        productsAPI.getAll(),\r\n        usersAPI.getAll(),\r\n        fetch('/api/suppliers').then(res => res.json())\r\n      ]);\r\n      \r\n      if (customersRes.data.success) setCustomers(customersRes.data.data);\r\n      if (productsRes.data.success) setProducts(productsRes.data.data);\r\n      if (usersRes.data.success) setUsers(usersRes.data.data);\r\n      if (suppliersRes.success) setSuppliers(suppliersRes.data);\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n    }\r\n  };\r\n\r\n  const statsAPI = useAPI({\r\n    showErrorMessage: false,\r\n    onError: (error) => {\r\n      console.warn('Warranty stats failed, using fallback data');\r\n      setStats({\r\n        total_claims: 0,\r\n        pending_claims: 0,\r\n        in_progress_claims: 0,\r\n        completed_claims: 0,\r\n        avg_resolution_days: 0\r\n      });\r\n    }\r\n  });\r\n\r\n  const loadStats = async () => {\r\n    try {\r\n      await statsAPI.executeAPI(() => warrantyAPI.getStats());\r\n      if (statsAPI.data && statsAPI.data.success) {\r\n        setStats(statsAPI.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.log('Stats API call completed with fallback data');\r\n    }\r\n  };\r\n\r\n  const fetchClaims = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        serial_number: searchText,\r\n        status: filterStatus !== 'all' ? filterStatus : undefined,\r\n        priority: filterPriority !== 'all' ? filterPriority : undefined,\r\n      };\r\n      \r\n      const response = await warrantyAPI.getClaims(params);\r\n      if (response.data.success) {\r\n        setClaims(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching claims:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ðŸ” NEW: Serial Search Functions\r\n  const handleSerialSearch = async (query) => {\r\n    if (!query || query.trim().length < 2) {\r\n      setSerialSearchResults([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSerialSearchLoading(true);\r\n      const response = await serialsAPI.search(query.trim());\r\n      \r\n      if (response.data.success) {\r\n        setSerialSearchResults(response.data.data);\r\n        message.success(`TÃ¬m tháº¥y ${response.data.data.length} káº¿t quáº£`);\r\n      } else {\r\n        setSerialSearchResults([]);\r\n        message.info('KhÃ´ng tÃ¬m tháº¥y serial number nÃ o');\r\n      }\r\n    } catch (error) {\r\n      message.error('Lá»—i khi tÃ¬m kiáº¿m serial number');\r\n      setSerialSearchResults([]);\r\n    } finally {\r\n      setSerialSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  // ðŸŽ¯ NEW: Quick Search from Header\r\n  const handleQuickSearch = async (value) => {\r\n    if (!value?.trim()) return;\r\n    \r\n    try {\r\n      setQuickSearchLoading(true);\r\n      const response = await serialsAPI.search(value.trim());\r\n      \r\n      if (response.data.success && response.data.data.length > 0) {\r\n        // Switch to serials tab and show results\r\n        setActiveTab('serials');\r\n        setSerialSearchResults(response.data.data);\r\n        setSerialSearchText(value.trim());\r\n        message.success(`ðŸŽ¯ TÃ¬m tháº¥y ${response.data.data.length} káº¿t quáº£ cho \"${value}\"`);\r\n      } else {\r\n        message.warning(`KhÃ´ng tÃ¬m tháº¥y Serial Number \"${value}\"`);\r\n      }\r\n    } catch (error) {\r\n      message.error('Lá»—i khi tÃ¬m kiáº¿m nhanh');\r\n    } finally {\r\n      setQuickSearchLoading(false);\r\n      setQuickSearchValue('');\r\n    }\r\n  };\r\n\r\n  // ðŸ¤– ENHANCED: Auto-fill Form when entering Serial Number\r\n  const handleSerialAutoFill = async (serialNumber) => {\r\n    if (!serialNumber?.trim() || serialNumber.length < 3) return;\r\n    \r\n    try {\r\n      setAutoFillLoading(true);\r\n      const response = await serialsAPI.getWarrantyInfo(serialNumber.trim());\r\n      \r\n      if (response.data.success) {\r\n        const serialInfo = response.data.data;\r\n        \r\n        // ðŸŽ¯ ENHANCED: Find matching product from products list by name\r\n        let selectedProductId = serialInfo.product_id;\r\n        if (!selectedProductId && serialInfo.product_name) {\r\n          const matchingProduct = products.find(p => \r\n            p.name.toLowerCase().includes(serialInfo.product_name.toLowerCase()) ||\r\n            serialInfo.product_name.toLowerCase().includes(p.name.toLowerCase())\r\n          );\r\n          if (matchingProduct) {\r\n            selectedProductId = matchingProduct.id;\r\n          }\r\n        }\r\n\r\n        // ðŸŽ¯ ENHANCED: Find matching customer if sold\r\n        let selectedCustomerId = serialInfo.customer_id;\r\n        if (!selectedCustomerId && serialInfo.customer_name) {\r\n          const matchingCustomer = customers.find(c => \r\n            c.name.toLowerCase().includes(serialInfo.customer_name.toLowerCase()) ||\r\n            c.phone === serialInfo.customer_phone\r\n          );\r\n          if (matchingCustomer) {\r\n            selectedCustomerId = matchingCustomer.id;\r\n          }\r\n        }\r\n        \r\n        // Auto-fill form fields with enhanced data\r\n        form.setFieldsValue({\r\n          serial_number: serialInfo.serial_number,\r\n          product_id: selectedProductId,\r\n          customer_id: selectedCustomerId,\r\n          supplier_id: serialInfo.supplier_id || null, // ðŸŽ¯ NEW: Auto-fill supplier\r\n          warranty_start_date: serialInfo.warranty_start_date ? moment(serialInfo.warranty_start_date) : null,\r\n          warranty_end_date: serialInfo.warranty_end_date ? moment(serialInfo.warranty_end_date) : null,\r\n          issue_description: `YÃªu cáº§u báº£o hÃ nh cho ${serialInfo.product_name || 'sáº£n pháº©m'} - Serial: ${serialNumber}${serialInfo.supplier_name ? ` (NCC: ${serialInfo.supplier_name})` : ''}`,\r\n          claim_type: 'repair',\r\n          status: 'pending',\r\n          priority: serialInfo.warranty_status === 'Sáº¯p háº¿t háº¡n' ? 'high' : 'normal'\r\n        });\r\n        \r\n        // Show detailed success message\r\n        const productName = serialInfo.product_name || 'N/A';\r\n        const supplierName = serialInfo.supplier_name || 'N/A';\r\n        message.success({\r\n          content: (\r\n            <div>\r\n              <div style={{ fontWeight: 'bold', color: '#52c41a' }}>\r\n                ðŸ¤– ÄÃ£ tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin cho Serial: {serialNumber}\r\n              </div>\r\n              <div style={{ fontSize: '12px', marginTop: '4px' }}>\r\n                ðŸ“¦ Sáº£n pháº©m: {productName} | ðŸª NCC: {supplierName}\r\n              </div>\r\n            </div>\r\n          ),\r\n          duration: 4\r\n        });\r\n      } else {\r\n        message.warning(`Serial \"${serialNumber}\" khÃ´ng tÃ¬m tháº¥y thÃ´ng tin. Vui lÃ²ng kiá»ƒm tra láº¡i.`);\r\n      }\r\n    } catch (error) {\r\n      message.error('KhÃ´ng thá»ƒ tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin serial');\r\n    } finally {\r\n      setAutoFillLoading(false);\r\n    }\r\n  };\r\n\r\n  // ðŸ’¡ NEW: Fetch Serial Suggestions for AutoComplete\r\n  const fetchSerialSuggestions = async (searchText) => {\r\n    if (!searchText || searchText.length < 2) {\r\n      setSerialSuggestions([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await serialsAPI.search(searchText, { limit: 10 });\r\n      if (response.data.success) {\r\n        const suggestions = response.data.data.map(item => ({\r\n          value: item.serial_number,\r\n          label: (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <span style={{ fontWeight: 'bold', color: '#1890ff' }}>{item.serial_number}</span>\r\n              <span style={{ fontSize: '12px', color: '#666' }}>{item.product_name}</span>\r\n            </div>\r\n          )\r\n        }));\r\n        setSerialSuggestions(suggestions);\r\n      }\r\n    } catch (error) {\r\n      setSerialSuggestions([]);\r\n    }\r\n  };\r\n\r\n  // ðŸŽ¯ Helper Functions  \r\n  const showModal = (claim = null) => {\r\n    setSelectedClaim(claim);\r\n    setIsModalVisible(true);\r\n    if (claim) {\r\n      form.setFieldsValue({\r\n        ...claim,\r\n        warranty_start_date: claim.warranty_start_date ? moment(claim.warranty_start_date) : null,\r\n        warranty_end_date: claim.warranty_end_date ? moment(claim.warranty_end_date) : null,\r\n        expected_completion_date: claim.expected_completion_date ? moment(claim.expected_completion_date) : null,\r\n        actual_completion_date: claim.actual_completion_date ? moment(claim.actual_completion_date) : null,\r\n        sent_to_supplier_date: claim.sent_to_supplier_date ? moment(claim.sent_to_supplier_date) : null,\r\n        received_from_supplier_date: claim.received_from_supplier_date ? moment(claim.received_from_supplier_date) : null,\r\n      });\r\n    } else {\r\n      form.resetFields();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (values) => {\r\n    try {\r\n      const data = {\r\n        ...values,\r\n        warranty_start_date: values.warranty_start_date?.format('YYYY-MM-DD'),\r\n        warranty_end_date: values.warranty_end_date?.format('YYYY-MM-DD'),\r\n        expected_completion_date: values.expected_completion_date?.format('YYYY-MM-DD'),\r\n        actual_completion_date: values.actual_completion_date?.format('YYYY-MM-DD'),\r\n        sent_to_supplier_date: values.sent_to_supplier_date?.format('YYYY-MM-DD'),\r\n        received_from_supplier_date: values.received_from_supplier_date?.format('YYYY-MM-DD'),\r\n      };\r\n\r\n      if (selectedClaim) {\r\n        await warrantyAPI.updateClaim(selectedClaim.id, data);\r\n        message.success('ðŸŽ‰ Cáº­p nháº­t yÃªu cáº§u báº£o hÃ nh thÃ nh cÃ´ng');\r\n      } else {\r\n        await warrantyAPI.createClaim(data);\r\n        message.success('ðŸŽ‰ Táº¡o yÃªu cáº§u báº£o hÃ nh thÃ nh cÃ´ng');\r\n      }\r\n      \r\n      setIsModalVisible(false);\r\n      // Refresh data if needed\r\n      loadStats();\r\n    } catch (error) {\r\n      message.error('âŒ Lá»—i khi lÆ°u yÃªu cáº§u báº£o hÃ nh');\r\n    }\r\n  };\r\n\r\n  const showSerialDetail = async (serial) => {\r\n    try {\r\n      const response = await serialsAPI.getWarrantyInfo(serial.serial_number);\r\n      if (response.data.success) {\r\n        setSelectedSerial(response.data.data);\r\n        setSerialDetailDrawer(true);\r\n      }\r\n    } catch (error) {\r\n      message.error('Lá»—i khi láº¥y thÃ´ng tin chi tiáº¿t');\r\n    }\r\n  };\r\n\r\n  const getStatusTag = (status) => {\r\n    const statusMap = {\r\n      'available': { color: 'green', text: 'CÃ³ sáºµn' },\r\n      'sold': { color: 'blue', text: 'ÄÃ£ bÃ¡n' },\r\n      'damaged': { color: 'red', text: 'Há»ng' },\r\n      'reserved': { color: 'orange', text: 'ÄÃ£ Ä‘áº·t' }\r\n    };\r\n    \r\n    const statusInfo = statusMap[status] || { color: 'default', text: status };\r\n    return <Tag color={statusInfo.color}>{statusInfo.text}</Tag>;\r\n  };\r\n\r\n  const getConditionTag = (condition) => {\r\n    const conditionMap = {\r\n      'new': { color: 'green', text: 'Má»›i' },\r\n      'like_new': { color: 'blue', text: 'NhÆ° má»›i' },\r\n      'good': { color: 'cyan', text: 'Tá»‘t' },\r\n      'fair': { color: 'orange', text: 'KhÃ¡' },\r\n      'poor': { color: 'red', text: 'KÃ©m' }\r\n    };\r\n    \r\n    const conditionInfo = conditionMap[condition] || { color: 'default', text: condition };\r\n    return <Tag color={conditionInfo.color}>{conditionInfo.text}</Tag>;\r\n  };\r\n\r\n  const getWarrantyStatusTag = (warranty) => {\r\n    if (!warranty || warranty.status === 'N/A') {\r\n      return <Tag color=\"default\">N/A</Tag>;\r\n    }\r\n    \r\n    const statusMap = {\r\n      'CÃ²n hiá»‡u lá»±c': { color: 'green', icon: <CheckCircleOutlined /> },\r\n      'Sáº¯p háº¿t háº¡n': { color: 'orange', icon: <WarningOutlined /> },\r\n      'Háº¿t háº¡n': { color: 'red', icon: <ExclamationCircleOutlined /> }\r\n    };\r\n    \r\n    const statusInfo = statusMap[warranty.status] || { color: 'default', icon: null };\r\n    \r\n    return (\r\n      <Tag color={statusInfo.color} icon={statusInfo.icon}>\r\n        {warranty.status}\r\n      </Tag>\r\n    );\r\n  };\r\n\r\n  // Serial Search Table Columns\r\n  const serialColumns = [\r\n    {\r\n      title: 'Serial Number',\r\n      dataIndex: 'serial_number',\r\n      key: 'serial_number',\r\n      width: 150,\r\n      fixed: 'left',\r\n      render: (text) => (\r\n        <Text copyable strong style={{ color: '#1890ff' }}>\r\n          {text}\r\n        </Text>\r\n      )\r\n    },\r\n    {\r\n      title: 'Tráº¡ng thÃ¡i',\r\n      dataIndex: 'status_display',\r\n      key: 'status',\r\n      width: 100,\r\n      render: (text, record) => getStatusTag(record.status)\r\n    },\r\n    {\r\n      title: 'TÃ¬nh tráº¡ng',\r\n      dataIndex: 'condition_display',\r\n      key: 'condition',\r\n      width: 100,\r\n      render: (text, record) => getConditionTag(record.condition_grade)\r\n    },\r\n    {\r\n      title: 'NhÃ  cung cáº¥p',\r\n      key: 'supplier',\r\n      width: 200,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontWeight: 'bold' }}>\r\n            {record.supplier_display?.name || 'N/A'}\r\n          </div>\r\n          <div style={{ fontSize: '12px', color: '#666' }}>\r\n            {record.supplier_display?.code || ''}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Thá»i gian',\r\n      key: 'time',\r\n      width: 180,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontSize: '12px', fontWeight: 'bold' }}>\r\n            Nháº­p: {record.import_time_display}\r\n          </div>\r\n          {record.sale_info && (\r\n            <div style={{ fontSize: '12px', color: '#52c41a' }}>\r\n              BÃ¡n: {record.sale_info.date}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Vá»‹ trÃ­',\r\n      dataIndex: 'location',\r\n      key: 'location',\r\n      width: 80,\r\n      render: (location) => (\r\n        <Tag icon={<EnvironmentOutlined />}>\r\n          {location || 'N/A'}\r\n        </Tag>\r\n      )\r\n    },\r\n    {\r\n      title: 'Báº£o hÃ nh',\r\n      key: 'warranty',\r\n      width: 200,\r\n      render: (_, record) => {\r\n        const warranty = record.warranty_display;\r\n        \r\n        // ðŸ›¡ï¸ AI FIX: Add null checks to prevent undefined errors\r\n        if (!warranty) {\r\n          return (\r\n            <div style={{ fontSize: '12px', color: '#999' }}>\r\n              N/A\r\n            </div>\r\n          );\r\n        }\r\n        \r\n        return (\r\n          <div>\r\n            <div style={{ fontSize: '12px', fontWeight: 'bold' }}>\r\n              {warranty.period || 'N/A'}\r\n            </div>\r\n            {warranty.start_date && warranty.start_date !== 'N/A' && (\r\n              <>\r\n                <div style={{ fontSize: '11px', color: '#666' }}>\r\n                  Tá»«: {warranty.start_date}\r\n                </div>\r\n                <div style={{ fontSize: '11px', color: '#666' }}>\r\n                  Äáº¿n: {warranty.end_date || 'N/A'}\r\n                </div>\r\n                <div style={{ marginTop: '4px' }}>\r\n                  {getWarrantyStatusTag(warranty)}\r\n                </div>\r\n              </>\r\n            )}\r\n            <div style={{ fontSize: '11px', color: '#1890ff', marginTop: '2px' }}>\r\n              BH: {warranty.provider || 'N/A'}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      title: 'Thao tÃ¡c',\r\n      key: 'actions',\r\n      width: 100,\r\n      fixed: 'right',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Tooltip title=\"Xem chi tiáº¿t\">\r\n            <Button \r\n              size=\"small\" \r\n              icon={<EyeOutlined />} \r\n              onClick={() => showSerialDetail(record)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Lá»‹ch sá»­\">\r\n            <Button \r\n              size=\"small\" \r\n              icon={<HistoryOutlined />}\r\n              onClick={() => {\r\n                message.info('TÃ­nh nÄƒng lá»‹ch sá»­ sáº½ Ä‘Æ°á»£c phÃ¡t triá»ƒn');\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Space>\r\n      )\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div style={{ display: 'flex', minHeight: 'calc(100vh - 64px)', background: '#f0f2f5' }}>\r\n      {/* ðŸ” SERIAL SEARCH SIDEBAR */}\r\n      <div style={{\r\n        width: '400px',\r\n        background: '#fff',\r\n        boxShadow: '2px 0 8px rgba(0,0,0,0.06)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        borderRight: '1px solid #f0f0f0'\r\n      }}>\r\n        {/* Search Header */}\r\n        <div style={{\r\n          padding: '24px',\r\n          background: 'linear-gradient(135deg, #52c41a, #1890ff)',\r\n          color: 'white',\r\n          textAlign: 'center'\r\n        }}>\r\n          <div style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '8px' }}>\r\n            <BarcodeOutlined style={{ marginRight: '8px' }} />\r\n            TÃ¬m kiáº¿m Serial Number\r\n          </div>\r\n          <div style={{ fontSize: '14px', opacity: 0.9 }}>\r\n            Nháº­p SN Ä‘á»ƒ xem thÃ´ng tin sáº£n pháº©m\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search Input */}\r\n        <div style={{ padding: '20px' }}>\r\n          <AutoComplete\r\n            style={{ width: '100%' }}\r\n            options={serialSuggestions}\r\n            value={quickSearchValue}\r\n            onChange={setQuickSearchValue}\r\n            onSearch={fetchSerialSuggestions}\r\n            onSelect={handleQuickSearch}\r\n            placeholder=\"ðŸ” Nháº­p Serial Number (VD: SN24)...\"\r\n            size=\"large\"\r\n            allowClear\r\n          >\r\n            <Input\r\n              prefix={<ScanOutlined style={{ color: '#1890ff' }} />}\r\n              suffix={\r\n                quickSearchLoading ? (\r\n                  <Spin size=\"small\" />\r\n                ) : (\r\n                  <Button \r\n                    type=\"primary\" \r\n                    icon={<ThunderboltOutlined />}\r\n                    onClick={() => handleQuickSearch(quickSearchValue)}\r\n                    style={{ border: 'none', boxShadow: 'none' }}\r\n                    size=\"small\"\r\n                  >\r\n                    TÃ¬m\r\n                  </Button>\r\n                )\r\n              }\r\n              onPressEnter={() => handleQuickSearch(quickSearchValue)}\r\n              style={{ \r\n                borderRadius: '8px',\r\n                border: '2px solid #1890ff20',\r\n                fontSize: '16px'\r\n              }}\r\n            />\r\n          </AutoComplete>\r\n        </div>\r\n\r\n        {/* Search Results */}\r\n        <div style={{ flex: 1, padding: '0 20px 20px', overflow: 'auto' }}>\r\n          {serialSearchResults.length > 0 ? (\r\n            <div>\r\n              <div style={{ \r\n                fontSize: '16px', \r\n                fontWeight: 'bold', \r\n                marginBottom: '16px',\r\n                padding: '12px',\r\n                background: '#f6ffed',\r\n                borderRadius: '8px',\r\n                border: '1px solid #b7eb8f',\r\n                textAlign: 'center'\r\n              }}>\r\n                ðŸŽ¯ TÃ¬m tháº¥y {serialSearchResults.length} káº¿t quáº£\r\n              </div>\r\n              \r\n              {serialSearchResults.map((serial, index) => (\r\n                <Card\r\n                  key={serial.id || index}\r\n                  size=\"small\"\r\n                  style={{ \r\n                    marginBottom: '12px',\r\n                    border: '1px solid #1890ff20',\r\n                    borderRadius: '8px',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                  onMouseEnter={(e) => e.target.closest('.ant-card').style.transform = 'translateY(-2px)'}\r\n                  onMouseLeave={(e) => e.target.closest('.ant-card').style.transform = 'translateY(0)'}\r\n                  onClick={() => showSerialDetail(serial)}\r\n                >\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                    {/* Serial Number */}\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                      <Text strong style={{ color: '#1890ff', fontSize: '16px' }}>\r\n                        {serial.serial_number}\r\n                      </Text>\r\n                      <Tag color={serial.status === 'available' ? 'green' : \r\n                                 serial.status === 'sold' ? 'red' : 'orange'}>\r\n                        {serial.status_display || serial.status}\r\n                      </Tag>\r\n                    </div>\r\n                    \r\n                    {/* Product Name */}\r\n                    <div style={{ fontSize: '14px', fontWeight: '500' }}>\r\n                      ðŸ“¦ {serial.product_name || 'N/A'}\r\n                    </div>\r\n                    \r\n                    {/* Supplier */}\r\n                    <div style={{ fontSize: '12px', color: '#666' }}>\r\n                      ðŸª {serial.supplier_name || 'N/A'}\r\n                    </div>\r\n                    \r\n                    {/* Condition */}\r\n                    <div style={{ fontSize: '12px' }}>\r\n                      ðŸ”§ <span style={{ color: '#52c41a' }}>{serial.condition_display || serial.condition_grade}</span>\r\n                    </div>\r\n                    \r\n                    {/* Import Time */}\r\n                    <div style={{ fontSize: '12px', color: '#999' }}>\r\n                      ðŸ“… {serial.import_time_display || 'N/A'}\r\n                    </div>\r\n                    \r\n                    {/* Warranty Status */}\r\n                    {serial.warranty_display && serial.warranty_display.period && (\r\n                      <div style={{ \r\n                        fontSize: '12px', \r\n                        padding: '4px 8px',\r\n                        background: serial.warranty_display.status === 'CÃ²n hiá»‡u lá»±c' ? '#f6ffed' : \r\n                                   serial.warranty_display.status === 'Sáº¯p háº¿t háº¡n' ? '#fffbe6' : '#fff2f0',\r\n                        borderRadius: '4px',\r\n                        border: `1px solid ${serial.warranty_display.status === 'CÃ²n hiá»‡u lá»±c' ? '#b7eb8f' : \r\n                                               serial.warranty_display.status === 'Sáº¯p háº¿t háº¡n' ? '#ffe58f' : '#ffccc7'}`\r\n                      }}>\r\n                        ðŸ›¡ï¸ {serial.warranty_display.period || 'N/A'} - {serial.warranty_display.status || 'N/A'}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div style={{ textAlign: 'center', padding: '40px 20px' }}>\r\n              <div style={{ fontSize: '48px', marginBottom: '16px' }}>ðŸ”</div>\r\n              <div style={{ fontSize: '16px', color: '#666', marginBottom: '8px' }}>\r\n                {serialSearchText ? 'KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£' : 'Nháº­p Serial Number Ä‘á»ƒ báº¯t Ä‘áº§u tÃ¬m kiáº¿m'}\r\n              </div>\r\n              <div style={{ fontSize: '14px', color: '#999' }}>\r\n                VD: SN24, SN001, ABC123...\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* MAIN CONTENT */}\r\n      <div style={{ flex: 1, padding: '24px' }}>\r\n        {/* Enhanced Header */}\r\n        <div style={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          marginBottom: '24px',\r\n          padding: '16px 0',\r\n          borderBottom: '2px solid #f0f0f0'\r\n        }}>\r\n          <Title level={2} style={{ margin: 0, display: 'flex', alignItems: 'center' }}>\r\n            <SafetyOutlined style={{ marginRight: '12px', color: '#52c41a', fontSize: '28px' }} />\r\n            <span style={{ background: 'linear-gradient(135deg, #52c41a, #1890ff)', \r\n                         WebkitBackgroundClip: 'text', \r\n                         WebkitTextFillColor: 'transparent' }}>\r\n              Báº£o hÃ nh\r\n            </span>\r\n          </Title>\r\n          \r\n          {/* Action Buttons */}\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <Tag icon={<RobotOutlined />} color=\"green\">AI Enhanced</Tag>\r\n            <Button \r\n              type=\"primary\" \r\n              size=\"large\"\r\n              icon={<PlusOutlined />}\r\n              onClick={() => showModal()}\r\n              style={{ \r\n                background: 'linear-gradient(135deg, #52c41a, #1890ff)',\r\n                border: 'none',\r\n                borderRadius: '8px',\r\n                height: '48px'\r\n              }}\r\n            >\r\n              ðŸ¤– Táº¡o yÃªu cáº§u báº£o hÃ nh\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      \r\n      {/* Stats Cards */}\r\n      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tá»•ng yÃªu cáº§u\"\r\n              value={stats.total_claims || 0}\r\n              prefix={<FileTextOutlined />}\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Chá» duyá»‡t\"\r\n              value={stats.pending_claims || 0}\r\n              prefix={<ClockCircleOutlined />}\r\n              valueStyle={{ color: '#faad14' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Äang xá»­ lÃ½\"\r\n              value={stats.in_progress_claims || 0}\r\n              prefix={<ToolOutlined />}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"HoÃ n thÃ nh\"\r\n              value={stats.completed_claims || 0}\r\n              prefix={<CheckCircleOutlined />}\r\n              valueStyle={{ color: '#52c41a' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Main Content with Tabs */}\r\n      <Card>\r\n        <Tabs \r\n          activeKey={activeTab} \r\n          onChange={setActiveTab}\r\n          size=\"large\"\r\n          style={{ marginTop: '16px' }}\r\n          items={[\r\n            {\r\n              key: 'serials',\r\n              label: (\r\n                <span>\r\n                  <BarcodeOutlined />\r\n                  TÃ¬m kiáº¿m Serial Number\r\n                  <Badge count={serialSearchResults.length} style={{ marginLeft: '8px' }} />\r\n                </span>\r\n              ),\r\n              children: (\r\n                <div>\r\n                  {/* Serial Search Section */}\r\n                  <Row gutter={[16, 16]} style={{ marginBottom: 16 }}>\r\n                    <Col span={12}>\r\n                      <Search\r\n                        placeholder=\"Nháº­p Serial Number, tÃªn sáº£n pháº©m hoáº·c nhÃ  cung cáº¥p...\"\r\n                        value={serialSearchText}\r\n                        onChange={(e) => setSerialSearchText(e.target.value)}\r\n                        onSearch={handleSerialSearch}\r\n                        enterButton={\r\n                          <Button type=\"primary\" icon={<SearchOutlined />}>\r\n                            TÃ¬m kiáº¿m\r\n                          </Button>\r\n                        }\r\n                        size=\"large\"\r\n                        allowClear\r\n                        loading={serialSearchLoading}\r\n                      />\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Alert\r\n                        message=\"ðŸ’¡ TÃ¬m kiáº¿m nÃ¢ng cao\"\r\n                        description=\"Báº¡n cÃ³ thá»ƒ tÃ¬m theo Serial Number, tÃªn sáº£n pháº©m, hoáº·c tÃªn nhÃ  cung cáº¥p. Káº¿t quáº£ sáº½ hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin báº£o hÃ nh vÃ  tráº¡ng thÃ¡i.\"\r\n                        type=\"info\"\r\n                        showIcon\r\n                        style={{ height: '100%' }}\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  {/* Serial Results Table */}\r\n                  {serialSearchResults.length > 0 ? (\r\n                    <Table\r\n                      columns={serialColumns}\r\n                      dataSource={serialSearchResults}\r\n                      rowKey=\"id\"\r\n                      loading={serialSearchLoading}\r\n                      pagination={{\r\n                        total: serialSearchResults.length,\r\n                        pageSize: 10,\r\n                        showSizeChanger: true,\r\n                        showTotal: (total, range) => \r\n                          `${range[0]}-${range[1]} cá»§a ${total} serial number`\r\n                      }}\r\n                      scroll={{ x: 1400 }}\r\n                      size=\"middle\"\r\n                    />\r\n                  ) : (\r\n                    <Empty\r\n                      image={Empty.PRESENTED_IMAGE_SIMPLE}\r\n                      description={\r\n                        <span>\r\n                          {serialSearchText ? \r\n                            'KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£ nÃ o' : \r\n                            'Nháº­p tá»« khÃ³a Ä‘á»ƒ tÃ¬m kiáº¿m Serial Number'\r\n                          }\r\n                        </span>\r\n                      }\r\n                      extra={\r\n                        <Button \r\n                          type=\"primary\" \r\n                          icon={<PlusOutlined />}\r\n                          onClick={() => showModal()}\r\n                          style={{ \r\n                            background: 'linear-gradient(135deg, #52c41a, #1890ff)',\r\n                            border: 'none',\r\n                            borderRadius: '8px'\r\n                          }}\r\n                        >\r\n                          Táº¡o yÃªu cáº§u báº£o hÃ nh\r\n                        </Button>\r\n                      }\r\n                    />\r\n                  )}\r\n\r\n                  {/* Quick Action Buttons */}\r\n                  <div style={{ \r\n                    marginTop: '24px', \r\n                    padding: '16px',\r\n                    background: 'linear-gradient(135deg, #f6f9fc, #e8f4fd)',\r\n                    borderRadius: '12px',\r\n                    textAlign: 'center'\r\n                  }}>\r\n                    <Space size=\"large\">\r\n                      <Button \r\n                        type=\"primary\" \r\n                        size=\"large\"\r\n                        icon={<PlusOutlined />}\r\n                        onClick={() => showModal()}\r\n                        style={{ \r\n                          background: 'linear-gradient(135deg, #52c41a, #1890ff)',\r\n                          border: 'none',\r\n                          borderRadius: '8px',\r\n                          height: '48px',\r\n                          minWidth: '200px'\r\n                        }}\r\n                      >\r\n                        ðŸ¤– Táº¡o yÃªu cáº§u báº£o hÃ nh\r\n                      </Button>\r\n                      <Button \r\n                        size=\"large\"\r\n                        icon={<BarcodeOutlined />}\r\n                        onClick={() => {\r\n                          setActiveTab('serials');\r\n                          setSerialSearchText('');\r\n                          setSerialSearchResults([]);\r\n                        }}\r\n                        style={{ \r\n                          borderRadius: '8px',\r\n                          height: '48px',\r\n                          minWidth: '180px'\r\n                        }}\r\n                      >\r\n                        QuÃ©t Serial Number\r\n                      </Button>\r\n                    </Space>\r\n                                     </div>\r\n                </div>\r\n              )\r\n            },\r\n            {\r\n              key: 'claims',\r\n              label: (\r\n                <span>\r\n                  <ToolOutlined />\r\n                  YÃªu cáº§u Báº£o hÃ nh\r\n                  <Badge count={stats.pending_claims || 0} status=\"processing\" style={{ marginLeft: '8px' }} />\r\n                </span>\r\n              ),\r\n              children: (\r\n                <div>\r\n                  {/* Warranty Claims Management */}\r\n                  <Row gutter={[16, 16]} style={{ marginBottom: 16 }}>\r\n                    <Col span={16}>\r\n                      <Alert\r\n                        message=\"ðŸ“‹ Quáº£n lÃ½ YÃªu cáº§u Báº£o hÃ nh\"\r\n                        description=\"Táº¡o, theo dÃµi vÃ  xá»­ lÃ½ cÃ¡c yÃªu cáº§u báº£o hÃ nh tá»« khÃ¡ch hÃ ng. Sá»­ dá»¥ng tÃ­nh nÄƒng AI Auto-fill Ä‘á»ƒ táº¡o nhanh tá»« Serial Number.\"\r\n                        type=\"info\"\r\n                        showIcon\r\n                      />\r\n                    </Col>\r\n                    <Col span={8}>\r\n                      <div style={{ textAlign: 'right' }}>\r\n                        <Button \r\n                          type=\"primary\" \r\n                          size=\"large\"\r\n                          icon={<PlusOutlined />}\r\n                          onClick={() => showModal()}\r\n                          style={{ \r\n                            background: 'linear-gradient(135deg, #52c41a, #1890ff)',\r\n                            border: 'none',\r\n                            borderRadius: '8px',\r\n                            height: '48px'\r\n                          }}\r\n                        >\r\n                          ðŸ¤– Táº¡o yÃªu cáº§u báº£o hÃ nh\r\n                        </Button>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  {/* Claims Summary Cards */}\r\n                  <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>\r\n                    <Col span={6}>\r\n                      <Card size=\"small\" style={{ textAlign: 'center', borderLeft: '4px solid #1890ff' }}>\r\n                        <Statistic\r\n                          title=\"Tá»•ng yÃªu cáº§u\"\r\n                          value={stats.total_claims || 0}\r\n                          prefix={<FileTextOutlined style={{ color: '#1890ff' }} />}\r\n                          valueStyle={{ color: '#1890ff', fontSize: '24px' }}\r\n                        />\r\n                      </Card>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                      <Card size=\"small\" style={{ textAlign: 'center', borderLeft: '4px solid #faad14' }}>\r\n                        <Statistic\r\n                          title=\"Chá» xá»­ lÃ½\"\r\n                          value={stats.pending_claims || 0}\r\n                          prefix={<ClockCircleOutlined style={{ color: '#faad14' }} />}\r\n                          valueStyle={{ color: '#faad14', fontSize: '24px' }}\r\n                        />\r\n                      </Card>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                      <Card size=\"small\" style={{ textAlign: 'center', borderLeft: '4px solid #722ed1' }}>\r\n                        <Statistic\r\n                          title=\"Äang xá»­ lÃ½\"\r\n                          value={stats.in_progress_claims || 0}\r\n                          prefix={<ToolOutlined style={{ color: '#722ed1' }} />}\r\n                          valueStyle={{ color: '#722ed1', fontSize: '24px' }}\r\n                        />\r\n                      </Card>\r\n                    </Col>\r\n                    <Col span={6}>\r\n                      <Card size=\"small\" style={{ textAlign: 'center', borderLeft: '4px solid #52c41a' }}>\r\n                        <Statistic\r\n                          title=\"HoÃ n thÃ nh\"\r\n                          value={stats.completed_claims || 0}\r\n                          prefix={<CheckCircleOutlined style={{ color: '#52c41a' }} />}\r\n                          valueStyle={{ color: '#52c41a', fontSize: '24px' }}\r\n                        />\r\n                      </Card>\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  {/* Claims List */}\r\n                  <Card title=\"ðŸ“‹ Danh sÃ¡ch YÃªu cáº§u Báº£o hÃ nh\" style={{ marginTop: '16px' }}>\r\n                    <Table\r\n                      columns={[\r\n                        {\r\n                          title: 'MÃ£ yÃªu cáº§u',\r\n                          dataIndex: 'claim_number',\r\n                          key: 'claim_number',\r\n                          render: (text) => <Text code>{text || 'ChÆ°a cÃ³'}</Text>\r\n                        },\r\n                        {\r\n                          title: 'Serial Number',\r\n                          dataIndex: 'serial_number',\r\n                          key: 'serial_number',\r\n                          render: (text) => <Text copyable strong style={{ color: '#1890ff' }}>{text}</Text>\r\n                        },\r\n                        {\r\n                          title: 'Sáº£n pháº©m',\r\n                          dataIndex: 'product_name',\r\n                          key: 'product_name',\r\n                          render: (text) => text || 'N/A'\r\n                        },\r\n                        {\r\n                          title: 'KhÃ¡ch hÃ ng',\r\n                          dataIndex: 'customer_name',\r\n                          key: 'customer_name',\r\n                          render: (text) => text || 'N/A'\r\n                        },\r\n                        {\r\n                          title: 'NhÃ  cung cáº¥p',\r\n                          dataIndex: 'supplier_name',\r\n                          key: 'supplier_name',\r\n                          render: (text, record) => {\r\n                            if (!text) return <Text type=\"secondary\">N/A</Text>;\r\n                            return (\r\n                              <div>\r\n                                <div style={{ fontWeight: '500', color: '#1890ff' }}>\r\n                                  ðŸª {text}\r\n                                </div>\r\n                                {record.supplier_code && (\r\n                                  <div style={{ fontSize: '11px', color: '#666' }}>\r\n                                    {record.supplier_code}\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          }\r\n                        },\r\n                        {\r\n                          title: 'Tráº¡ng thÃ¡i',\r\n                          dataIndex: 'status',\r\n                          key: 'status',\r\n                          render: (status) => {\r\n                            const statusInfo = claimStatuses.find(s => s.value === status);\r\n                            return <Tag color={statusInfo?.color}>{statusInfo?.label || status}</Tag>;\r\n                          }\r\n                        },\r\n                        {\r\n                          title: 'NgÃ y táº¡o',\r\n                          dataIndex: 'created_at',\r\n                          key: 'created_at',\r\n                          render: (date) => date ? moment(date).format('DD/MM/YYYY HH:mm') : 'N/A'\r\n                        },\r\n                        {\r\n                          title: 'Thao tÃ¡c',\r\n                          key: 'actions',\r\n                          render: (_, record) => (\r\n                            <Space>\r\n                              <Button size=\"small\" icon={<EyeOutlined />} title=\"Xem chi tiáº¿t\" />\r\n                              <Button size=\"small\" icon={<EditOutlined />} onClick={() => showModal(record)} title=\"Chá»‰nh sá»­a\" />\r\n                            </Space>\r\n                          )\r\n                        }\r\n                      ]}\r\n                      dataSource={claims}\r\n                      rowKey=\"id\"\r\n                      loading={loading}\r\n                      pagination={{\r\n                        pageSize: 10,\r\n                        showSizeChanger: true,\r\n                        showTotal: (total, range) => `${range[0]}-${range[1]} cá»§a ${total} yÃªu cáº§u`\r\n                      }}\r\n                      locale={{\r\n                        emptyText: (\r\n                          <Empty\r\n                            image={Empty.PRESENTED_IMAGE_SIMPLE}\r\n                            description=\"ChÆ°a cÃ³ yÃªu cáº§u báº£o hÃ nh nÃ o\"\r\n                            extra={\r\n                              <Button \r\n                                type=\"primary\" \r\n                                icon={<PlusOutlined />}\r\n                                onClick={() => showModal()}\r\n                              >\r\n                                Táº¡o yÃªu cáº§u Ä‘áº§u tiÃªn\r\n                              </Button>\r\n                            }\r\n                          />\r\n                        )\r\n                      }}\r\n                    />\r\n                  </Card>\r\n                </div>\r\n              )\r\n            }\r\n          ]}\r\n        />\r\n      </Card>\r\n\r\n      {/* Serial Detail Drawer */}\r\n      <Drawer\r\n        title={\r\n          <span>\r\n            <BarcodeOutlined style={{ marginRight: 8 }} />\r\n            Chi tiáº¿t Serial Number\r\n          </span>\r\n        }\r\n        placement=\"right\"\r\n        width={600}\r\n        onClose={() => setSerialDetailDrawer(false)}\r\n        open={serialDetailDrawer}\r\n      >\r\n        {selectedSerial && (\r\n          <div>\r\n            <Descriptions title=\"ThÃ´ng tin Serial\" bordered>\r\n              <Descriptions.Item label=\"Serial Number\" span={2}>\r\n                <Text copyable strong style={{ fontSize: '16px', color: '#1890ff' }}>\r\n                  {selectedSerial.serial_number}\r\n                </Text>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Sáº£n pháº©m\" span={2}>\r\n                <div>\r\n                  <div style={{ fontWeight: 'bold' }}>{selectedSerial.product_name}</div>\r\n                  <div style={{ color: '#666' }}>SKU: {selectedSerial.product_sku}</div>\r\n                </div>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Tráº¡ng thÃ¡i\">\r\n                {getStatusTag(selectedSerial.status)}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"TÃ¬nh tráº¡ng\">\r\n                {getConditionTag(selectedSerial.condition_grade)}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Vá»‹ trÃ­\">\r\n                <Tag icon={<EnvironmentOutlined />}>\r\n                  {selectedSerial.location || 'N/A'}\r\n                </Tag>\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n            <Divider />\r\n\r\n            <Descriptions title=\"ThÃ´ng tin NhÃ  cung cáº¥p\" bordered>\r\n              <Descriptions.Item label=\"TÃªn nhÃ  cung cáº¥p\" span={2}>\r\n                {selectedSerial.supplier_name || 'N/A'}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"MÃ£ nhÃ  cung cáº¥p\">\r\n                {selectedSerial.supplier_code || 'N/A'}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"NgÆ°á»i liÃªn há»‡\">\r\n                {selectedSerial.supplier_contact || 'N/A'}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"NgÃ y nháº­p\">\r\n                <Tag icon={<CalendarOutlined />}>\r\n                  {selectedSerial.purchase_date ? \r\n                    formatDate(selectedSerial.purchase_date) : 'N/A'\r\n                  }\r\n                </Tag>\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"GiÃ¡ nháº­p\">\r\n                {selectedSerial.purchase_price ? \r\n                  formatCurrency(selectedSerial.purchase_price) : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n            <Divider />\r\n\r\n            <Descriptions title=\"ThÃ´ng tin Báº£o hÃ nh\" bordered>\r\n              <Descriptions.Item label=\"Thá»i gian báº£o hÃ nh\" span={2}>\r\n                {selectedSerial.warranty_months_total > 0 ? \r\n                  `${selectedSerial.warranty_months_total} thÃ¡ng` : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"NgÃ y báº¯t Ä‘áº§u\">\r\n                {selectedSerial.warranty_start_date ? \r\n                  new Date(selectedSerial.warranty_start_date).toLocaleDateString('vi-VN') : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"NgÃ y káº¿t thÃºc\">\r\n                {selectedSerial.warranty_end_date ? \r\n                  new Date(selectedSerial.warranty_end_date).toLocaleDateString('vi-VN') : 'N/A'\r\n                }\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"Tráº¡ng thÃ¡i báº£o hÃ nh\" span={2}>\r\n                {getWarrantyStatusTag({ status: selectedSerial.warranty_status })}\r\n                {selectedSerial.warranty_days_left > 0 && (\r\n                  <Text style={{ marginLeft: 8, color: '#666' }}>\r\n                    (CÃ²n {selectedSerial.warranty_days_left} ngÃ y)\r\n                  </Text>\r\n                )}\r\n              </Descriptions.Item>\r\n              <Descriptions.Item label=\"NhÃ  cung cáº¥p báº£o hÃ nh\" span={2}>\r\n                {selectedSerial.warranty_provider || 'N/A'}\r\n              </Descriptions.Item>\r\n            </Descriptions>\r\n\r\n            {/* Sale Information if sold */}\r\n            {selectedSerial.sold_date && (\r\n              <>\r\n                <Divider />\r\n                <Descriptions title=\"ThÃ´ng tin BÃ¡n hÃ ng\" bordered>\r\n                  <Descriptions.Item label=\"NgÃ y bÃ¡n\">\r\n                    {new Date(selectedSerial.sold_date).toLocaleDateString('vi-VN')}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"GiÃ¡ bÃ¡n\">\r\n                    {formatCurrency(selectedSerial.sold_price)}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"KhÃ¡ch hÃ ng\" span={2}>\r\n                    <div>\r\n                      <div>{selectedSerial.customer_name}</div>\r\n                      <div style={{ color: '#666' }}>{selectedSerial.customer_phone}</div>\r\n                    </div>\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"MÃ£ Ä‘Æ¡n hÃ ng\">\r\n                    <Text code>{selectedSerial.order_number}</Text>\r\n                  </Descriptions.Item>\r\n                </Descriptions>\r\n              </>\r\n            )}\r\n\r\n            {selectedSerial.notes && (\r\n              <>\r\n                <Divider />\r\n                <Card size=\"small\" title=\"Ghi chÃº\">\r\n                  <Text>{selectedSerial.notes}</Text>\r\n                </Card>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n              </Drawer>\r\n\r\n      {/* ðŸ¤– Enhanced Create/Edit Warranty Modal with Auto-fill */}\r\n      <Modal\r\n        title={\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n            <RobotOutlined style={{ color: '#52c41a' }} />\r\n            <span>{selectedClaim ? 'Chá»‰nh sá»­a yÃªu cáº§u báº£o hÃ nh' : 'Táº¡o yÃªu cáº§u báº£o hÃ nh'}</span>\r\n            <Tag color=\"green\" size=\"small\">AI Auto-fill</Tag>\r\n          </div>\r\n        }\r\n        open={isModalVisible}\r\n        onCancel={() => setIsModalVisible(false)}\r\n        footer={null}\r\n        width={900}\r\n        style={{ top: 50 }}\r\n      >\r\n        <Form form={form} layout=\"vertical\" onFinish={handleSubmit}>\r\n          {/* AI-Enhanced Serial Number Input */}\r\n          <Alert\r\n            message=\"ðŸ¤– AI ThÃ´ng minh: Nháº­p Serial Number vÃ  báº¥m Enter Ä‘á»ƒ tá»± Ä‘á»™ng Ä‘iá»n toÃ n bá»™ thÃ´ng tin!\"\r\n            type=\"info\"\r\n            showIcon\r\n            style={{ marginBottom: 16 }}\r\n          />\r\n          \r\n          <Form.Item \r\n            label={\r\n              <span style={{ fontWeight: 'bold', color: '#1890ff' }}>\r\n                <BarcodeOutlined style={{ marginRight: '4px' }} />\r\n                Serial Number\r\n              </span>\r\n            } \r\n            name=\"serial_number\" \r\n            rules={[{ required: true, message: 'Vui lÃ²ng nháº­p Serial Number' }]}\r\n          >\r\n            <AutoComplete\r\n              options={serialSuggestions}\r\n              onSearch={fetchSerialSuggestions}\r\n              placeholder=\"Nháº­p Serial Number (VD: SN24, SN12341234...)\"\r\n              size=\"large\"\r\n              style={{ width: '100%' }}\r\n              onPressEnter={(e) => handleSerialAutoFill(e.target.value)}\r\n              onSelect={(value) => handleSerialAutoFill(value)}\r\n              suffix={\r\n                autoFillLoading ? (\r\n                  <Spin size=\"small\" />\r\n                ) : (\r\n                  <Tooltip title=\"Báº¥m Enter Ä‘á»ƒ auto-fill\">\r\n                    <ThunderboltOutlined style={{ color: '#52c41a' }} />\r\n                  </Tooltip>\r\n                )\r\n              }\r\n            />\r\n          </Form.Item>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item label=\"Sáº£n pháº©m\" name=\"product_id\">\r\n                <Select \r\n                  placeholder=\"Chá»n sáº£n pháº©m\" \r\n                  allowClear\r\n                  showSearch\r\n                  filterOption={(input, option) =>\r\n                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {products.map(product => (\r\n                    <Option key={product.id} value={product.id}>{product.name}</Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item label=\"KhÃ¡ch hÃ ng\" name=\"customer_id\">\r\n                <Select \r\n                  placeholder=\"Chá»n khÃ¡ch hÃ ng\" \r\n                  allowClear\r\n                  showSearch\r\n                  filterOption={(input, option) =>\r\n                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {customers.map(customer => (\r\n                    <Option key={customer.id} value={customer.id}>{customer.name}</Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={8}>\r\n              <Form.Item label=\"NhÃ  cung cáº¥p\" name=\"supplier_id\">\r\n                <Select placeholder=\"Chá»n nhÃ  cung cáº¥p\" allowClear showSearch\r\n                  filterOption={(input, option) =>\r\n                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                  }\r\n                >\r\n                  {suppliers.map(supplier => (\r\n                    <Option key={supplier.id} value={supplier.id}>\r\n                      ðŸª {supplier.name}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Ká»¹ thuáº­t viÃªn\" name=\"assigned_technician_id\">\r\n                <Select placeholder=\"Chá»n ká»¹ thuáº­t viÃªn\" allowClear>\r\n                  {users.map(user => (\r\n                    <Option key={user.id} value={user.id}>{user.full_name}</Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Æ¯u tiÃªn\" name=\"priority\">\r\n                <Select placeholder=\"Chá»n Æ°u tiÃªn\" defaultValue=\"normal\">\r\n                  {priorities.map(priority => (\r\n                    <Option key={priority.value} value={priority.value}>\r\n                      <Tag color={priority.color}>{priority.label}</Tag>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item label=\"MÃ´ táº£ váº¥n Ä‘á»\" name=\"issue_description\" rules={[{ required: true }]}>\r\n            <Input.TextArea \r\n              rows={4} \r\n              placeholder=\"MÃ´ táº£ chi tiáº¿t váº¥n Ä‘á» cáº§n báº£o hÃ nh...\"\r\n              showCount\r\n              maxLength={500}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Loáº¡i yÃªu cáº§u\" name=\"claim_type\">\r\n                <Select placeholder=\"Chá»n loáº¡i\" defaultValue=\"repair\">\r\n                  {claimTypes.map(type => (\r\n                    <Option key={type.value} value={type.value}>{type.label}</Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Tráº¡ng thÃ¡i\" name=\"status\">\r\n                <Select placeholder=\"Chá»n tráº¡ng thÃ¡i\" defaultValue=\"pending\">\r\n                  {claimStatuses.map(status => (\r\n                    <Option key={status.value} value={status.value}>\r\n                      <Tag color={status.color}>{status.label}</Tag>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"NgÃ y dá»± kiáº¿n hoÃ n thÃ nh\" name=\"expected_completion_date\">\r\n                <DatePicker \r\n                  style={{ width: '100%' }}\r\n                  placeholder=\"Chá»n ngÃ y\"\r\n                  disabledDate={(current) => current && current < moment().endOf('day')}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Warranty Information */}\r\n          <Divider orientation=\"left\">\r\n            <span style={{ color: '#52c41a' }}>\r\n              <SafetyOutlined style={{ marginRight: '4px' }} />\r\n              ThÃ´ng tin Báº£o hÃ nh\r\n            </span>\r\n          </Divider>\r\n          \r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item label=\"NgÃ y báº¯t Ä‘áº§u báº£o hÃ nh\" name=\"warranty_start_date\">\r\n                <DatePicker style={{ width: '100%' }} placeholder=\"Chá»n ngÃ y báº¯t Ä‘áº§u\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item label=\"NgÃ y káº¿t thÃºc báº£o hÃ nh\" name=\"warranty_end_date\">\r\n                <DatePicker style={{ width: '100%' }} placeholder=\"Chá»n ngÃ y káº¿t thÃºc\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item style={{ marginTop: '24px', textAlign: 'right' }}>\r\n            <Space>\r\n              <Button onClick={() => setIsModalVisible(false)} size=\"large\">\r\n                Há»§y\r\n              </Button>\r\n              <Button \r\n                type=\"primary\" \r\n                htmlType=\"submit\"\r\n                size=\"large\"\r\n                icon={selectedClaim ? <EditOutlined /> : <PlusOutlined />}\r\n                style={{ \r\n                  background: 'linear-gradient(135deg, #52c41a, #1890ff)',\r\n                  border: 'none'\r\n                }}\r\n              >\r\n                {selectedClaim ? 'Cáº­p nháº­t' : 'Táº¡o má»›i'}\r\n              </Button>\r\n            </Space>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarrantyPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}