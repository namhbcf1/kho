{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Row,Col,Statistic,Select,DatePicker,Table,Space,Button,Tabs,Progress,List,Tag,Tooltip,Alert,Typography,Divider}from'antd';import{LineChart,Line,AreaChart,Area,BarChart,Bar,PieChart,Pie,Cell,XAxis,YAxis,CartesianGrid,Tooltip as RechartsTooltip,ResponsiveContainer,Legend}from'recharts';import{DollarOutlined,ShoppingCartOutlined,UserOutlined,RiseOutlined,FallOutlined,DownloadOutlined,BarChartOutlined,PieChartOutlined,LineChartOutlined}from'@ant-design/icons';import{reportsAPI,ordersAPI}from'../services/api';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;const{RangePicker}=DatePicker;const{TabPane}=Tabs;const{Title,Text}=Typography;const EnhancedReportsPage=()=>{const[loading,setLoading]=useState(false);const[dateRange,setDateRange]=useState([moment().subtract(30,'days'),moment()]);const[reportType,setReportType]=useState('overview');const[dashboardStats,setDashboardStats]=useState({});const[salesData,setSalesData]=useState([]);const[bestSellingProducts,setBestSellingProducts]=useState([]);const[categoryStats,setCategoryStats]=useState([]);const[profitData,setProfitData]=useState([]);const[customerStats,setCustomerStats]=useState([]);const COLORS=['#8884d8','#82ca9d','#ffc658','#ff7300','#0088fe','#00c49f'];useEffect(()=>{fetchAllReports();},[dateRange]);const fetchAllReports=async()=>{setLoading(true);try{await Promise.all([fetchDashboardStats(),fetchSalesData(),fetchBestSellingProducts(),fetchCategoryStats(),fetchProfitData(),fetchCustomerStats()]);}catch(error){console.error('Error fetching reports:',error);}finally{setLoading(false);}};const fetchDashboardStats=async()=>{try{const response=await reportsAPI.getDashboardStats();if(response.data.success){setDashboardStats(response.data.data);}}catch(error){console.error('Error fetching dashboard stats:',error);}};const fetchSalesData=async()=>{try{const response=await reportsAPI.getSalesReport({start_date:dateRange[0].format('YYYY-MM-DD'),end_date:dateRange[1].format('YYYY-MM-DD')});if(response.data.success){setSalesData(response.data.data);}}catch(error){console.error('Error fetching sales data:',error);}};const fetchBestSellingProducts=async()=>{try{const response=await reportsAPI.getBestSelling({limit:10});if(response.data.success){setBestSellingProducts(response.data.data);}}catch(error){console.error('Error fetching best selling products:',error);}};const fetchCategoryStats=async()=>{try{const response=await reportsAPI.getCategoryStats();if(response.data.success){setCategoryStats(response.data.data);}}catch(error){console.error('Error fetching category stats:',error);}};const fetchProfitData=async()=>{try{const response=await reportsAPI.getProfitReport({start_date:dateRange[0].format('YYYY-MM-DD'),end_date:dateRange[1].format('YYYY-MM-DD')});if(response.data.success){setProfitData(response.data.data);}}catch(error){console.error('Error fetching profit data:',error);}};const fetchCustomerStats=async()=>{try{const response=await reportsAPI.getCustomerStats();if(response.data.success){setCustomerStats(response.data.data);}}catch(error){console.error('Error fetching customer stats:',error);}};const renderOverviewTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Doanh thu h\\xF4m nay\",value:dashboardStats.today_revenue||12500000,prefix:/*#__PURE__*/_jsx(DollarOutlined,{}),suffix:\"\\u20AB\",valueStyle:{color:'#3f8600'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110\\u01A1n h\\xE0ng h\\xF4m nay\",value:dashboardStats.today_orders||24,prefix:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Kh\\xE1ch h\\xE0ng m\\u1EDBi\",value:15,prefix:/*#__PURE__*/_jsx(UserOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1EF7 l\\u1EC7 l\\u1EE3i nhu\\u1EADn\",value:28.5,prefix:/*#__PURE__*/_jsx(RiseOutlined,{}),suffix:\"%\",valueStyle:{color:'#cf1322'}})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Card,{title:\"Bi\\u1EC3u \\u0111\\u1ED3 doanh thu 30 ng\\xE0y qua\",loading:loading,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(AreaChart,{data:salesData,children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorRevenue\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:\"#8884d8\",stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:\"#8884d8\",stopOpacity:0})]})}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:value=>[\"\".concat(typeof value==='number'?value.toLocaleString('vi-VN'):'',\" \\u20AB\"),'Doanh thu']}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"revenue\",stroke:\"#8884d8\",fillOpacity:1,fill:\"url(#colorRevenue)\"})]})})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n b\\u1ED1 theo danh m\\u1EE5c\",loading:loading,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:categoryStats,cx:\"50%\",cy:\"50%\",outerRadius:80,fill:\"#8884d8\",dataKey:\"percentage\",label:_ref=>{let{category,percentage}=_ref;return\"\".concat(category,\": \").concat(percentage,\"%\");},children:categoryStats.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(RechartsTooltip,{})]})})})})]}),/*#__PURE__*/_jsx(Card,{title:\"S\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y nh\\u1EA5t\",loading:loading,children:/*#__PURE__*/_jsx(Table,{dataSource:bestSellingProducts,pagination:false,size:\"small\",columns:[{title:'Sản phẩm',dataIndex:'name',key:'name',render:(name,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:name}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",size:\"small\",children:record.category})]})},{title:'Đã bán',dataIndex:'total_sold',key:'total_sold',width:100,sorter:(a,b)=>a.total_sold-b.total_sold},{title:'Doanh thu',dataIndex:'revenue',key:'revenue',width:150,render:revenue=>\"\".concat(typeof revenue==='number'?revenue.toLocaleString('vi-VN'):'',\" \\u20AB\"),sorter:(a,b)=>a.revenue-b.revenue},{title:'Tỷ lệ',key:'progress',width:100,render:(_,record)=>{const maxSold=Math.max(...bestSellingProducts.map(p=>p.total_sold));const percentage=record.total_sold/maxSold*100;return/*#__PURE__*/_jsx(Progress,{percent:percentage,size:\"small\",showInfo:false});}}]})})]});const renderSalesTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Doanh thu theo th\\u1EDDi gian\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(LineChart,{data:salesData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:value=>[\"\".concat(typeof value==='number'?value.toLocaleString('vi-VN'):'',\" \\u20AB\"),'Doanh thu']}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"revenue\",stroke:\"#8884d8\",name:\"Doanh thu\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"profit\",stroke:\"#82ca9d\",name:\"L\\u1EE3i nhu\\u1EADn\"})]})})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng theo ng\\xE0y\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:salesData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"orders\",fill:\"#ffc658\",name:\"\\u0110\\u01A1n h\\xE0ng\"})]})})})})]}),/*#__PURE__*/_jsx(Card,{title:\"Th\\u1ED1ng k\\xEA kh\\xE1ch h\\xE0ng\",children:/*#__PURE__*/_jsx(Row,{gutter:16,children:customerStats.map((stat,index)=>/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(Card,{size:\"small\",children:[/*#__PURE__*/_jsx(Statistic,{title:stat.type,value:stat.count,suffix:\"kh\\xE1ch\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"Doanh thu: \",typeof stat.revenue==='number'?stat.revenue.toLocaleString('vi-VN'):'',\" \\u20AB\"]})})]})},index))})})]});const renderInventoryTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Alert,{message:\"B\\xE1o c\\xE1o t\\u1ED3n kho\",description:\"Theo d\\xF5i t\\xECnh tr\\u1EA1ng t\\u1ED3n kho, s\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y v\\xE0 s\\u1EA3n ph\\u1EA9m \\u1EBF \\u1EA9m\",type:\"info\",style:{marginBottom:16}}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EA3n ph\\u1EA9m s\\u1EAFp h\\u1EBFt\",value:12,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(FallOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EA3n ph\\u1EA9m \\u1EBF \\u1EA9m\",value:8,valueStyle:{color:'#fa8c16'}})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Gi\\xE1 tr\\u1ECB t\\u1ED3n kho\",value:2500000000,suffix:\"\\u20AB\",valueStyle:{color:'#1890ff'}})})})]}),/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch t\\u1ED3n kho theo danh m\\u1EE5c\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:categoryStats,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"category\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:value=>[\"\".concat(typeof value==='number'?value.toLocaleString('vi-VN'):'',\" \\u20AB\"),'Giá trị tồn kho']}),/*#__PURE__*/_jsx(Bar,{dataKey:\"revenue\",fill:\"#8884d8\"})]})})})]});const renderProfitTab=()=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch l\\u1EE3i nhu\\u1EADn 12 th\\xE1ng\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:profitData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\"}),/*#__PURE__*/_jsx(YAxis,{tickFormatter:value=>\"\".concat((value/1000000).toFixed(0),\"M\")}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(RechartsTooltip,{formatter:(value,name)=>[\"\".concat(typeof value==='number'?value.toLocaleString('vi-VN'):'',\" \\u20AB\"),name==='revenue'?'Doanh thu':name==='cost'?'Chi phí':'Lợi nhuận']}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"revenue\",fill:\"#8884d8\",name:\"revenue\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"cost\",fill:\"#ff7300\",name:\"cost\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"profit\",fill:\"#00c49f\",name:\"profit\"})]})})}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginTop:24},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"T\\u1EF7 su\\u1EA5t l\\u1EE3i nhu\\u1EADn\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px 0'},children:[/*#__PURE__*/_jsx(Progress,{type:\"circle\",percent:28.5,format:percent=>\"\".concat(percent,\"%\"),strokeColor:\"#52c41a\",width:120}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsx(Text,{strong:true,children:\"T\\u1EF7 su\\u1EA5t l\\u1EE3i nhu\\u1EADn trung b\\xECnh\"})})]})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Ph\\xE2n t\\xEDch chi ph\\xED\",children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:[{name:'Chi phí hàng hóa',value:70,color:'#ff4d4f'},{name:'Chi phí vận hành',value:15,color:'#faad14'},{name:'Chi phí marketing',value:8,color:'#1890ff'},{name:'Chi phí khác',value:7,color:'#52c41a'}],renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:4},children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[item.value,\"%\"]})]}),/*#__PURE__*/_jsx(Progress,{percent:item.value,strokeColor:item.color,showInfo:false})]})})})})})]})]});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24,display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"B\\xE1o c\\xE1o v\\xE0 ph\\xE2n t\\xEDch\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Theo d\\xF5i hi\\u1EC7u qu\\u1EA3 kinh doanh v\\xE0 ph\\xE2n t\\xEDch d\\u1EEF li\\u1EC7u\"})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(RangePicker,{value:dateRange,onChange:setDateRange,ranges:{'Hôm nay':[moment(),moment()],'7 ngày qua':[moment().subtract(6,'days'),moment()],'30 ngày qua':[moment().subtract(29,'days'),moment()],'Tháng này':[moment().startOf('month'),moment().endOf('month')],'Tháng trước':[moment().subtract(1,'month').startOf('month'),moment().subtract(1,'month').endOf('month')]}}),/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),children:\"Xu\\u1EA5t b\\xE1o c\\xE1o\"})]})]}),/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"overview\",size:\"large\",children:[/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(BarChartOutlined,{}),\"T\\u1ED5ng quan\"]}),children:renderOverviewTab()},\"overview\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(LineChartOutlined,{}),\"Doanh s\\u1ED1\"]}),children:renderSalesTab()},\"sales\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(PieChartOutlined,{}),\"T\\u1ED3n kho\"]}),children:renderInventoryTab()},\"inventory\"),/*#__PURE__*/_jsx(TabPane,{tab:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(DollarOutlined,{}),\"L\\u1EE3i nhu\\u1EADn\"]}),children:renderProfitTab()},\"profit\")]})]});};export default EnhancedReportsPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Row","Col","Statistic","Select","DatePicker","Table","Space","Button","Tabs","Progress","List","Tag","Tooltip","Alert","Typography","Divider","LineChart","Line","AreaChart","Area","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","RechartsTooltip","ResponsiveContainer","Legend","DollarOutlined","ShoppingCartOutlined","UserOutlined","RiseOutlined","FallOutlined","DownloadOutlined","BarChartOutlined","PieChartOutlined","LineChartOutlined","reportsAPI","ordersAPI","moment","jsx","_jsx","jsxs","_jsxs","Option","RangePicker","TabPane","Title","Text","EnhancedReportsPage","loading","setLoading","dateRange","setDateRange","subtract","reportType","setReportType","dashboardStats","setDashboardStats","salesData","setSalesData","bestSellingProducts","setBestSellingProducts","categoryStats","setCategoryStats","profitData","setProfitData","customerStats","setCustomerStats","COLORS","fetchAllReports","Promise","all","fetchDashboardStats","fetchSalesData","fetchBestSellingProducts","fetchCategoryStats","fetchProfitData","fetchCustomerStats","error","console","response","getDashboardStats","data","success","getSalesReport","start_date","format","end_date","getBestSelling","limit","getCategoryStats","getProfitReport","getCustomerStats","renderOverviewTab","children","gutter","style","marginBottom","span","title","value","today_revenue","prefix","suffix","valueStyle","color","today_orders","width","height","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","tickFormatter","concat","toFixed","strokeDasharray","formatter","toLocaleString","type","stroke","fillOpacity","fill","cx","cy","outerRadius","label","_ref","category","percentage","map","entry","index","length","dataSource","pagination","size","columns","dataIndex","key","render","name","record","sorter","a","b","total_sold","revenue","_","maxSold","Math","max","p","percent","showInfo","renderSalesTab","stat","count","marginTop","renderInventoryTab","message","description","renderProfitTab","textAlign","padding","strokeColor","strong","renderItem","item","Item","display","justifyContent","alignItems","level","onChange","ranges","startOf","endOf","icon","defaultActiveKey","tab"],"sources":["C:/Users/ADMIN/Desktop/kho/client/src/pages/EnhancedReportsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Select,\r\n  DatePicker,\r\n  Table,\r\n  Space,\r\n  Button,\r\n  Tabs,\r\n  Progress,\r\n  List,\r\n  Tag,\r\n  Tooltip,\r\n  Alert,\r\n  Typography,\r\n  Divider,\r\n} from 'antd';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip as RechartsTooltip,\r\n  ResponsiveContainer,\r\n  Legend,\r\n} from 'recharts';\r\nimport {\r\n  DollarOutlined,\r\n  ShoppingCartOutlined,\r\n  UserOutlined,\r\n  RiseOutlined,\r\n  FallOutlined,\r\n  DownloadOutlined,\r\n  BarChartOutlined,\r\n  PieChartOutlined,\r\n  LineChartOutlined,\r\n} from '@ant-design/icons';\r\nimport { reportsAPI, ordersAPI } from '../services/api';\r\nimport moment from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { Title, Text } = Typography;\r\n\r\nconst EnhancedReportsPage = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dateRange, setDateRange] = useState([\r\n    moment().subtract(30, 'days'),\r\n    moment(),\r\n  ]);\r\n  const [reportType, setReportType] = useState('overview');\r\n  const [dashboardStats, setDashboardStats] = useState({});\r\n  const [salesData, setSalesData] = useState([]);\r\n  const [bestSellingProducts, setBestSellingProducts] = useState([]);\r\n  const [categoryStats, setCategoryStats] = useState([]);\r\n  const [profitData, setProfitData] = useState([]);\r\n  const [customerStats, setCustomerStats] = useState([]);\r\n\r\n  const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#0088fe', '#00c49f'];\r\n\r\n  useEffect(() => {\r\n    fetchAllReports();\r\n  }, [dateRange]);\r\n\r\n  const fetchAllReports = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await Promise.all([\r\n        fetchDashboardStats(),\r\n        fetchSalesData(),\r\n        fetchBestSellingProducts(),\r\n        fetchCategoryStats(),\r\n        fetchProfitData(),\r\n        fetchCustomerStats(),\r\n      ]);\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchDashboardStats = async () => {\r\n    try {\r\n      const response = await reportsAPI.getDashboardStats();\r\n      if (response.data.success) {\r\n        setDashboardStats(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard stats:', error);\r\n    }\r\n  };\r\n\r\n  const fetchSalesData = async () => {\r\n    try {\r\n      const response = await reportsAPI.getSalesReport({\r\n        start_date: dateRange[0].format('YYYY-MM-DD'),\r\n        end_date: dateRange[1].format('YYYY-MM-DD'),\r\n      });\r\n      if (response.data.success) {\r\n        setSalesData(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sales data:', error);\r\n    }\r\n  };\r\n\r\n  const fetchBestSellingProducts = async () => {\r\n    try {\r\n      const response = await reportsAPI.getBestSelling({ limit: 10 });\r\n      if (response.data.success) {\r\n        setBestSellingProducts(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching best selling products:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCategoryStats = async () => {\r\n    try {\r\n      const response = await reportsAPI.getCategoryStats();\r\n      if (response.data.success) {\r\n        setCategoryStats(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching category stats:', error);\r\n    }\r\n  };\r\n\r\n  const fetchProfitData = async () => {\r\n    try {\r\n      const response = await reportsAPI.getProfitReport({\r\n        start_date: dateRange[0].format('YYYY-MM-DD'),\r\n        end_date: dateRange[1].format('YYYY-MM-DD'),\r\n      });\r\n      if (response.data.success) {\r\n        setProfitData(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching profit data:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCustomerStats = async () => {\r\n    try {\r\n      const response = await reportsAPI.getCustomerStats();\r\n      if (response.data.success) {\r\n        setCustomerStats(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching customer stats:', error);\r\n    }\r\n  };\r\n\r\n  const renderOverviewTab = () => (\r\n    <div>\r\n      {/* Key Statistics */}\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Doanh thu hôm nay\"\r\n              value={dashboardStats.today_revenue || 12500000}\r\n              prefix={<DollarOutlined />}\r\n              suffix=\"₫\"\r\n              valueStyle={{ color: '#3f8600' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Đơn hàng hôm nay\"\r\n              value={dashboardStats.today_orders || 24}\r\n              prefix={<ShoppingCartOutlined />}\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Khách hàng mới\"\r\n              value={15}\r\n              prefix={<UserOutlined />}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tỷ lệ lợi nhuận\"\r\n              value={28.5}\r\n              prefix={<RiseOutlined />}\r\n              suffix=\"%\"\r\n              valueStyle={{ color: '#cf1322' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Revenue Trend Chart */}\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={16}>\r\n          <Card title=\"Biểu đồ doanh thu 30 ngày qua\" loading={loading}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <AreaChart data={salesData}>\r\n                <defs>\r\n                  <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                    <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8}/>\r\n                    <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0}/>\r\n                  </linearGradient>\r\n                </defs>\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <RechartsTooltip \r\n                  formatter={(value) => [`${typeof value === 'number' ? value.toLocaleString('vi-VN') : ''} ₫`, 'Doanh thu']}\r\n                />\r\n                <Area\r\n                  type=\"monotone\"\r\n                  dataKey=\"revenue\"\r\n                  stroke=\"#8884d8\"\r\n                  fillOpacity={1}\r\n                  fill=\"url(#colorRevenue)\"\r\n                />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card title=\"Phân bố theo danh mục\" loading={loading}>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={categoryStats}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  outerRadius={80}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"percentage\"\r\n                  label={({ category, percentage }) => `${category}: ${percentage}%`}\r\n                >\r\n                  {categoryStats.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <RechartsTooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Best Selling Products */}\r\n      <Card title=\"Sản phẩm bán chạy nhất\" loading={loading}>\r\n        <Table\r\n          dataSource={bestSellingProducts}\r\n          pagination={false}\r\n          size=\"small\"\r\n          columns={[\r\n            {\r\n              title: 'Sản phẩm',\r\n              dataIndex: 'name',\r\n              key: 'name',\r\n              render: (name, record) => (\r\n                <div>\r\n                  <div>{name}</div>\r\n                  <Tag color=\"blue\" size=\"small\">{record.category}</Tag>\r\n                </div>\r\n              ),\r\n            },\r\n            {\r\n              title: 'Đã bán',\r\n              dataIndex: 'total_sold',\r\n              key: 'total_sold',\r\n              width: 100,\r\n              sorter: (a, b) => a.total_sold - b.total_sold,\r\n            },\r\n            {\r\n              title: 'Doanh thu',\r\n              dataIndex: 'revenue',\r\n              key: 'revenue',\r\n              width: 150,\r\n              render: (revenue) => `${typeof revenue === 'number' ? revenue.toLocaleString('vi-VN') : ''} ₫`,\r\n              sorter: (a, b) => a.revenue - b.revenue,\r\n            },\r\n            {\r\n              title: 'Tỷ lệ',\r\n              key: 'progress',\r\n              width: 100,\r\n              render: (_, record) => {\r\n                const maxSold = Math.max(...bestSellingProducts.map(p => p.total_sold));\r\n                const percentage = (record.total_sold / maxSold) * 100;\r\n                return <Progress percent={percentage} size=\"small\" showInfo={false} />;\r\n              },\r\n            },\r\n          ]}\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderSalesTab = () => (\r\n    <div>\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={12}>\r\n          <Card title=\"Doanh thu theo thời gian\">\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              <LineChart data={salesData}>\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <RechartsTooltip \r\n                  formatter={(value) => [`${typeof value === 'number' ? value.toLocaleString('vi-VN') : ''} ₫`, 'Doanh thu']}\r\n                />\r\n                <Legend />\r\n                <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"#8884d8\" name=\"Doanh thu\" />\r\n                <Line type=\"monotone\" dataKey=\"profit\" stroke=\"#82ca9d\" name=\"Lợi nhuận\" />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Card title=\"Số đơn hàng theo ngày\">\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              <BarChart data={salesData}>\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis />\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <RechartsTooltip />\r\n                <Bar dataKey=\"orders\" fill=\"#ffc658\" name=\"Đơn hàng\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Card title=\"Thống kê khách hàng\">\r\n        <Row gutter={16}>\r\n          {customerStats.map((stat, index) => (\r\n            <Col span={8} key={index}>\r\n              <Card size=\"small\">\r\n                <Statistic\r\n                  title={stat.type}\r\n                  value={stat.count}\r\n                  suffix=\"khách\"\r\n                />\r\n                <div style={{ marginTop: 8 }}>\r\n                  <Text type=\"secondary\">\r\n                    Doanh thu: {typeof stat.revenue === 'number' ? stat.revenue.toLocaleString('vi-VN') : ''} ₫\r\n                  </Text>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderInventoryTab = () => (\r\n    <div>\r\n      <Alert\r\n        message=\"Báo cáo tồn kho\"\r\n        description=\"Theo dõi tình trạng tồn kho, sản phẩm bán chạy và sản phẩm ế ẩm\"\r\n        type=\"info\"\r\n        style={{ marginBottom: 16 }}\r\n      />\r\n      \r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={8}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sản phẩm sắp hết\"\r\n              value={12}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<FallOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sản phẩm ế ẩm\"\r\n              value={8}\r\n              valueStyle={{ color: '#fa8c16' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Giá trị tồn kho\"\r\n              value={2500000000}\r\n              suffix=\"₫\"\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Card title=\"Phân tích tồn kho theo danh mục\">\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <BarChart data={categoryStats}>\r\n            <XAxis dataKey=\"category\" />\r\n            <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <RechartsTooltip \r\n              formatter={(value) => [`${typeof value === 'number' ? value.toLocaleString('vi-VN') : ''} ₫`, 'Giá trị tồn kho']}\r\n            />\r\n            <Bar dataKey=\"revenue\" fill=\"#8884d8\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderProfitTab = () => (\r\n    <div>\r\n      <Card title=\"Phân tích lợi nhuận 12 tháng\">\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <BarChart data={profitData}>\r\n            <XAxis dataKey=\"month\" />\r\n            <YAxis tickFormatter={(value) => `${(value / 1000000).toFixed(0)}M`} />\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <RechartsTooltip \r\n              formatter={(value, name) => [\r\n                `${typeof value === 'number' ? value.toLocaleString('vi-VN') : ''} ₫`,\r\n                name === 'revenue' ? 'Doanh thu' : name === 'cost' ? 'Chi phí' : 'Lợi nhuận'\r\n              ]}\r\n            />\r\n            <Legend />\r\n            <Bar dataKey=\"revenue\" fill=\"#8884d8\" name=\"revenue\" />\r\n            <Bar dataKey=\"cost\" fill=\"#ff7300\" name=\"cost\" />\r\n            <Bar dataKey=\"profit\" fill=\"#00c49f\" name=\"profit\" />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n\r\n      <Row gutter={16} style={{ marginTop: 24 }}>\r\n        <Col span={12}>\r\n          <Card title=\"Tỷ suất lợi nhuận\">\r\n            <div style={{ textAlign: 'center', padding: '20px 0' }}>\r\n              <Progress\r\n                type=\"circle\"\r\n                percent={28.5}\r\n                format={(percent) => `${percent}%`}\r\n                strokeColor=\"#52c41a\"\r\n                width={120}\r\n              />\r\n              <div style={{ marginTop: 16 }}>\r\n                <Text strong>Tỷ suất lợi nhuận trung bình</Text>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Card title=\"Phân tích chi phí\">\r\n            <List\r\n              size=\"small\"\r\n              dataSource={[\r\n                { name: 'Chi phí hàng hóa', value: 70, color: '#ff4d4f' },\r\n                { name: 'Chi phí vận hành', value: 15, color: '#faad14' },\r\n                { name: 'Chi phí marketing', value: 8, color: '#1890ff' },\r\n                { name: 'Chi phí khác', value: 7, color: '#52c41a' },\r\n              ]}\r\n              renderItem={(item) => (\r\n                <List.Item>\r\n                  <div style={{ width: '100%' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 4 }}>\r\n                      <span>{item.name}</span>\r\n                      <span>{item.value}%</span>\r\n                    </div>\r\n                    <Progress percent={item.value} strokeColor={item.color} showInfo={false} />\r\n                  </div>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div style={{ padding: '24px' }}>\r\n      <div style={{ marginBottom: 24, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n          <Title level={2}>Báo cáo và phân tích</Title>\r\n          <Text type=\"secondary\">Theo dõi hiệu quả kinh doanh và phân tích dữ liệu</Text>\r\n        </div>\r\n        \r\n        <Space>\r\n          <RangePicker\r\n            value={dateRange}\r\n            onChange={setDateRange}\r\n            ranges={{\r\n              'Hôm nay': [moment(), moment()],\r\n              '7 ngày qua': [moment().subtract(6, 'days'), moment()],\r\n              '30 ngày qua': [moment().subtract(29, 'days'), moment()],\r\n              'Tháng này': [moment().startOf('month'), moment().endOf('month')],\r\n              'Tháng trước': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],\r\n            }}\r\n          />\r\n          <Button type=\"primary\" icon={<DownloadOutlined />}>\r\n            Xuất báo cáo\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n\r\n      <Tabs defaultActiveKey=\"overview\" size=\"large\">\r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <BarChartOutlined />\r\n              Tổng quan\r\n            </span>\r\n          }\r\n          key=\"overview\"\r\n        >\r\n          {renderOverviewTab()}\r\n        </TabPane>\r\n        \r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <LineChartOutlined />\r\n              Doanh số\r\n            </span>\r\n          }\r\n          key=\"sales\"\r\n        >\r\n          {renderSalesTab()}\r\n        </TabPane>\r\n        \r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <PieChartOutlined />\r\n              Tồn kho\r\n            </span>\r\n          }\r\n          key=\"inventory\"\r\n        >\r\n          {renderInventoryTab()}\r\n        </TabPane>\r\n        \r\n        <TabPane\r\n          tab={\r\n            <span>\r\n              <DollarOutlined />\r\n              Lợi nhuận\r\n            </span>\r\n          }\r\n          key=\"profit\"\r\n        >\r\n          {renderProfitTab()}\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedReportsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}