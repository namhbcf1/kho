{"ast":null,"code":"// AI-Powered Error Monitor & Auto-Fix System\n// T·ª± ƒë·ªông b·∫Øt v√† ph√¢n t√≠ch l·ªói, ƒë∆∞a ra gi·∫£i ph√°p s·ª≠a ch·ªØa\nimport api from'./api';class AIErrorMonitor{constructor(){this.errors=[];this.apiErrors=[];this.consoleErrors=[];this.isMonitoring=false;this.aiEndpoint='/ai/analyze-error';this.autoFixEnabled=true;this.init();}init(){console.log('ü§ñ AI Error Monitor kh·ªüi ƒë·ªông...');// B·∫Øt t·∫•t c·∫£ l·ªói console\nthis.interceptConsoleErrors();// B·∫Øt t·∫•t c·∫£ l·ªói API\nthis.interceptAPIErrors();// B·∫Øt l·ªói React/JS runtime\nthis.interceptRuntimeErrors();// B·∫Øt l·ªói unhandled promise\nthis.interceptPromiseErrors();// B·∫Øt l·ªói network\nthis.interceptNetworkErrors();this.isMonitoring=true;console.log('‚úÖ AI Error Monitor ƒë√£ s·∫µn s√†ng - S·∫Ω t·ª± ƒë·ªông s·ª≠a l·ªói!');}// B·∫Øt t·∫•t c·∫£ l·ªói console (error, warn, debug)\ninterceptConsoleErrors(){var _this=this;const originalError=console.error;const originalWarn=console.warn;console.error=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this.captureConsoleError('error',args);originalError.apply(console,args);};console.warn=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this.captureConsoleError('warn',args);originalWarn.apply(console,args);};}// B·∫Øt l·ªói API t·ª´ axios interceptor\ninterceptAPIErrors(){// ƒê√£ c√≥ s·∫µn trong api.js, ta s·∫Ω hook v√†o ƒë√≥\nif(window.axios){window.axios.interceptors.response.use(response=>response,error=>{this.captureAPIError(error);return Promise.reject(error);});}}// B·∫Øt l·ªói runtime JavaScript\ninterceptRuntimeErrors(){window.addEventListener('error',event=>{this.captureRuntimeError(event);});}// B·∫Øt l·ªói promise kh√¥ng ƒë∆∞·ª£c handle\ninterceptPromiseErrors(){window.addEventListener('unhandledrejection',event=>{this.capturePromiseError(event);});}// B·∫Øt l·ªói network\ninterceptNetworkErrors(){var _this2=this;const originalFetch=window.fetch;window.fetch=async function(){try{const response=await originalFetch(...arguments);if(!response.ok){_this2.captureNetworkError(arguments.length<=0?undefined:arguments[0],response);}return response;}catch(error){_this2.captureNetworkError(arguments.length<=0?undefined:arguments[0],null,error);throw error;}};}// Ghi l·∫°i l·ªói console\ncaptureConsoleError(level,args){const error={id:Date.now()+Math.random(),type:'console',level:level,message:args.join(' '),timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,stack:new Error().stack};this.consoleErrors.push(error);this.processError(error);}// Ghi l·∫°i l·ªói API\ncaptureAPIError(axiosError){var _axiosError$config,_axiosError$config$me,_axiosError$config2,_axiosError$config3,_axiosError$config4,_axiosError$config5,_axiosError$response,_axiosError$response2,_axiosError$response3,_axiosError$config6,_axiosError$config7;const error={id:Date.now()+Math.random(),type:'api',method:(_axiosError$config=axiosError.config)===null||_axiosError$config===void 0?void 0:(_axiosError$config$me=_axiosError$config.method)===null||_axiosError$config$me===void 0?void 0:_axiosError$config$me.toUpperCase(),url:(_axiosError$config2=axiosError.config)===null||_axiosError$config2===void 0?void 0:_axiosError$config2.url,baseURL:(_axiosError$config3=axiosError.config)===null||_axiosError$config3===void 0?void 0:_axiosError$config3.baseURL,fullURL:\"\".concat((_axiosError$config4=axiosError.config)===null||_axiosError$config4===void 0?void 0:_axiosError$config4.baseURL).concat((_axiosError$config5=axiosError.config)===null||_axiosError$config5===void 0?void 0:_axiosError$config5.url),status:(_axiosError$response=axiosError.response)===null||_axiosError$response===void 0?void 0:_axiosError$response.status,statusText:(_axiosError$response2=axiosError.response)===null||_axiosError$response2===void 0?void 0:_axiosError$response2.statusText,data:(_axiosError$response3=axiosError.response)===null||_axiosError$response3===void 0?void 0:_axiosError$response3.data,message:axiosError.message,timestamp:new Date().toISOString(),requestData:(_axiosError$config6=axiosError.config)===null||_axiosError$config6===void 0?void 0:_axiosError$config6.data,headers:(_axiosError$config7=axiosError.config)===null||_axiosError$config7===void 0?void 0:_axiosError$config7.headers};this.apiErrors.push(error);console.log('üî¥ API Error Captured:',error);this.processError(error);}// Ghi l·∫°i l·ªói runtime\ncaptureRuntimeError(event){var _event$error;const error={id:Date.now()+Math.random(),type:'runtime',message:event.message,filename:event.filename,lineno:event.lineno,colno:event.colno,stack:(_event$error=event.error)===null||_event$error===void 0?void 0:_event$error.stack,timestamp:new Date().toISOString(),url:window.location.href};this.errors.push(error);this.processError(error);}// Ghi l·∫°i l·ªói promise\ncapturePromiseError(event){var _event$reason,_event$reason2;const error={id:Date.now()+Math.random(),type:'promise',message:((_event$reason=event.reason)===null||_event$reason===void 0?void 0:_event$reason.message)||event.reason,stack:(_event$reason2=event.reason)===null||_event$reason2===void 0?void 0:_event$reason2.stack,timestamp:new Date().toISOString(),url:window.location.href};this.errors.push(error);this.processError(error);}// Ghi l·∫°i l·ªói network\ncaptureNetworkError(url,response,error){const networkError={id:Date.now()+Math.random(),type:'network',url:url,status:response===null||response===void 0?void 0:response.status,statusText:response===null||response===void 0?void 0:response.statusText,message:(error===null||error===void 0?void 0:error.message)||\"Network error: \".concat(response===null||response===void 0?void 0:response.status),timestamp:new Date().toISOString()};this.errors.push(networkError);this.processError(networkError);}// X·ª≠ l√Ω l·ªói th√¥ng qua AI\nasync processError(error){console.log(\"\\uD83E\\uDD16 AI \\u0111ang ph\\xE2n t\\xEDch l\\u1ED7i: \".concat(error.type),error);try{// G·ª≠i l·ªói ƒë·∫øn AI ƒë·ªÉ ph√¢n t√≠ch\nconst aiResponse=await this.sendToAI(error);if(aiResponse.canAutoFix&&this.autoFixEnabled){console.log('üîß AI ƒë√£ t√¨m ra c√°ch s·ª≠a, ƒëang auto-fix...');await this.applyAutoFix(error,aiResponse.solution);}else{console.log('üìã AI g·ª£i √Ω c√°ch s·ª≠a:',aiResponse.suggestion);this.showErrorNotification(error,aiResponse);}}catch(aiError){console.log('‚ùå AI kh√¥ng th·ªÉ ph√¢n t√≠ch l·ªói:',aiError.message);this.showBasicErrorNotification(error);}}// G·ª≠i l·ªói ƒë·∫øn AI backend ƒë·ªÉ ph√¢n t√≠ch\nasync sendToAI(error){try{const response=await api.post(this.aiEndpoint,{error:error,context:{page:window.location.pathname,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,recentErrors:this.getRecentErrors(5),systemInfo:{url:window.location.href,viewport:\"\".concat(window.innerWidth,\"x\").concat(window.innerHeight),online:navigator.onLine}}});return response.data;}catch(error){throw new Error('AI service unavailable');}}// √Åp d·ª•ng auto-fix do AI ƒë·ªÅ xu·∫•t\nasync applyAutoFix(error,solution){try{console.log('üîÑ ƒêang √°p d·ª•ng auto-fix...',solution);switch(solution.type){case'reload_page':setTimeout(()=>window.location.reload(),2000);break;case'retry_api':await this.retryFailedAPI(error,solution);break;case'clear_cache':localStorage.clear();sessionStorage.clear();break;case'update_ui_state':await this.updateUIState(solution.data);break;case'fix_code':console.log('üí° Code fix suggestion:',solution.code);break;case'show_user_message':this.showUserMessage(solution.message);break;case'redirect_to_list':this.redirectToList(solution.page);break;case'use_fallback_data':this.useFallbackData(solution.data);break;case'reload_page_section':this.reloadPageSection(solution.section);break;// ADVANCED SOLUTIONS - DEEP ANALYSIS\ncase'retry_with_backoff':this.retryWithExponentialBackoff(solution);break;case'enable_offline_mode':this.enableOfflineMode(solution);break;case'add_null_checks':this.suggestNullChecks(solution);break;case'analyze_hook_dependencies':this.analyzeHookDependencies(solution);break;case'implement_error_boundary':this.implementErrorBoundary(solution);break;case'auto_create_customer':this.autoCreateCustomer(solution);break;case'refresh_inventory_data':this.refreshInventoryData(solution);break;case'suggest_alternative_products':this.suggestAlternativeProducts(solution);break;case'refresh_auth_token':this.refreshAuthToken(solution);break;case'highlight_invalid_fields':this.highlightInvalidFields(solution);break;// EMERGENCY SOLUTIONS - CRITICAL ERROR HANDLING\ncase'emergency_page_reload':this.emergencyPageReload(solution);break;case'fix_form_bindings':this.fixFormBindings(solution);break;case'reset_component_state':this.resetComponentState(solution);break;case'clear_form_cache':this.clearFormCache(solution);break;case'enable_safe_mode':this.enableSafeMode(solution);break;case'component_recovery':this.componentRecovery(solution);break;case'show_fallback_ui':this.showFallbackUI(solution);break;default:console.log('ü§ñ AI solution:',solution.description);}console.log('‚úÖ Auto-fix ho√†n th√†nh!');this.showSuccessNotification(\"AI \\u0111\\xE3 t\\u1EF1 \\u0111\\u1ED9ng s\\u1EEDa l\\u1ED7i: \".concat(error.message));}catch(fixError){console.log('‚ùå Auto-fix th·∫•t b·∫°i:',fixError.message);}}// Retry API call theo g·ª£i √Ω c·ªßa AI\nasync retryFailedAPI(error,solution){if(error.type!=='api')return;try{var _error$method;const retryConfig={method:((_error$method=error.method)===null||_error$method===void 0?void 0:_error$method.toLowerCase())||'get',url:error.url,data:solution.modifiedData||JSON.parse(error.requestData||'{}'),headers:solution.modifiedHeaders||error.headers};console.log('üîÑ Retry API v·ªõi config m·ªõi:',retryConfig);const response=await api(retryConfig);console.log('‚úÖ API retry th√†nh c√¥ng:',response.data);return response;}catch(retryError){console.log('‚ùå API retry th·∫•t b·∫°i:',retryError.message);throw retryError;}}// C·∫≠p nh·∫≠t UI state theo g·ª£i √Ω AI\nasync updateUIState(stateChanges){try{// Dispatch Redux actions ho·∫∑c update React state\nif(window.store&&stateChanges.redux){window.store.dispatch(stateChanges.redux);}// Update localStorage\nif(stateChanges.localStorage){Object.entries(stateChanges.localStorage).forEach(_ref=>{let[key,value]=_ref;localStorage.setItem(key,JSON.stringify(value));});}console.log('‚úÖ UI state updated theo AI suggestion');}catch(error){console.log('‚ùå Kh√¥ng th·ªÉ update UI state:',error.message);}}// Hi·ªÉn th·ªã th√¥ng b√°o l·ªói v·ªõi AI suggestion\nshowErrorNotification(error,aiResponse){const notification={type:'error',title:\"\\uD83E\\uDD16 AI Ph\\xE1t hi\\u1EC7n l\\u1ED7i: \".concat(error.type),message:error.message,suggestion:aiResponse.suggestion,action:aiResponse.action,duration:10000};this.displayNotification(notification);}// Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng\nshowSuccessNotification(message){const notification={type:'success',title:'ü§ñ AI Auto-Fix',message:message,duration:5000};this.displayNotification(notification);}// Hi·ªÉn th·ªã th√¥ng b√°o c∆° b·∫£n\nshowBasicErrorNotification(error){console.log(\"\\uD83D\\uDD34 L\\u1ED7i \".concat(error.type,\": \").concat(error.message));}// Hi·ªÉn th·ªã notification tr√™n UI\ndisplayNotification(notification){// T√≠ch h·ª£p v·ªõi Ant Design notification ho·∫∑c custom notification\nif(window.antd&&window.antd.notification){window.antd.notification[notification.type]({message:notification.title,description:notification.message+(notification.suggestion?\"\\n\\uD83D\\uDCA1 \".concat(notification.suggestion):''),duration:notification.duration/1000});}else{console.log('üì¢ Notification:',notification);}}// L·∫•y l·ªói g·∫ßn ƒë√¢y\ngetRecentErrors(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10;const allErrors=[...this.errors,...this.apiErrors,...this.consoleErrors];return allErrors.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp)).slice(0,count);}// L·∫•y th·ªëng k√™ l·ªói\ngetErrorStats(){const allErrors=this.getRecentErrors(100);const stats={total:allErrors.length,byType:{},byPage:{},recent24h:0};const now=new Date();const yesterday=new Date(now.getTime()-24*60*60*1000);allErrors.forEach(error=>{// Count by type\nstats.byType[error.type]=(stats.byType[error.type]||0)+1;// Count by page\nconst page=error.url||'unknown';stats.byPage[page]=(stats.byPage[page]||0)+1;// Count recent 24h\nif(new Date(error.timestamp)>yesterday){stats.recent24h++;}});return stats;}// API ƒë·ªÉ disable/enable auto-fix\nsetAutoFix(enabled){this.autoFixEnabled=enabled;console.log(\"\\uD83E\\uDD16 AI Auto-Fix: \".concat(enabled?'Enabled':'Disabled'));}// Hi·ªÉn th·ªã th√¥ng b√°o cho user\nshowUserMessage(message){try{console.log(\"\\uD83D\\uDCE2 AI Message: \".concat(message));// S·ª≠ d·ª•ng Ant Design notification n·∫øu c√≥\nif(window.antd&&window.antd.message){window.antd.message.warning(message);}else{// Fallback to browser notification\nalert(\"\\uD83E\\uDD16 AI: \".concat(message));}return true;}catch(error){console.error('‚ùå Kh√¥ng th·ªÉ hi·ªÉn th·ªã th√¥ng b√°o:',error);return false;}}// Chuy·ªÉn h∆∞·ªõng v·ªÅ trang danh s√°ch\nredirectToList(page){try{console.log(\"\\uD83D\\uDD04 AI Redirect to: \".concat(page));if(page&&page.startsWith('/')){// Chuy·ªÉn h∆∞·ªõng b·∫±ng window.location\nsetTimeout(()=>{window.location.href=page;},2000);}else{// Chuy·ªÉn v·ªÅ trang ch√≠nh n·∫øu kh√¥ng c√≥ page c·ª• th·ªÉ\nsetTimeout(()=>{window.location.href='/';},2000);}return true;}catch(error){console.error('‚ùå Kh√¥ng th·ªÉ chuy·ªÉn h∆∞·ªõng:',error);return false;}}// S·ª≠ d·ª•ng d·ªØ li·ªáu fallback\nuseFallbackData(data){try{console.log('üîÑ AI s·ª≠ d·ª•ng fallback data:',data);// L∆∞u v√†o sessionStorage ƒë·ªÉ component kh√°c c√≥ th·ªÉ s·ª≠ d·ª•ng\nif(data&&typeof data==='object'){sessionStorage.setItem('ai_fallback_data',JSON.stringify(data));// Trigger custom event ƒë·ªÉ components bi·∫øt c√≥ fallback data\nwindow.dispatchEvent(new CustomEvent('ai-fallback-data',{detail:data}));}return true;}catch(error){console.error('‚ùå Kh√¥ng th·ªÉ s·ª≠ d·ª•ng fallback data:',error);return false;}}// Reload m·ªôt ph·∫ßn c·ª• th·ªÉ c·ªßa trang\nreloadPageSection(section){try{console.log(\"\\uD83D\\uDD04 AI reload section: \".concat(section));// Dispatch event ƒë·ªÉ component t·ª± reload\nwindow.dispatchEvent(new CustomEvent('ai-reload-section',{detail:{section}}));return true;}catch(error){console.error('‚ùå Kh√¥ng th·ªÉ reload section:',error);return false;}}// ============================================\n// ADVANCED SOLUTION IMPLEMENTATIONS - DEEP AI\n// ============================================\n// Retry v·ªõi exponential backoff strategy\nretryWithExponentialBackoff(solution){const{strategy='exponential',maxRetries=5,baseDelay=1000}=solution;console.log(\"\\uD83D\\uDD04 AI implementing \".concat(strategy,\" backoff retry strategy\"));const retryWithDelay=attempt=>{if(attempt>=maxRetries){console.log(\"\\u274C Max retries (\".concat(maxRetries,\") reached\"));return;}const delay=strategy==='exponential'?baseDelay*Math.pow(2,attempt):baseDelay;console.log(\"\\u23F1\\uFE0F Retry attempt \".concat(attempt+1,\"/\").concat(maxRetries,\" after \").concat(delay,\"ms\"));setTimeout(()=>{// Implement actual retry logic here\nwindow.location.reload();},delay);};retryWithDelay(0);}// Enable offline mode v·ªõi cache strategy\nenableOfflineMode(solution){const{cache_strategy='last_known_good',duration=30000}=solution;console.log(\"\\uD83D\\uDCF4 AI enabling offline mode with \".concat(cache_strategy,\" strategy\"));// Set offline indicator\nif(document.body){const offlineIndicator=document.createElement('div');offlineIndicator.id='ai-offline-indicator';offlineIndicator.style.cssText=\"\\n        position: fixed;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        background: #ff7875;\\n        color: white;\\n        text-align: center;\\n        padding: 8px;\\n        z-index: 9999;\\n        font-size: 14px;\\n      \";offlineIndicator.textContent='ü§ñ AI: Offline mode - ƒêang s·ª≠ d·ª•ng d·ªØ li·ªáu cache';document.body.prepend(offlineIndicator);// Auto remove after duration\nsetTimeout(()=>{offlineIndicator===null||offlineIndicator===void 0?void 0:offlineIndicator.remove();},duration);}}// Suggest null checks cho React components\nsuggestNullChecks(solution){console.log('üõ°Ô∏è AI suggesting null checks implementation:');console.log(\"\\n      \\uD83D\\uDCA1 AI Code Suggestion:\\n      \\n      // Add null checks before accessing properties\\n      const MyComponent = ({ data }) => {\\n        if (!data || !data.items) {\\n          return <div>Loading...</div>;\\n        }\\n        \\n        return (\\n          <div>\\n            {data.items?.map(item => (\\n              <div key={item?.id || 'unknown'}>\\n                {item?.name || 'Unknown'}\\n              </div>\\n            ))}\\n          </div>\\n        );\\n      };\\n    \");}// Analyze React Hook dependencies\nanalyzeHookDependencies(solution){console.log('üîç AI analyzing React Hook dependencies:');console.log(\"\\n      \\uD83D\\uDCA1 AI Hook Analysis:\\n      \\n      \\u26A0\\uFE0F Common Issues:\\n      1. Missing dependencies in useEffect\\n      2. Stale closures in event handlers\\n      3. Infinite re-renders from object dependencies\\n      \\n      \\uD83D\\uDD27 AI Suggestions:\\n      - Add missing dependencies to dependency array\\n      - Use useCallback for function dependencies\\n      - Use useMemo for object dependencies\\n      - Consider splitting complex effects\\n      \\n      Example fix:\\n      useEffect(() => {\\n        // effect code\\n      }, [dependency1, dependency2]); // \\u2190 Add all dependencies\\n    \");}// Implement Error Boundary suggestion\nimplementErrorBoundary(solution){console.log('üöß AI suggesting Error Boundary implementation:');console.log(\"\\n      \\uD83D\\uDCA1 AI Error Boundary Pattern:\\n      \\n      import ErrorBoundary from './components/ErrorBoundary';\\n      \\n      <ErrorBoundary fallback={<div>Something went wrong</div>}>\\n        <YourComponent />\\n      </ErrorBoundary>\\n      \\n      \\u2705 This will catch component errors and prevent crashes\\n    \");}// Auto create customer solution\nautoCreateCustomer(solution){console.log('üë§ AI auto-creating customer with defaults...');const defaultCustomer={name:'Kh√°ch h√†ng',phone:'',customer_type:'regular',discount_rate:0};// Trigger customer creation form with defaults\nthis.showUserMessage('AI ƒë√£ chu·∫©n b·ªã th√¥ng tin kh√°ch h√†ng m·∫∑c ƒë·ªãnh. Vui l√≤ng ki·ªÉm tra v√† x√°c nh·∫≠n.');return defaultCustomer;}// Refresh inventory data\nrefreshInventoryData(solution){console.log('üì¶ AI refreshing inventory data...');// Emit custom event to refresh inventory\nwindow.dispatchEvent(new CustomEvent('ai-refresh-inventory',{detail:{realTime:solution.real_time}}));this.showUserMessage('AI ƒëang c·∫≠p nh·∫≠t d·ªØ li·ªáu t·ªìn kho real-time...');}// Suggest alternative products\nsuggestAlternativeProducts(solution){console.log('üîÑ AI suggesting alternative products...');this.showUserMessage('S·∫£n ph·∫©m kh√¥ng ƒë·ªß stock. AI ƒëang t√¨m s·∫£n ph·∫©m t∆∞∆°ng t·ª±...');// Emit event for product suggestions\nwindow.dispatchEvent(new CustomEvent('ai-suggest-alternatives',{detail:{similar:solution.similar}}));}// Refresh authentication token\nrefreshAuthToken(solution){console.log('üîê AI attempting to refresh auth token...');if(solution.silent){// Silent refresh\nconsole.log('ü§´ Silent token refresh...');}else{this.showUserMessage('Phi√™n ƒëƒÉng nh·∫≠p h·∫øt h·∫°n. AI ƒëang l√†m m·ªõi token...');}// Trigger auth refresh\nwindow.dispatchEvent(new CustomEvent('ai-refresh-auth'));}// Highlight invalid form fields\nhighlightInvalidFields(solution){console.log('üéØ AI highlighting invalid form fields...');// Find form elements and highlight invalid ones\nconst forms=document.querySelectorAll('form');forms.forEach(form=>{const invalidInputs=form.querySelectorAll(':invalid');invalidInputs.forEach(input=>{input.style.border='2px solid #ff4d4f';input.style.boxShadow='0 0 5px rgba(255, 77, 79, 0.3)';});});this.showUserMessage('AI ƒë√£ highlight c√°c field c·∫ßn s·ª≠a. Vui l√≤ng ki·ªÉm tra l·∫°i.');}// ============================================\n// EMERGENCY SOLUTIONS - CRITICAL ERROR RECOVERY\n// ============================================\n// Emergency page reload cho critical errors\nemergencyPageReload(solution){const{delay=3000,message='ƒêang kh√¥i ph·ª•c t·ª´ l·ªói critical...'}=solution;console.log('üö® AI EMERGENCY: Implementing emergency page reload...');// Show emergency notice\nthis.showEmergencyNotice(message);// Set emergency flag trong localStorage\nlocalStorage.setItem('ai_emergency_recovery',JSON.stringify({timestamp:Date.now(),reason:'illegal_invocation_error',auto_recovery:true}));// Reload after delay\nsetTimeout(()=>{console.log('üîÑ AI Emergency: Reloading page to recover from critical error...');window.location.reload();},delay);}// Fix form bindings issues\nfixFormBindings(solution){console.log('üîß AI fixing form bindings...');try{// Remove all form event listeners\nconst forms=document.querySelectorAll('form');forms.forEach(form=>{// Clone form to remove all event listeners\nconst newForm=form.cloneNode(true);form.parentNode.replaceChild(newForm,form);});// Clear React form state cache\nif(window.React&&window.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED){// Reset React internal state (emergency measure)\nconsole.log('üîß Resetting React internal form state...');}this.showUserMessage('AI ƒë√£ fix form bindings. Vui l√≤ng th·ª≠ l·∫°i.');}catch(error){console.error('‚ùå Failed to fix form bindings:',error);this.emergencyPageReload({delay:2000,message:'Form binding fix failed, reloading...'});}}// Reset component state deeply\nresetComponentState(solution){console.log('üîÑ AI resetting component state...');try{// Clear all localStorage related to forms and components\nconst keysToRemove=[];for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key&&(key.includes('form')||key.includes('component')||key.includes('state'))){keysToRemove.push(key);}}keysToRemove.forEach(key=>{localStorage.removeItem(key);console.log(\"\\uD83D\\uDDD1\\uFE0F Removed localStorage: \".concat(key));});// Clear sessionStorage as well\nsessionStorage.clear();// Emit custom event to force React components to reset\nwindow.dispatchEvent(new CustomEvent('ai-component-reset',{detail:{deep:solution.deep,reason:'illegal_invocation_recovery'}}));this.showUserMessage('AI ƒë√£ reset component state. H·ªá th·ªëng ƒëang kh√¥i ph·ª•c...');}catch(error){console.error('‚ùå Failed to reset component state:',error);}}// Clear form cache\nclearFormCache(solution){console.log('üßπ AI clearing form cache...');const{localStorage_keys=['form_*']}=solution;try{// Clear localStorage keys matching patterns\nlocalStorage_keys.forEach(pattern=>{const regex=new RegExp(pattern.replace('*','.*'));const keysToRemove=[];for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key&&regex.test(key)){keysToRemove.push(key);}}keysToRemove.forEach(key=>{localStorage.removeItem(key);console.log(\"\\uD83D\\uDDD1\\uFE0F Cleared form cache: \".concat(key));});});this.showUserMessage('AI ƒë√£ clear form cache th√†nh c√¥ng.');}catch(error){console.error('‚ùå Failed to clear form cache:',error);}}// Enable safe mode\nenableSafeMode(solution){const{duration=30000}=solution;console.log(\"\\uD83D\\uDEE1\\uFE0F AI enabling safe mode for \".concat(duration,\"ms...\"));// Set safe mode flag\nwindow.AI_SAFE_MODE=true;localStorage.setItem('ai_safe_mode',JSON.stringify({enabled:true,timestamp:Date.now(),duration:duration}));// Show safe mode indicator\nthis.showSafeModeIndicator(duration);// Disable safe mode after duration\nsetTimeout(()=>{window.AI_SAFE_MODE=false;localStorage.removeItem('ai_safe_mode');console.log('üõ°Ô∏è AI safe mode disabled');// Remove safe mode indicator\nconst indicator=document.getElementById('ai-safe-mode-indicator');if(indicator){indicator.remove();}},duration);}// Component recovery\ncomponentRecovery(solution){console.log('üîß AI implementing component recovery...');const{strategy='graceful_fallback'}=solution;try{switch(strategy){case'graceful_fallback':// Force React error boundaries to show fallback UI\nwindow.dispatchEvent(new CustomEvent('ai-force-fallback',{detail:{reason:'component_recovery'}}));break;case'component_remount':// Force component remount\nwindow.dispatchEvent(new CustomEvent('ai-remount-components'));break;default:this.showUserMessage('AI ƒëang kh√¥i ph·ª•c component...');}}catch(error){console.error('‚ùå Component recovery failed:',error);this.emergencyPageReload({delay:1000});}}// Show fallback UI\nshowFallbackUI(solution){const{message='ƒêang kh√¥i ph·ª•c component...'}=solution;console.log('üé≠ AI showing fallback UI...');// Create fallback overlay\nconst overlay=document.createElement('div');overlay.id='ai-fallback-overlay';overlay.style.cssText=\"\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      bottom: 0;\\n      background: rgba(0, 0, 0, 0.8);\\n      color: white;\\n      display: flex;\\n      flex-direction: column;\\n      justify-content: center;\\n      align-items: center;\\n      z-index: 10000;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\\n    \";overlay.innerHTML=\"\\n      <div style=\\\"text-align: center; max-width: 400px; padding: 24px;\\\">\\n        <div style=\\\"font-size: 48px; margin-bottom: 16px;\\\">\\uD83E\\uDD16</div>\\n        <h2 style=\\\"margin: 0 0 16px 0; color: #1890ff;\\\">AI Recovery Mode</h2>\\n        <p style=\\\"margin: 0 0 24px 0; opacity: 0.8;\\\">\".concat(message,\"</p>\\n        <div style=\\\"display: flex; justify-content: center; gap: 12px;\\\">\\n          <div style=\\\"width: 8px; height: 8px; border-radius: 50%; background: #1890ff; animation: pulse 1.5s infinite;\\\"></div>\\n          <div style=\\\"width: 8px; height: 8px; border-radius: 50%; background: #1890ff; animation: pulse 1.5s infinite 0.2s;\\\"></div>\\n          <div style=\\\"width: 8px; height: 8px; border-radius: 50%; background: #1890ff; animation: pulse 1.5s infinite 0.4s;\\\"></div>\\n        </div>\\n      </div>\\n      <style>\\n        @keyframes pulse {\\n          0%, 100% { opacity: 0.3; }\\n          50% { opacity: 1; }\\n        }\\n      </style>\\n    \");document.body.appendChild(overlay);// Auto remove after 5 seconds\nsetTimeout(()=>{overlay.remove();},5000);}// Show emergency notice\nshowEmergencyNotice(message){const notice=document.createElement('div');notice.id='ai-emergency-notice';notice.style.cssText=\"\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      background: linear-gradient(135deg, #ff4d4f, #ff7875);\\n      color: white;\\n      text-align: center;\\n      padding: 12px;\\n      z-index: 9999;\\n      font-weight: 600;\\n      box-shadow: 0 2px 8px rgba(255, 77, 79, 0.3);\\n    \";notice.textContent=\"\\uD83D\\uDEA8 AI EMERGENCY: \".concat(message);document.body.prepend(notice);}// Show safe mode indicator\nshowSafeModeIndicator(duration){const indicator=document.createElement('div');indicator.id='ai-safe-mode-indicator';indicator.style.cssText=\"\\n      position: fixed;\\n      bottom: 20px;\\n      right: 20px;\\n      background: #52c41a;\\n      color: white;\\n      padding: 8px 12px;\\n      border-radius: 6px;\\n      z-index: 9998;\\n      font-size: 12px;\\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\\n    \";indicator.textContent=\"\\uD83D\\uDEE1\\uFE0F AI Safe Mode (\".concat(Math.round(duration/1000),\"s)\");document.body.appendChild(indicator);}// API ƒë·ªÉ l·∫•y report t·ªïng h·ª£p\ngenerateReport(){const stats=this.getErrorStats();const recentErrors=this.getRecentErrors(20);return{summary:{monitoring:this.isMonitoring,autoFix:this.autoFixEnabled,totalErrors:stats.total,recent24h:stats.recent24h},stats:stats,recentErrors:recentErrors,timestamp:new Date().toISOString()};}}// Kh·ªüi t·∫°o global error monitor\nconst aiErrorMonitor=new AIErrorMonitor();// Export ƒë·ªÉ s·ª≠ d·ª•ng trong c√°c component kh√°c\nexport default aiErrorMonitor;// Expose v√†o window ƒë·ªÉ debug\nif(process.env.NODE_ENV==='development'){window.aiErrorMonitor=aiErrorMonitor;}","map":{"version":3,"names":["api","AIErrorMonitor","constructor","errors","apiErrors","consoleErrors","isMonitoring","aiEndpoint","autoFixEnabled","init","console","log","interceptConsoleErrors","interceptAPIErrors","interceptRuntimeErrors","interceptPromiseErrors","interceptNetworkErrors","_this","originalError","error","originalWarn","warn","_len","arguments","length","args","Array","_key","captureConsoleError","apply","_len2","_key2","window","axios","interceptors","response","use","captureAPIError","Promise","reject","addEventListener","event","captureRuntimeError","capturePromiseError","_this2","originalFetch","fetch","ok","captureNetworkError","undefined","level","id","Date","now","Math","random","type","message","join","timestamp","toISOString","url","location","href","userAgent","navigator","stack","Error","push","processError","axiosError","_axiosError$config","_axiosError$config$me","_axiosError$config2","_axiosError$config3","_axiosError$config4","_axiosError$config5","_axiosError$response","_axiosError$response2","_axiosError$response3","_axiosError$config6","_axiosError$config7","method","config","toUpperCase","baseURL","fullURL","concat","status","statusText","data","requestData","headers","_event$error","filename","lineno","colno","_event$reason","_event$reason2","reason","networkError","aiResponse","sendToAI","canAutoFix","applyAutoFix","solution","suggestion","showErrorNotification","aiError","showBasicErrorNotification","post","context","page","pathname","recentErrors","getRecentErrors","systemInfo","viewport","innerWidth","innerHeight","online","onLine","setTimeout","reload","retryFailedAPI","localStorage","clear","sessionStorage","updateUIState","code","showUserMessage","redirectToList","useFallbackData","reloadPageSection","section","retryWithExponentialBackoff","enableOfflineMode","suggestNullChecks","analyzeHookDependencies","implementErrorBoundary","autoCreateCustomer","refreshInventoryData","suggestAlternativeProducts","refreshAuthToken","highlightInvalidFields","emergencyPageReload","fixFormBindings","resetComponentState","clearFormCache","enableSafeMode","componentRecovery","showFallbackUI","description","showSuccessNotification","fixError","_error$method","retryConfig","toLowerCase","modifiedData","JSON","parse","modifiedHeaders","retryError","stateChanges","store","redux","dispatch","Object","entries","forEach","_ref","key","value","setItem","stringify","notification","title","action","duration","displayNotification","antd","count","allErrors","sort","a","b","slice","getErrorStats","stats","total","byType","byPage","recent24h","yesterday","getTime","setAutoFix","enabled","warning","alert","startsWith","dispatchEvent","CustomEvent","detail","strategy","maxRetries","baseDelay","retryWithDelay","attempt","delay","pow","cache_strategy","document","body","offlineIndicator","createElement","style","cssText","textContent","prepend","remove","defaultCustomer","name","phone","customer_type","discount_rate","realTime","real_time","similar","silent","forms","querySelectorAll","form","invalidInputs","input","border","boxShadow","showEmergencyNotice","auto_recovery","newForm","cloneNode","parentNode","replaceChild","React","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","keysToRemove","i","includes","removeItem","deep","localStorage_keys","pattern","regex","RegExp","replace","test","AI_SAFE_MODE","showSafeModeIndicator","indicator","getElementById","overlay","innerHTML","appendChild","notice","round","generateReport","summary","monitoring","autoFix","totalErrors","aiErrorMonitor","process","env","NODE_ENV"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/services/errorMonitor.js"],"sourcesContent":["// AI-Powered Error Monitor & Auto-Fix System\r\n// T·ª± ƒë·ªông b·∫Øt v√† ph√¢n t√≠ch l·ªói, ƒë∆∞a ra gi·∫£i ph√°p s·ª≠a ch·ªØa\r\n\r\nimport api from './api';\r\n\r\nclass AIErrorMonitor {\r\n  constructor() {\r\n    this.errors = [];\r\n    this.apiErrors = [];\r\n    this.consoleErrors = [];\r\n    this.isMonitoring = false;\r\n    this.aiEndpoint = '/ai/analyze-error';\r\n    this.autoFixEnabled = true;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    console.log('ü§ñ AI Error Monitor kh·ªüi ƒë·ªông...');\r\n    \r\n    // B·∫Øt t·∫•t c·∫£ l·ªói console\r\n    this.interceptConsoleErrors();\r\n    \r\n    // B·∫Øt t·∫•t c·∫£ l·ªói API\r\n    this.interceptAPIErrors();\r\n    \r\n    // B·∫Øt l·ªói React/JS runtime\r\n    this.interceptRuntimeErrors();\r\n    \r\n    // B·∫Øt l·ªói unhandled promise\r\n    this.interceptPromiseErrors();\r\n    \r\n    // B·∫Øt l·ªói network\r\n    this.interceptNetworkErrors();\r\n    \r\n    this.isMonitoring = true;\r\n    console.log('‚úÖ AI Error Monitor ƒë√£ s·∫µn s√†ng - S·∫Ω t·ª± ƒë·ªông s·ª≠a l·ªói!');\r\n  }\r\n\r\n  // B·∫Øt t·∫•t c·∫£ l·ªói console (error, warn, debug)\r\n  interceptConsoleErrors() {\r\n    const originalError = console.error;\r\n    const originalWarn = console.warn;\r\n    \r\n    console.error = (...args) => {\r\n      this.captureConsoleError('error', args);\r\n      originalError.apply(console, args);\r\n    };\r\n    \r\n    console.warn = (...args) => {\r\n      this.captureConsoleError('warn', args);\r\n      originalWarn.apply(console, args);\r\n    };\r\n  }\r\n\r\n  // B·∫Øt l·ªói API t·ª´ axios interceptor\r\n  interceptAPIErrors() {\r\n    // ƒê√£ c√≥ s·∫µn trong api.js, ta s·∫Ω hook v√†o ƒë√≥\r\n    if (window.axios) {\r\n      window.axios.interceptors.response.use(\r\n        (response) => response,\r\n        (error) => {\r\n          this.captureAPIError(error);\r\n          return Promise.reject(error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  // B·∫Øt l·ªói runtime JavaScript\r\n  interceptRuntimeErrors() {\r\n    window.addEventListener('error', (event) => {\r\n      this.captureRuntimeError(event);\r\n    });\r\n  }\r\n\r\n  // B·∫Øt l·ªói promise kh√¥ng ƒë∆∞·ª£c handle\r\n  interceptPromiseErrors() {\r\n    window.addEventListener('unhandledrejection', (event) => {\r\n      this.capturePromiseError(event);\r\n    });\r\n  }\r\n\r\n  // B·∫Øt l·ªói network\r\n  interceptNetworkErrors() {\r\n    const originalFetch = window.fetch;\r\n    window.fetch = async (...args) => {\r\n      try {\r\n        const response = await originalFetch(...args);\r\n        if (!response.ok) {\r\n          this.captureNetworkError(args[0], response);\r\n        }\r\n        return response;\r\n      } catch (error) {\r\n        this.captureNetworkError(args[0], null, error);\r\n        throw error;\r\n      }\r\n    };\r\n  }\r\n\r\n  // Ghi l·∫°i l·ªói console\r\n  captureConsoleError(level, args) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'console',\r\n      level: level,\r\n      message: args.join(' '),\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href,\r\n      userAgent: navigator.userAgent,\r\n      stack: new Error().stack\r\n    };\r\n    \r\n    this.consoleErrors.push(error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi l·∫°i l·ªói API\r\n  captureAPIError(axiosError) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'api',\r\n      method: axiosError.config?.method?.toUpperCase(),\r\n      url: axiosError.config?.url,\r\n      baseURL: axiosError.config?.baseURL,\r\n      fullURL: `${axiosError.config?.baseURL}${axiosError.config?.url}`,\r\n      status: axiosError.response?.status,\r\n      statusText: axiosError.response?.statusText,\r\n      data: axiosError.response?.data,\r\n      message: axiosError.message,\r\n      timestamp: new Date().toISOString(),\r\n      requestData: axiosError.config?.data,\r\n      headers: axiosError.config?.headers\r\n    };\r\n    \r\n    this.apiErrors.push(error);\r\n    console.log('üî¥ API Error Captured:', error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi l·∫°i l·ªói runtime\r\n  captureRuntimeError(event) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'runtime',\r\n      message: event.message,\r\n      filename: event.filename,\r\n      lineno: event.lineno,\r\n      colno: event.colno,\r\n      stack: event.error?.stack,\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href\r\n    };\r\n    \r\n    this.errors.push(error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi l·∫°i l·ªói promise\r\n  capturePromiseError(event) {\r\n    const error = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'promise',\r\n      message: event.reason?.message || event.reason,\r\n      stack: event.reason?.stack,\r\n      timestamp: new Date().toISOString(),\r\n      url: window.location.href\r\n    };\r\n    \r\n    this.errors.push(error);\r\n    this.processError(error);\r\n  }\r\n\r\n  // Ghi l·∫°i l·ªói network\r\n  captureNetworkError(url, response, error) {\r\n    const networkError = {\r\n      id: Date.now() + Math.random(),\r\n      type: 'network',\r\n      url: url,\r\n      status: response?.status,\r\n      statusText: response?.statusText,\r\n      message: error?.message || `Network error: ${response?.status}`,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    this.errors.push(networkError);\r\n    this.processError(networkError);\r\n  }\r\n\r\n  // X·ª≠ l√Ω l·ªói th√¥ng qua AI\r\n  async processError(error) {\r\n    console.log(`ü§ñ AI ƒëang ph√¢n t√≠ch l·ªói: ${error.type}`, error);\r\n    \r\n    try {\r\n      // G·ª≠i l·ªói ƒë·∫øn AI ƒë·ªÉ ph√¢n t√≠ch\r\n      const aiResponse = await this.sendToAI(error);\r\n      \r\n      if (aiResponse.canAutoFix && this.autoFixEnabled) {\r\n        console.log('üîß AI ƒë√£ t√¨m ra c√°ch s·ª≠a, ƒëang auto-fix...');\r\n        await this.applyAutoFix(error, aiResponse.solution);\r\n      } else {\r\n        console.log('üìã AI g·ª£i √Ω c√°ch s·ª≠a:', aiResponse.suggestion);\r\n        this.showErrorNotification(error, aiResponse);\r\n      }\r\n    } catch (aiError) {\r\n      console.log('‚ùå AI kh√¥ng th·ªÉ ph√¢n t√≠ch l·ªói:', aiError.message);\r\n      this.showBasicErrorNotification(error);\r\n    }\r\n  }\r\n\r\n  // G·ª≠i l·ªói ƒë·∫øn AI backend ƒë·ªÉ ph√¢n t√≠ch\r\n  async sendToAI(error) {\r\n    try {\r\n      const response = await api.post(this.aiEndpoint, {\r\n        error: error,\r\n        context: {\r\n          page: window.location.pathname,\r\n          timestamp: new Date().toISOString(),\r\n          userAgent: navigator.userAgent,\r\n          recentErrors: this.getRecentErrors(5),\r\n          systemInfo: {\r\n            url: window.location.href,\r\n            viewport: `${window.innerWidth}x${window.innerHeight}`,\r\n            online: navigator.onLine\r\n          }\r\n        }\r\n      });\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw new Error('AI service unavailable');\r\n    }\r\n  }\r\n\r\n  // √Åp d·ª•ng auto-fix do AI ƒë·ªÅ xu·∫•t\r\n  async applyAutoFix(error, solution) {\r\n    try {\r\n      console.log('üîÑ ƒêang √°p d·ª•ng auto-fix...', solution);\r\n      \r\n      switch (solution.type) {\r\n        case 'reload_page':\r\n          setTimeout(() => window.location.reload(), 2000);\r\n          break;\r\n          \r\n        case 'retry_api':\r\n          await this.retryFailedAPI(error, solution);\r\n          break;\r\n          \r\n        case 'clear_cache':\r\n          localStorage.clear();\r\n          sessionStorage.clear();\r\n          break;\r\n          \r\n        case 'update_ui_state':\r\n          await this.updateUIState(solution.data);\r\n          break;\r\n          \r\n        case 'fix_code':\r\n          console.log('üí° Code fix suggestion:', solution.code);\r\n          break;\r\n\r\n        case 'show_user_message':\r\n          this.showUserMessage(solution.message);\r\n          break;\r\n\r\n        case 'redirect_to_list':\r\n          this.redirectToList(solution.page);\r\n          break;\r\n\r\n        case 'use_fallback_data':\r\n          this.useFallbackData(solution.data);\r\n          break;\r\n\r\n        case 'reload_page_section':\r\n          this.reloadPageSection(solution.section);\r\n          break;\r\n          \r\n        // ADVANCED SOLUTIONS - DEEP ANALYSIS\r\n        case 'retry_with_backoff':\r\n          this.retryWithExponentialBackoff(solution);\r\n          break;\r\n          \r\n        case 'enable_offline_mode':\r\n          this.enableOfflineMode(solution);\r\n          break;\r\n          \r\n        case 'add_null_checks':\r\n          this.suggestNullChecks(solution);\r\n          break;\r\n          \r\n        case 'analyze_hook_dependencies':\r\n          this.analyzeHookDependencies(solution);\r\n          break;\r\n          \r\n        case 'implement_error_boundary':\r\n          this.implementErrorBoundary(solution);\r\n          break;\r\n          \r\n        case 'auto_create_customer':\r\n          this.autoCreateCustomer(solution);\r\n          break;\r\n          \r\n        case 'refresh_inventory_data':\r\n          this.refreshInventoryData(solution);\r\n          break;\r\n          \r\n        case 'suggest_alternative_products':\r\n          this.suggestAlternativeProducts(solution);\r\n          break;\r\n          \r\n        case 'refresh_auth_token':\r\n          this.refreshAuthToken(solution);\r\n          break;\r\n          \r\n        case 'highlight_invalid_fields':\r\n          this.highlightInvalidFields(solution);\r\n          break;\r\n          \r\n        // EMERGENCY SOLUTIONS - CRITICAL ERROR HANDLING\r\n        case 'emergency_page_reload':\r\n          this.emergencyPageReload(solution);\r\n          break;\r\n          \r\n        case 'fix_form_bindings':\r\n          this.fixFormBindings(solution);\r\n          break;\r\n          \r\n        case 'reset_component_state':\r\n          this.resetComponentState(solution);\r\n          break;\r\n          \r\n        case 'clear_form_cache':\r\n          this.clearFormCache(solution);\r\n          break;\r\n          \r\n        case 'enable_safe_mode':\r\n          this.enableSafeMode(solution);\r\n          break;\r\n          \r\n        case 'component_recovery':\r\n          this.componentRecovery(solution);\r\n          break;\r\n          \r\n        case 'show_fallback_ui':\r\n          this.showFallbackUI(solution);\r\n          break;\r\n          \r\n        default:\r\n          console.log('ü§ñ AI solution:', solution.description);\r\n      }\r\n      \r\n      console.log('‚úÖ Auto-fix ho√†n th√†nh!');\r\n      this.showSuccessNotification(`AI ƒë√£ t·ª± ƒë·ªông s·ª≠a l·ªói: ${error.message}`);\r\n      \r\n    } catch (fixError) {\r\n      console.log('‚ùå Auto-fix th·∫•t b·∫°i:', fixError.message);\r\n    }\r\n  }\r\n\r\n  // Retry API call theo g·ª£i √Ω c·ªßa AI\r\n  async retryFailedAPI(error, solution) {\r\n    if (error.type !== 'api') return;\r\n    \r\n    try {\r\n      const retryConfig = {\r\n        method: error.method?.toLowerCase() || 'get',\r\n        url: error.url,\r\n        data: solution.modifiedData || JSON.parse(error.requestData || '{}'),\r\n        headers: solution.modifiedHeaders || error.headers\r\n      };\r\n      \r\n      console.log('üîÑ Retry API v·ªõi config m·ªõi:', retryConfig);\r\n      const response = await api(retryConfig);\r\n      console.log('‚úÖ API retry th√†nh c√¥ng:', response.data);\r\n      \r\n      return response;\r\n    } catch (retryError) {\r\n      console.log('‚ùå API retry th·∫•t b·∫°i:', retryError.message);\r\n      throw retryError;\r\n    }\r\n  }\r\n\r\n  // C·∫≠p nh·∫≠t UI state theo g·ª£i √Ω AI\r\n  async updateUIState(stateChanges) {\r\n    try {\r\n      // Dispatch Redux actions ho·∫∑c update React state\r\n      if (window.store && stateChanges.redux) {\r\n        window.store.dispatch(stateChanges.redux);\r\n      }\r\n      \r\n      // Update localStorage\r\n      if (stateChanges.localStorage) {\r\n        Object.entries(stateChanges.localStorage).forEach(([key, value]) => {\r\n          localStorage.setItem(key, JSON.stringify(value));\r\n        });\r\n      }\r\n      \r\n      console.log('‚úÖ UI state updated theo AI suggestion');\r\n    } catch (error) {\r\n      console.log('‚ùå Kh√¥ng th·ªÉ update UI state:', error.message);\r\n    }\r\n  }\r\n\r\n  // Hi·ªÉn th·ªã th√¥ng b√°o l·ªói v·ªõi AI suggestion\r\n  showErrorNotification(error, aiResponse) {\r\n    const notification = {\r\n      type: 'error',\r\n      title: `ü§ñ AI Ph√°t hi·ªán l·ªói: ${error.type}`,\r\n      message: error.message,\r\n      suggestion: aiResponse.suggestion,\r\n      action: aiResponse.action,\r\n      duration: 10000\r\n    };\r\n    \r\n    this.displayNotification(notification);\r\n  }\r\n\r\n  // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng\r\n  showSuccessNotification(message) {\r\n    const notification = {\r\n      type: 'success',\r\n      title: 'ü§ñ AI Auto-Fix',\r\n      message: message,\r\n      duration: 5000\r\n    };\r\n    \r\n    this.displayNotification(notification);\r\n  }\r\n\r\n  // Hi·ªÉn th·ªã th√¥ng b√°o c∆° b·∫£n\r\n  showBasicErrorNotification(error) {\r\n    console.log(`üî¥ L·ªói ${error.type}: ${error.message}`);\r\n  }\r\n\r\n  // Hi·ªÉn th·ªã notification tr√™n UI\r\n  displayNotification(notification) {\r\n    // T√≠ch h·ª£p v·ªõi Ant Design notification ho·∫∑c custom notification\r\n    if (window.antd && window.antd.notification) {\r\n      window.antd.notification[notification.type]({\r\n        message: notification.title,\r\n        description: notification.message + (notification.suggestion ? `\\nüí° ${notification.suggestion}` : ''),\r\n        duration: notification.duration / 1000\r\n      });\r\n    } else {\r\n      console.log('üì¢ Notification:', notification);\r\n    }\r\n  }\r\n\r\n  // L·∫•y l·ªói g·∫ßn ƒë√¢y\r\n  getRecentErrors(count = 10) {\r\n    const allErrors = [...this.errors, ...this.apiErrors, ...this.consoleErrors];\r\n    return allErrors\r\n      .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n      .slice(0, count);\r\n  }\r\n\r\n  // L·∫•y th·ªëng k√™ l·ªói\r\n  getErrorStats() {\r\n    const allErrors = this.getRecentErrors(100);\r\n    const stats = {\r\n      total: allErrors.length,\r\n      byType: {},\r\n      byPage: {},\r\n      recent24h: 0\r\n    };\r\n    \r\n    const now = new Date();\r\n    const yesterday = new Date(now.getTime() - 24 * 60 * 60 * 1000);\r\n    \r\n    allErrors.forEach(error => {\r\n      // Count by type\r\n      stats.byType[error.type] = (stats.byType[error.type] || 0) + 1;\r\n      \r\n      // Count by page\r\n      const page = error.url || 'unknown';\r\n      stats.byPage[page] = (stats.byPage[page] || 0) + 1;\r\n      \r\n      // Count recent 24h\r\n      if (new Date(error.timestamp) > yesterday) {\r\n        stats.recent24h++;\r\n      }\r\n    });\r\n    \r\n    return stats;\r\n  }\r\n\r\n  // API ƒë·ªÉ disable/enable auto-fix\r\n  setAutoFix(enabled) {\r\n    this.autoFixEnabled = enabled;\r\n    console.log(`ü§ñ AI Auto-Fix: ${enabled ? 'Enabled' : 'Disabled'}`);\r\n  }\r\n\r\n  // Hi·ªÉn th·ªã th√¥ng b√°o cho user\r\n  showUserMessage(message) {\r\n    try {\r\n      console.log(`üì¢ AI Message: ${message}`);\r\n      \r\n      // S·ª≠ d·ª•ng Ant Design notification n·∫øu c√≥\r\n      if (window.antd && window.antd.message) {\r\n        window.antd.message.warning(message);\r\n      } else {\r\n        // Fallback to browser notification\r\n        alert(`ü§ñ AI: ${message}`);\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('‚ùå Kh√¥ng th·ªÉ hi·ªÉn th·ªã th√¥ng b√°o:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Chuy·ªÉn h∆∞·ªõng v·ªÅ trang danh s√°ch\r\n  redirectToList(page) {\r\n    try {\r\n      console.log(`üîÑ AI Redirect to: ${page}`);\r\n      \r\n      if (page && page.startsWith('/')) {\r\n        // Chuy·ªÉn h∆∞·ªõng b·∫±ng window.location\r\n        setTimeout(() => {\r\n          window.location.href = page;\r\n        }, 2000);\r\n      } else {\r\n        // Chuy·ªÉn v·ªÅ trang ch√≠nh n·∫øu kh√¥ng c√≥ page c·ª• th·ªÉ\r\n        setTimeout(() => {\r\n          window.location.href = '/';\r\n        }, 2000);\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('‚ùå Kh√¥ng th·ªÉ chuy·ªÉn h∆∞·ªõng:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // S·ª≠ d·ª•ng d·ªØ li·ªáu fallback\r\n  useFallbackData(data) {\r\n    try {\r\n      console.log('üîÑ AI s·ª≠ d·ª•ng fallback data:', data);\r\n      \r\n      // L∆∞u v√†o sessionStorage ƒë·ªÉ component kh√°c c√≥ th·ªÉ s·ª≠ d·ª•ng\r\n      if (data && typeof data === 'object') {\r\n        sessionStorage.setItem('ai_fallback_data', JSON.stringify(data));\r\n        \r\n        // Trigger custom event ƒë·ªÉ components bi·∫øt c√≥ fallback data\r\n        window.dispatchEvent(new CustomEvent('ai-fallback-data', {\r\n          detail: data\r\n        }));\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('‚ùå Kh√¥ng th·ªÉ s·ª≠ d·ª•ng fallback data:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Reload m·ªôt ph·∫ßn c·ª• th·ªÉ c·ªßa trang\r\n  reloadPageSection(section) {\r\n    try {\r\n      console.log(`üîÑ AI reload section: ${section}`);\r\n      \r\n      // Dispatch event ƒë·ªÉ component t·ª± reload\r\n      window.dispatchEvent(new CustomEvent('ai-reload-section', {\r\n        detail: { section }\r\n      }));\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('‚ùå Kh√¥ng th·ªÉ reload section:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // ============================================\r\n  // ADVANCED SOLUTION IMPLEMENTATIONS - DEEP AI\r\n  // ============================================\r\n  \r\n  // Retry v·ªõi exponential backoff strategy\r\n  retryWithExponentialBackoff(solution) {\r\n    const { strategy = 'exponential', maxRetries = 5, baseDelay = 1000 } = solution;\r\n    \r\n    console.log(`üîÑ AI implementing ${strategy} backoff retry strategy`);\r\n    \r\n    const retryWithDelay = (attempt) => {\r\n      if (attempt >= maxRetries) {\r\n        console.log(`‚ùå Max retries (${maxRetries}) reached`);\r\n        return;\r\n      }\r\n      \r\n      const delay = strategy === 'exponential' \r\n        ? baseDelay * Math.pow(2, attempt)\r\n        : baseDelay;\r\n      \r\n      console.log(`‚è±Ô∏è Retry attempt ${attempt + 1}/${maxRetries} after ${delay}ms`);\r\n      \r\n      setTimeout(() => {\r\n        // Implement actual retry logic here\r\n        window.location.reload();\r\n      }, delay);\r\n    };\r\n    \r\n    retryWithDelay(0);\r\n  }\r\n  \r\n  // Enable offline mode v·ªõi cache strategy\r\n  enableOfflineMode(solution) {\r\n    const { cache_strategy = 'last_known_good', duration = 30000 } = solution;\r\n    \r\n    console.log(`üì¥ AI enabling offline mode with ${cache_strategy} strategy`);\r\n    \r\n    // Set offline indicator\r\n    if (document.body) {\r\n      const offlineIndicator = document.createElement('div');\r\n      offlineIndicator.id = 'ai-offline-indicator';\r\n      offlineIndicator.style.cssText = `\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: #ff7875;\r\n        color: white;\r\n        text-align: center;\r\n        padding: 8px;\r\n        z-index: 9999;\r\n        font-size: 14px;\r\n      `;\r\n      offlineIndicator.textContent = 'ü§ñ AI: Offline mode - ƒêang s·ª≠ d·ª•ng d·ªØ li·ªáu cache';\r\n      \r\n      document.body.prepend(offlineIndicator);\r\n      \r\n      // Auto remove after duration\r\n      setTimeout(() => {\r\n        offlineIndicator?.remove();\r\n      }, duration);\r\n    }\r\n  }\r\n  \r\n  // Suggest null checks cho React components\r\n  suggestNullChecks(solution) {\r\n    console.log('üõ°Ô∏è AI suggesting null checks implementation:');\r\n    console.log(`\r\n      üí° AI Code Suggestion:\r\n      \r\n      // Add null checks before accessing properties\r\n      const MyComponent = ({ data }) => {\r\n        if (!data || !data.items) {\r\n          return <div>Loading...</div>;\r\n        }\r\n        \r\n        return (\r\n          <div>\r\n            {data.items?.map(item => (\r\n              <div key={item?.id || 'unknown'}>\r\n                {item?.name || 'Unknown'}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      };\r\n    `);\r\n  }\r\n  \r\n  // Analyze React Hook dependencies\r\n  analyzeHookDependencies(solution) {\r\n    console.log('üîç AI analyzing React Hook dependencies:');\r\n    console.log(`\r\n      üí° AI Hook Analysis:\r\n      \r\n      ‚ö†Ô∏è Common Issues:\r\n      1. Missing dependencies in useEffect\r\n      2. Stale closures in event handlers\r\n      3. Infinite re-renders from object dependencies\r\n      \r\n      üîß AI Suggestions:\r\n      - Add missing dependencies to dependency array\r\n      - Use useCallback for function dependencies\r\n      - Use useMemo for object dependencies\r\n      - Consider splitting complex effects\r\n      \r\n      Example fix:\r\n      useEffect(() => {\r\n        // effect code\r\n      }, [dependency1, dependency2]); // ‚Üê Add all dependencies\r\n    `);\r\n  }\r\n  \r\n  // Implement Error Boundary suggestion\r\n  implementErrorBoundary(solution) {\r\n    console.log('üöß AI suggesting Error Boundary implementation:');\r\n    console.log(`\r\n      üí° AI Error Boundary Pattern:\r\n      \r\n      import ErrorBoundary from './components/ErrorBoundary';\r\n      \r\n      <ErrorBoundary fallback={<div>Something went wrong</div>}>\r\n        <YourComponent />\r\n      </ErrorBoundary>\r\n      \r\n      ‚úÖ This will catch component errors and prevent crashes\r\n    `);\r\n  }\r\n  \r\n  // Auto create customer solution\r\n  autoCreateCustomer(solution) {\r\n    console.log('üë§ AI auto-creating customer with defaults...');\r\n    \r\n    const defaultCustomer = {\r\n      name: 'Kh√°ch h√†ng',\r\n      phone: '',\r\n      customer_type: 'regular',\r\n      discount_rate: 0\r\n    };\r\n    \r\n    // Trigger customer creation form with defaults\r\n    this.showUserMessage('AI ƒë√£ chu·∫©n b·ªã th√¥ng tin kh√°ch h√†ng m·∫∑c ƒë·ªãnh. Vui l√≤ng ki·ªÉm tra v√† x√°c nh·∫≠n.');\r\n    \r\n    return defaultCustomer;\r\n  }\r\n  \r\n  // Refresh inventory data\r\n  refreshInventoryData(solution) {\r\n    console.log('üì¶ AI refreshing inventory data...');\r\n    \r\n    // Emit custom event to refresh inventory\r\n    window.dispatchEvent(new CustomEvent('ai-refresh-inventory', {\r\n      detail: { realTime: solution.real_time }\r\n    }));\r\n    \r\n    this.showUserMessage('AI ƒëang c·∫≠p nh·∫≠t d·ªØ li·ªáu t·ªìn kho real-time...');\r\n  }\r\n  \r\n  // Suggest alternative products\r\n  suggestAlternativeProducts(solution) {\r\n    console.log('üîÑ AI suggesting alternative products...');\r\n    \r\n    this.showUserMessage('S·∫£n ph·∫©m kh√¥ng ƒë·ªß stock. AI ƒëang t√¨m s·∫£n ph·∫©m t∆∞∆°ng t·ª±...');\r\n    \r\n    // Emit event for product suggestions\r\n    window.dispatchEvent(new CustomEvent('ai-suggest-alternatives', {\r\n      detail: { similar: solution.similar }\r\n    }));\r\n  }\r\n  \r\n  // Refresh authentication token\r\n  refreshAuthToken(solution) {\r\n    console.log('üîê AI attempting to refresh auth token...');\r\n    \r\n    if (solution.silent) {\r\n      // Silent refresh\r\n      console.log('ü§´ Silent token refresh...');\r\n    } else {\r\n      this.showUserMessage('Phi√™n ƒëƒÉng nh·∫≠p h·∫øt h·∫°n. AI ƒëang l√†m m·ªõi token...');\r\n    }\r\n    \r\n    // Trigger auth refresh\r\n    window.dispatchEvent(new CustomEvent('ai-refresh-auth'));\r\n  }\r\n  \r\n  // Highlight invalid form fields\r\n  highlightInvalidFields(solution) {\r\n    console.log('üéØ AI highlighting invalid form fields...');\r\n    \r\n    // Find form elements and highlight invalid ones\r\n    const forms = document.querySelectorAll('form');\r\n    forms.forEach(form => {\r\n      const invalidInputs = form.querySelectorAll(':invalid');\r\n      invalidInputs.forEach(input => {\r\n        input.style.border = '2px solid #ff4d4f';\r\n        input.style.boxShadow = '0 0 5px rgba(255, 77, 79, 0.3)';\r\n      });\r\n    });\r\n    \r\n    this.showUserMessage('AI ƒë√£ highlight c√°c field c·∫ßn s·ª≠a. Vui l√≤ng ki·ªÉm tra l·∫°i.');\r\n  }\r\n  \r\n  // ============================================\r\n  // EMERGENCY SOLUTIONS - CRITICAL ERROR RECOVERY\r\n  // ============================================\r\n  \r\n  // Emergency page reload cho critical errors\r\n  emergencyPageReload(solution) {\r\n    const { delay = 3000, message = 'ƒêang kh√¥i ph·ª•c t·ª´ l·ªói critical...' } = solution;\r\n    \r\n    console.log('üö® AI EMERGENCY: Implementing emergency page reload...');\r\n    \r\n    // Show emergency notice\r\n    this.showEmergencyNotice(message);\r\n    \r\n    // Set emergency flag trong localStorage\r\n    localStorage.setItem('ai_emergency_recovery', JSON.stringify({\r\n      timestamp: Date.now(),\r\n      reason: 'illegal_invocation_error',\r\n      auto_recovery: true\r\n    }));\r\n    \r\n    // Reload after delay\r\n    setTimeout(() => {\r\n      console.log('üîÑ AI Emergency: Reloading page to recover from critical error...');\r\n      window.location.reload();\r\n    }, delay);\r\n  }\r\n  \r\n  // Fix form bindings issues\r\n  fixFormBindings(solution) {\r\n    console.log('üîß AI fixing form bindings...');\r\n    \r\n    try {\r\n      // Remove all form event listeners\r\n      const forms = document.querySelectorAll('form');\r\n      forms.forEach(form => {\r\n        // Clone form to remove all event listeners\r\n        const newForm = form.cloneNode(true);\r\n        form.parentNode.replaceChild(newForm, form);\r\n      });\r\n      \r\n      // Clear React form state cache\r\n      if (window.React && window.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) {\r\n        // Reset React internal state (emergency measure)\r\n        console.log('üîß Resetting React internal form state...');\r\n      }\r\n      \r\n      this.showUserMessage('AI ƒë√£ fix form bindings. Vui l√≤ng th·ª≠ l·∫°i.');\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Failed to fix form bindings:', error);\r\n      this.emergencyPageReload({ delay: 2000, message: 'Form binding fix failed, reloading...' });\r\n    }\r\n  }\r\n  \r\n  // Reset component state deeply\r\n  resetComponentState(solution) {\r\n    console.log('üîÑ AI resetting component state...');\r\n    \r\n    try {\r\n      // Clear all localStorage related to forms and components\r\n      const keysToRemove = [];\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && (key.includes('form') || key.includes('component') || key.includes('state'))) {\r\n          keysToRemove.push(key);\r\n        }\r\n      }\r\n      \r\n      keysToRemove.forEach(key => {\r\n        localStorage.removeItem(key);\r\n        console.log(`üóëÔ∏è Removed localStorage: ${key}`);\r\n      });\r\n      \r\n      // Clear sessionStorage as well\r\n      sessionStorage.clear();\r\n      \r\n      // Emit custom event to force React components to reset\r\n      window.dispatchEvent(new CustomEvent('ai-component-reset', {\r\n        detail: { deep: solution.deep, reason: 'illegal_invocation_recovery' }\r\n      }));\r\n      \r\n      this.showUserMessage('AI ƒë√£ reset component state. H·ªá th·ªëng ƒëang kh√¥i ph·ª•c...');\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Failed to reset component state:', error);\r\n    }\r\n  }\r\n  \r\n  // Clear form cache\r\n  clearFormCache(solution) {\r\n    console.log('üßπ AI clearing form cache...');\r\n    \r\n    const { localStorage_keys = ['form_*'] } = solution;\r\n    \r\n    try {\r\n      // Clear localStorage keys matching patterns\r\n      localStorage_keys.forEach(pattern => {\r\n        const regex = new RegExp(pattern.replace('*', '.*'));\r\n        const keysToRemove = [];\r\n        \r\n        for (let i = 0; i < localStorage.length; i++) {\r\n          const key = localStorage.key(i);\r\n          if (key && regex.test(key)) {\r\n            keysToRemove.push(key);\r\n          }\r\n        }\r\n        \r\n        keysToRemove.forEach(key => {\r\n          localStorage.removeItem(key);\r\n          console.log(`üóëÔ∏è Cleared form cache: ${key}`);\r\n        });\r\n      });\r\n      \r\n      this.showUserMessage('AI ƒë√£ clear form cache th√†nh c√¥ng.');\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Failed to clear form cache:', error);\r\n    }\r\n  }\r\n  \r\n  // Enable safe mode\r\n  enableSafeMode(solution) {\r\n    const { duration = 30000 } = solution;\r\n    \r\n    console.log(`üõ°Ô∏è AI enabling safe mode for ${duration}ms...`);\r\n    \r\n    // Set safe mode flag\r\n    window.AI_SAFE_MODE = true;\r\n    localStorage.setItem('ai_safe_mode', JSON.stringify({\r\n      enabled: true,\r\n      timestamp: Date.now(),\r\n      duration: duration\r\n    }));\r\n    \r\n    // Show safe mode indicator\r\n    this.showSafeModeIndicator(duration);\r\n    \r\n    // Disable safe mode after duration\r\n    setTimeout(() => {\r\n      window.AI_SAFE_MODE = false;\r\n      localStorage.removeItem('ai_safe_mode');\r\n      console.log('üõ°Ô∏è AI safe mode disabled');\r\n      \r\n      // Remove safe mode indicator\r\n      const indicator = document.getElementById('ai-safe-mode-indicator');\r\n      if (indicator) {\r\n        indicator.remove();\r\n      }\r\n    }, duration);\r\n  }\r\n  \r\n  // Component recovery\r\n  componentRecovery(solution) {\r\n    console.log('üîß AI implementing component recovery...');\r\n    \r\n    const { strategy = 'graceful_fallback' } = solution;\r\n    \r\n    try {\r\n      switch (strategy) {\r\n        case 'graceful_fallback':\r\n          // Force React error boundaries to show fallback UI\r\n          window.dispatchEvent(new CustomEvent('ai-force-fallback', {\r\n            detail: { reason: 'component_recovery' }\r\n          }));\r\n          break;\r\n          \r\n        case 'component_remount':\r\n          // Force component remount\r\n          window.dispatchEvent(new CustomEvent('ai-remount-components'));\r\n          break;\r\n          \r\n        default:\r\n          this.showUserMessage('AI ƒëang kh√¥i ph·ª•c component...');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Component recovery failed:', error);\r\n      this.emergencyPageReload({ delay: 1000 });\r\n    }\r\n  }\r\n  \r\n  // Show fallback UI\r\n  showFallbackUI(solution) {\r\n    const { message = 'ƒêang kh√¥i ph·ª•c component...' } = solution;\r\n    \r\n    console.log('üé≠ AI showing fallback UI...');\r\n    \r\n    // Create fallback overlay\r\n    const overlay = document.createElement('div');\r\n    overlay.id = 'ai-fallback-overlay';\r\n    overlay.style.cssText = `\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background: rgba(0, 0, 0, 0.8);\r\n      color: white;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      z-index: 10000;\r\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n    `;\r\n    \r\n    overlay.innerHTML = `\r\n      <div style=\"text-align: center; max-width: 400px; padding: 24px;\">\r\n        <div style=\"font-size: 48px; margin-bottom: 16px;\">ü§ñ</div>\r\n        <h2 style=\"margin: 0 0 16px 0; color: #1890ff;\">AI Recovery Mode</h2>\r\n        <p style=\"margin: 0 0 24px 0; opacity: 0.8;\">${message}</p>\r\n        <div style=\"display: flex; justify-content: center; gap: 12px;\">\r\n          <div style=\"width: 8px; height: 8px; border-radius: 50%; background: #1890ff; animation: pulse 1.5s infinite;\"></div>\r\n          <div style=\"width: 8px; height: 8px; border-radius: 50%; background: #1890ff; animation: pulse 1.5s infinite 0.2s;\"></div>\r\n          <div style=\"width: 8px; height: 8px; border-radius: 50%; background: #1890ff; animation: pulse 1.5s infinite 0.4s;\"></div>\r\n        </div>\r\n      </div>\r\n      <style>\r\n        @keyframes pulse {\r\n          0%, 100% { opacity: 0.3; }\r\n          50% { opacity: 1; }\r\n        }\r\n      </style>\r\n    `;\r\n    \r\n    document.body.appendChild(overlay);\r\n    \r\n    // Auto remove after 5 seconds\r\n    setTimeout(() => {\r\n      overlay.remove();\r\n    }, 5000);\r\n  }\r\n  \r\n  // Show emergency notice\r\n  showEmergencyNotice(message) {\r\n    const notice = document.createElement('div');\r\n    notice.id = 'ai-emergency-notice';\r\n    notice.style.cssText = `\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      background: linear-gradient(135deg, #ff4d4f, #ff7875);\r\n      color: white;\r\n      text-align: center;\r\n      padding: 12px;\r\n      z-index: 9999;\r\n      font-weight: 600;\r\n      box-shadow: 0 2px 8px rgba(255, 77, 79, 0.3);\r\n    `;\r\n    notice.textContent = `üö® AI EMERGENCY: ${message}`;\r\n    \r\n    document.body.prepend(notice);\r\n  }\r\n  \r\n  // Show safe mode indicator\r\n  showSafeModeIndicator(duration) {\r\n    const indicator = document.createElement('div');\r\n    indicator.id = 'ai-safe-mode-indicator';\r\n    indicator.style.cssText = `\r\n      position: fixed;\r\n      bottom: 20px;\r\n      right: 20px;\r\n      background: #52c41a;\r\n      color: white;\r\n      padding: 8px 12px;\r\n      border-radius: 6px;\r\n      z-index: 9998;\r\n      font-size: 12px;\r\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n    `;\r\n    indicator.textContent = `üõ°Ô∏è AI Safe Mode (${Math.round(duration/1000)}s)`;\r\n    \r\n    document.body.appendChild(indicator);\r\n  }\r\n\r\n  // API ƒë·ªÉ l·∫•y report t·ªïng h·ª£p\r\n  generateReport() {\r\n    const stats = this.getErrorStats();\r\n    const recentErrors = this.getRecentErrors(20);\r\n    \r\n    return {\r\n      summary: {\r\n        monitoring: this.isMonitoring,\r\n        autoFix: this.autoFixEnabled,\r\n        totalErrors: stats.total,\r\n        recent24h: stats.recent24h\r\n      },\r\n      stats: stats,\r\n      recentErrors: recentErrors,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n  }\r\n}\r\n\r\n// Kh·ªüi t·∫°o global error monitor\r\nconst aiErrorMonitor = new AIErrorMonitor();\r\n\r\n// Export ƒë·ªÉ s·ª≠ d·ª•ng trong c√°c component kh√°c\r\nexport default aiErrorMonitor;\r\n\r\n// Expose v√†o window ƒë·ªÉ debug\r\nif (process.env.NODE_ENV === 'development') {\r\n  window.aiErrorMonitor = aiErrorMonitor;\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}