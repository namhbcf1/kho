{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/kho/kho/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/ADMIN/Desktop/kho/kho/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"serial_numbers_text\",\"serial_prefix\",\"single_serial\"];import React,{useState,useEffect}from'react';import{Card,Table,Button,Input,Space,Modal,Form,Select,message,Row,Col,Statistic,Tag,Tooltip,DatePicker,Tabs,List,Badge,Popconfirm,Drawer,Typography,Alert,Divider,InputNumber}from'antd';import{InboxOutlined,WarningOutlined,SettingOutlined,HistoryOutlined,ImportOutlined,ExportOutlined,SearchOutlined,BarChartOutlined,QrcodeOutlined,PlusOutlined,EditOutlined,DeleteOutlined,EyeOutlined,ShoppingCartOutlined,TagsOutlined,FolderOutlined,AppstoreOutlined}from'@ant-design/icons';import{inventoryAPI,productsAPI,suppliersAPI,categoriesAPI,formatCurrency,formatDate}from'../services/api';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Search}=Input;const{Option}=Select;const{TabPane}=Tabs;const{RangePicker}=DatePicker;const{Text,Title}=Typography;const EnhancedInventoryPage=()=>{var _conditionGrades$find,_serialStatuses$find;const[products,setProducts]=useState([]);const[transactions,setTransactions]=useState([]);const[suppliers,setSuppliers]=useState([]);const[loading,setLoading]=useState(false);const[isAdjustModalVisible,setIsAdjustModalVisible]=useState(false);const[isSerialDrawerVisible,setIsSerialDrawerVisible]=useState(false);const[isAddSerialModalVisible,setIsAddSerialModalVisible]=useState(false);const[isWarrantyModalVisible,setIsWarrantyModalVisible]=useState(false);const[isEditSerialModalVisible,setIsEditSerialModalVisible]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const[selectedSerial,setSelectedSerial]=useState(null);const[warrantyInfo,setWarrantyInfo]=useState(null);const[productSerials,setProductSerials]=useState([]);const[searchText,setSearchText]=useState('');const[activeTab,setActiveTab]=useState('stock');const[stats,setStats]=useState({totalProducts:0,lowStockProducts:0,totalValue:0,outOfStock:0,totalSerials:0,availableSerials:0});// ✨ NEW: Product Management States\nconst[isProductModalVisible,setIsProductModalVisible]=useState(false);const[editingProduct,setEditingProduct]=useState(null);// ✨ NEW: Categories Management States\nconst[categories,setCategories]=useState([]);const[isCategoriesModalVisible,setIsCategoriesModalVisible]=useState(false);const[isAddCategoryModalVisible,setIsAddCategoryModalVisible]=useState(false);const[editingCategory,setEditingCategory]=useState(null);const[form]=Form.useForm();const[serialForm]=Form.useForm();const[productForm]=Form.useForm();const[categoryForm]=Form.useForm();const serialStatuses=[{value:'available',label:'Có sẵn',color:'green'},{value:'sold',label:'Đã bán',color:'red'},{value:'reserved',label:'Đã đặt',color:'orange'},{value:'defective',label:'Lỗi',color:'red'}];const conditionGrades=[{value:'new',label:'Mới',color:'green'},{value:'used_like_new',label:'Cũ như mới',color:'blue'},{value:'used_good',label:'Cũ tốt',color:'orange'},{value:'used_fair',label:'Cũ khá',color:'yellow'},{value:'refurbished',label:'Tân trang',color:'purple'},{value:'damaged',label:'Hư hỏng',color:'red'}];useEffect(()=>{loadSuppliers();loadCategories();},[]);useEffect(()=>{if(activeTab==='stock'){fetchProducts();}else if(activeTab==='transactions'){fetchTransactions();}},[activeTab,searchText]);const loadSuppliers=async()=>{try{const response=await suppliersAPI.getAll();if(response.data.success){setSuppliers(Array.isArray(response.data.data)?response.data.data:[]);}else{setSuppliers([]);}}catch(error){console.error('Error loading suppliers:',error);setSuppliers([]);}};// ✨ NEW: Load Categories\nconst loadCategories=async()=>{try{const response=await categoriesAPI.getAll();if(response.data.success){setCategories(Array.isArray(response.data.data)?response.data.data:[]);}else{setCategories([]);}}catch(error){console.error('Error loading categories:',error);setCategories([]);}};const fetchProducts=async()=>{try{setLoading(true);const response=await productsAPI.getAll({search:searchText});if(response.data.success){const safeData=Array.isArray(response.data.data)?response.data.data:[];setProducts(safeData);calculateStats(safeData);}else{setProducts([]);calculateStats([]);}}catch(error){console.error('Error fetching products:',error);setProducts([]);calculateStats([]);}finally{setLoading(false);}};const fetchTransactions=async()=>{try{setLoading(true);const response=await inventoryAPI.getTransactions({limit:100});if(response.data.success){setTransactions(Array.isArray(response.data.data)?response.data.data:[]);}else{setTransactions([]);}}catch(error){console.error('Error fetching transactions:',error);setTransactions([]);}finally{setLoading(false);}};const fetchProductSerials=async productId=>{try{setLoading(true);const response=await productsAPI.getSerials(productId);if(response.data.success){setProductSerials(Array.isArray(response.data.data)?response.data.data:[]);}else{setProductSerials([]);}}catch(error){console.error('Error fetching serials:',error);setProductSerials([]);}finally{setLoading(false);}};const calculateStats=productData=>{const safeProducts=Array.isArray(productData)?productData:[];const stats={totalProducts:safeProducts.length,lowStockProducts:safeProducts.filter(p=>p.quantity<=(p.min_stock||10)).length,totalValue:safeProducts.reduce((sum,p)=>sum+p.quantity*(p.cost_price||p.price||0),0),outOfStock:safeProducts.filter(p=>p.quantity===0).length,totalSerials:safeProducts.reduce((sum,p)=>sum+(p.quantity||0),0),availableSerials:safeProducts.reduce((sum,p)=>sum+(p.quantity||0),0)};setStats(stats);};const showAdjustModal=product=>{setSelectedProduct(product);setIsAdjustModalVisible(true);form.setFieldsValue({current_quantity:product.quantity,new_quantity:product.quantity,reason:''});};const showSerialDrawer=async product=>{setSelectedProduct(product);setIsSerialDrawerVisible(true);await fetchProductSerials(product.id);};const showAddSerialModal=product=>{setSelectedProduct(product);setIsAddSerialModalVisible(true);serialForm.resetFields();serialForm.setFieldsValue({condition_grade:'new',status:'available',warranty_start_date:moment(),warranty_period:12,single_serial:'',serial_numbers_text:''});};const showWarrantyModal=async serial=>{setSelectedSerial(serial);setIsWarrantyModalVisible(true);setWarrantyInfo(null);try{const response=await productsAPI.getWarrantyInfo(serial.serial_number);if(response.data.success){setWarrantyInfo(response.data.data);}}catch(error){console.error('Error fetching warranty info:',error);message.error('Lỗi khi lấy thông tin bảo hành');}};const showEditSerialModal=serial=>{setSelectedSerial(serial);setIsEditSerialModalVisible(true);serialForm.setFieldsValue({status:serial.status,condition_grade:serial.condition_grade,location:serial.location,purchase_price:serial.purchase_price,supplier_id:serial.supplier_id,warranty_start_date:serial.warranty_start_date?moment(serial.warranty_start_date):null,warranty_end_date:serial.warranty_end_date?moment(serial.warranty_end_date):null,notes:serial.notes});};const handleAdjustStock=async values=>{try{await inventoryAPI.createAdjustment({product_id:selectedProduct.id,new_quantity:values.new_quantity,reason:values.reason,user_id:1});message.success('Điều chỉnh tồn kho thành công');setIsAdjustModalVisible(false);form.resetFields();fetchProducts();}catch(error){message.error('Lỗi khi điều chỉnh tồn kho');console.error('Error adjusting stock:',error);}};const handleAddSerials=async values=>{try{const serials=[];const{serial_numbers_text,serial_prefix,single_serial}=values,serialData=_objectWithoutProperties(values,_excluded);// Xử lý nhập nhiều serial numbers từ textarea\nif(serial_numbers_text&&serial_numbers_text.trim()){const serialLines=serial_numbers_text.trim().split('\\n');for(const line of serialLines){const serialNumber=line.trim();if(serialNumber){serials.push(_objectSpread(_objectSpread({serial_number:serialNumber},serialData),{},{warranty_end_date:values.warranty_start_date&&values.warranty_period?values.warranty_start_date.clone().add(values.warranty_period,'months').format('YYYY-MM-DD'):null,warranty_start_date:values.warranty_start_date?values.warranty_start_date.format('YYYY-MM-DD'):null}));}}}// Xử lý nhập 1 serial number cụ thể\nif(single_serial&&single_serial.trim()){serials.push(_objectSpread(_objectSpread({serial_number:single_serial.trim()},serialData),{},{warranty_end_date:values.warranty_start_date&&values.warranty_period?values.warranty_start_date.clone().add(values.warranty_period,'months').format('YYYY-MM-DD'):null,warranty_start_date:values.warranty_start_date?values.warranty_start_date.format('YYYY-MM-DD'):null}));}if(serials.length===0){message.error('Vui lòng nhập ít nhất 1 serial number');return;}const response=await productsAPI.addSerials(selectedProduct.id,{serials});if(response.data.success){message.success(\"Th\\xEAm \".concat(response.data.data.length,\" serial th\\xE0nh c\\xF4ng\"));setIsAddSerialModalVisible(false);serialForm.resetFields();fetchProducts();if(isSerialDrawerVisible){fetchProductSerials(selectedProduct.id);}}}catch(error){message.error('Lỗi khi thêm serial');console.error('Error adding serials:',error);}};const handleUpdateSerial=async values=>{try{const response=await productsAPI.updateSerial(selectedSerial.id,values);if(response.data.success){message.success('Cập nhật serial thành công');setIsEditSerialModalVisible(false);fetchProductSerials(selectedProduct.id);fetchProducts();}}catch(error){message.error('Lỗi khi cập nhật serial');console.error('Error updating serial:',error);}};const handleDeleteSerial=async serialId=>{try{const response=await productsAPI.deleteSerial(serialId);if(response.data.success){message.success('Xóa serial thành công');fetchProductSerials(selectedProduct.id);fetchProducts();}}catch(error){message.error('Lỗi khi xóa serial');console.error('Error deleting serial:',error);}};// ✨ NEW: Categories Management Functions\nconst showCategoriesModal=()=>{setIsCategoriesModalVisible(true);};const showAddCategoryModal=function(){let category=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setEditingCategory(category);setIsAddCategoryModalVisible(true);if(category){categoryForm.setFieldsValue(category);}else{categoryForm.resetFields();}};const handleCategorySubmit=async values=>{try{if(editingCategory){await categoriesAPI.update(editingCategory.id,values);message.success('Cập nhật danh mục thành công');}else{await categoriesAPI.create(values);message.success('Tạo danh mục thành công');}setIsAddCategoryModalVisible(false);setEditingCategory(null);categoryForm.resetFields();loadCategories();}catch(error){message.error(\"L\\u1ED7i khi \".concat(editingCategory?'cập nhật':'tạo',\" danh m\\u1EE5c\"));console.error('Error saving category:',error);}};const handleDeleteCategory=async categoryId=>{try{await categoriesAPI.delete(categoryId);message.success('Xóa danh mục thành công');loadCategories();}catch(error){message.error('Lỗi khi xóa danh mục');console.error('Error deleting category:',error);}};// ✨ NEW: Product Management Functions\nconst showProductModal=function(){let product=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setEditingProduct(product);setIsProductModalVisible(true);if(product){productForm.setFieldsValue(_objectSpread(_objectSpread({},product),{},{category_id:product.category_id||null,supplier_id:product.supplier_id||null}));}else{productForm.resetFields();productForm.setFieldsValue({min_stock:10,max_stock:1000,unit:'cái'});}};const handleProductSubmit=async values=>{try{if(editingProduct){await productsAPI.update(editingProduct.id,values);message.success('Cập nhật sản phẩm thành công');}else{await productsAPI.create(values);message.success('Tạo sản phẩm thành công');}setIsProductModalVisible(false);setEditingProduct(null);productForm.resetFields();fetchProducts();}catch(error){message.error(\"L\\u1ED7i khi \".concat(editingProduct?'cập nhật':'tạo',\" s\\u1EA3n ph\\u1EA9m\"));console.error('Error saving product:',error);}};const handleDeleteProduct=async productId=>{try{await productsAPI.delete(productId);message.success('Xóa sản phẩm thành công');fetchProducts();}catch(error){message.error('Lỗi khi xóa sản phẩm');console.error('Error deleting product:',error);}};const getStockStatus=(quantity,minStock)=>{if(quantity===0){return{status:'Hết hàng',color:'red'};}else if(quantity<=minStock){return{status:'Sắp hết',color:'orange'};}else{return{status:'Còn hàng',color:'green'};}};const getWarrantyStatus=warrantyEnd=>{if(!warrantyEnd)return{status:'N/A',color:'default'};const endDate=moment(warrantyEnd);const now=moment();const daysLeft=endDate.diff(now,'days');if(daysLeft<0){return{status:'Hết hạn',color:'red'};}else if(daysLeft<=30){return{status:\"\".concat(daysLeft,\" ng\\xE0y\"),color:'orange'};}else{return{status:\"\".concat(Math.floor(daysLeft/30),\" th\\xE1ng\"),color:'green'};}};const stockColumns=[{title:'Sản phẩm',key:'product_info',render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:record.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"SKU: \",record.sku||'N/A',\" | Barcode: \",record.barcode||'N/A']})]})},{title:'Danh mục',dataIndex:'category_name',key:'category_name',width:120,render:category=>category||'Chưa phân loại'},{title:'Tồn kho',key:'stock_info',width:150,render:(_,record)=>{const stockStatus=getStockStatus(record.quantity,record.min_stock||10);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'16px',fontWeight:'bold'},children:[record.quantity,\" \",record.unit||'cái']}),/*#__PURE__*/_jsx(Tag,{color:stockStatus.color,children:stockStatus.status}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666',marginTop:2},children:[\"Min: \",record.min_stock||10]})]});},sorter:(a,b)=>a.quantity-b.quantity},{title:'Serial Numbers',key:'serials',width:120,render:(_,record)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Badge,{count:record.quantity,style:{backgroundColor:'#52c41a'},children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(QrcodeOutlined,{}),onClick:()=>showSerialDrawer(record),children:\"Xem Serial\"})})})},{title:'Giá vốn/Bán',key:'pricing',width:150,render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:formatCurrency(record.price)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"V\\u1ED1n: \",formatCurrency(record.cost_price||0)]})]})},{title:'Giá trị tồn kho',key:'stock_value',width:150,render:(_,record)=>{const value=record.quantity*(record.cost_price||record.price||0);return/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'#52c41a'},children:formatCurrency(value)});},sorter:(a,b)=>{const valueA=a.quantity*(a.cost_price||a.price||0);const valueB=b.quantity*(b.cost_price||b.price||0);return valueA-valueB;}},{title:'Thao tác',key:'actions',width:200,render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Xem Serial\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>showSerialDrawer(record)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Th\\xEAm Serial\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showAddSerialModal(record)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Ch\\u1EC9nh s\\u1EEDa s\\u1EA3n ph\\u1EA9m\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",type:\"primary\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>showProductModal(record)})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u0110i\\u1EC1u ch\\u1EC9nh t\\u1ED3n kho\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(SettingOutlined,{}),onClick:()=>showAdjustModal(record)})}),/*#__PURE__*/_jsx(Popconfirm,{title:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a s\\u1EA3n ph\\u1EA9m n\\xE0y?\",onConfirm:()=>handleDeleteProduct(record.id),okText:\"C\\xF3\",cancelText:\"Kh\\xF4ng\",children:/*#__PURE__*/_jsx(Tooltip,{title:\"X\\xF3a s\\u1EA3n ph\\u1EA9m\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{})})})})]})}];const serialColumns=[{title:'Serial Number',dataIndex:'serial_number',key:'serial_number',width:200,render:serial=>/*#__PURE__*/_jsx(Text,{code:true,copyable:true,style:{fontWeight:'bold'},children:serial})},{title:'Trạng thái',dataIndex:'status',key:'status',width:120,render:status=>{const statusInfo=serialStatuses.find(s=>s.value===status);return/*#__PURE__*/_jsx(Tag,{color:statusInfo===null||statusInfo===void 0?void 0:statusInfo.color,children:(statusInfo===null||statusInfo===void 0?void 0:statusInfo.label)||status});}},{title:'Tình trạng',dataIndex:'condition_grade',key:'condition_grade',width:120,render:condition=>{const conditionInfo=conditionGrades.find(c=>c.value===condition);return/*#__PURE__*/_jsx(Tag,{color:conditionInfo===null||conditionInfo===void 0?void 0:conditionInfo.color,children:(conditionInfo===null||conditionInfo===void 0?void 0:conditionInfo.label)||condition});}},{title:'Nhà cung cấp',key:'supplier_info',width:150,render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:record.supplier_name||'N/A'}),record.supplier_code&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#666'},children:record.supplier_code})]})},{title:'Thời gian',key:'timeline',width:150,render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"Nh\\u1EADp: \",record.created_at?formatDate(record.created_at):'N/A']}),record.sold_date&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"B\\xE1n: \",formatDate(record.sold_date)]}),record.customer_name&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#1890ff'},children:[\"KH: \",record.customer_name]})]})},{title:'Vị trí',dataIndex:'location',key:'location',width:100,render:location=>location||'N/A'},{title:'Bảo hành',key:'warranty',width:180,render:(_,record)=>{const warranty=getWarrantyStatus(record.warranty_end_date);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Tag,{color:warranty.color,children:warranty.status}),record.warranty_start_date&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"T\\u1EEB: \",moment(record.warranty_start_date).format('DD/MM/YY')]}),record.warranty_end_date&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#666'},children:[\"\\u0110\\u1EBFn: \",moment(record.warranty_end_date).format('DD/MM/YY')]}),record.supplier_name&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#52c41a'},children:[\"BH: \",record.supplier_name]})]});}},{title:'Thao tác',key:'actions',width:120,render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Xem chi ti\\u1EBFt b\\u1EA3o h\\xE0nh\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>showWarrantyModal(record)})}),/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>showEditSerialModal(record)}),/*#__PURE__*/_jsx(Popconfirm,{title:\"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a serial n\\xE0y?\",onConfirm:()=>handleDeleteSerial(record.id),okText:\"X\\xF3a\",cancelText:\"H\\u1EE7y\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{})})})]})}];const transactionColumns=[{title:'Thời gian',dataIndex:'created_at',key:'created_at',width:150,render:date=>formatDate(date),sorter:(a,b)=>new Date(a.created_at)-new Date(b.created_at)},{title:'Loại giao dịch',dataIndex:'type',key:'type',width:120,render:type=>{const typeConfig={import:{label:'Nhập kho',color:'green',icon:/*#__PURE__*/_jsx(ImportOutlined,{})},export:{label:'Xuất kho',color:'red',icon:/*#__PURE__*/_jsx(ExportOutlined,{})},adjustment:{label:'Điều chỉnh',color:'blue',icon:/*#__PURE__*/_jsx(SettingOutlined,{})},return:{label:'Trả hàng',color:'orange',icon:/*#__PURE__*/_jsx(HistoryOutlined,{})}};const config=typeConfig[type]||{label:type,color:'default'};return/*#__PURE__*/_jsx(Tag,{color:config.color,icon:config.icon,children:config.label});}},{title:'Sản phẩm',dataIndex:'product_name',key:'product_name'},{title:'Số lượng trước',dataIndex:'quantity_before',key:'quantity_before',width:120,render:qty=>/*#__PURE__*/_jsx(\"span\",{children:qty})},{title:'Thay đổi',dataIndex:'quantity_change',key:'quantity_change',width:100,render:change=>/*#__PURE__*/_jsxs(\"span\",{style:{color:change>0?'#52c41a':'#ff4d4f',fontWeight:'bold'},children:[change>0?'+':'',change]})},{title:'Số lượng sau',dataIndex:'quantity_after',key:'quantity_after',width:120,render:qty=>/*#__PURE__*/_jsx(\"strong\",{children:qty})},{title:'Nhân viên',dataIndex:'user_name',key:'user_name',width:120,render:name=>name||'Hệ thống'},{title:'Ghi chú',dataIndex:'notes',key:'notes'}];const lowStockProducts=Array.isArray(products)?products.filter(p=>p.quantity<=(p.min_stock||10)):[];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Title,{level:2,children:\"Qu\\u1EA3n l\\xFD kho - Serial Number Tracking\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Theo d\\xF5i chi ti\\u1EBFt t\\u1EEBng serial number v\\xE0 qu\\u1EA3n l\\xFD t\\u1ED3n kho th\\xF4ng minh\"})]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng s\\u1EA3n ph\\u1EA9m\",value:stats.totalProducts,prefix:/*#__PURE__*/_jsx(InboxOutlined,{}),valueStyle:{color:'#1890ff'}})})}),/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1EAFp h\\u1EBFt h\\xE0ng\",value:stats.lowStockProducts,prefix:/*#__PURE__*/_jsx(WarningOutlined,{}),valueStyle:{color:'#faad14'}})})}),/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"H\\u1EBFt h\\xE0ng\",value:stats.outOfStock,prefix:/*#__PURE__*/_jsx(WarningOutlined,{}),valueStyle:{color:'#ff4d4f'}})})}),/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng Serial\",value:stats.totalSerials,prefix:/*#__PURE__*/_jsx(QrcodeOutlined,{}),valueStyle:{color:'#722ed1'}})})}),/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Serial c\\xF3 s\\u1EB5n\",value:stats.availableSerials,prefix:/*#__PURE__*/_jsx(QrcodeOutlined,{}),valueStyle:{color:'#52c41a'}})})}),/*#__PURE__*/_jsx(Col,{span:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Gi\\xE1 tr\\u1ECB t\\u1ED3n kho\",value:stats.totalValue,formatter:value=>formatCurrency(value),prefix:/*#__PURE__*/_jsx(BarChartOutlined,{}),valueStyle:{color:'#13c2c2'}})})})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onChange:setActiveTab,children:[/*#__PURE__*/_jsxs(TabPane,{tab:\"T\\u1ED3n kho & Serial\",children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Search,{placeholder:\"T\\xECm s\\u1EA3n ph\\u1EA9m theo t\\xEAn, SKU, barcode...\",value:searchText,onChange:e=>setSearchText(e.target.value),onSearch:fetchProducts,enterButton:/*#__PURE__*/_jsx(SearchOutlined,{}),allowClear:true})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Space,{style:{float:'right'},children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showProductModal(),size:\"large\",children:\"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(FolderOutlined,{}),onClick:showCategoriesModal,style:{backgroundColor:'#f5f5f5',borderColor:'#d9d9d9',color:'#595959'},children:\"Qu\\u1EA3n l\\xFD danh m\\u1EE5c\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(ImportOutlined,{}),children:\"Import Serial\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(ExportOutlined,{}),children:\"Export Data\"})]})})]}),/*#__PURE__*/_jsx(Table,{columns:stockColumns,dataSource:Array.isArray(products)?products:[],rowKey:\"id\",loading:loading,pagination:{total:products.length,pageSize:15,showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" s\\u1EA3n ph\\u1EA9m\")},scroll:{x:1400}})]},\"stock\"),/*#__PURE__*/_jsxs(TabPane,{tab:\"L\\u1ECBch s\\u1EED giao d\\u1ECBch\",children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Search,{placeholder:\"T\\xECm theo s\\u1EA3n ph\\u1EA9m...\",onSearch:value=>{setSearchText(value);fetchTransactions();},enterButton:/*#__PURE__*/_jsx(SearchOutlined,{}),allowClear:true})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsxs(Select,{style:{width:'100%'},placeholder:\"L\\u1ECDc theo lo\\u1EA1i giao d\\u1ECBch\",allowClear:true,onChange:value=>{// TODO: Filter transactions by type\n},children:[/*#__PURE__*/_jsx(Option,{value:\"import\",children:\"Nh\\u1EADp kho\"}),/*#__PURE__*/_jsx(Option,{value:\"export\",children:\"Xu\\u1EA5t kho\"}),/*#__PURE__*/_jsx(Option,{value:\"adjustment\",children:\"\\u0110i\\u1EC1u ch\\u1EC9nh\"}),/*#__PURE__*/_jsx(Option,{value:\"return\",children:\"Tr\\u1EA3 h\\xE0ng\"})]})}),/*#__PURE__*/_jsx(Col,{span:10,children:/*#__PURE__*/_jsx(RangePicker,{style:{width:'100%'},placeholder:['Từ ngày','Đến ngày'],onChange:dates=>{// TODO: Filter transactions by date range\n}})})]}),/*#__PURE__*/_jsx(Table,{columns:transactionColumns,dataSource:Array.isArray(transactions)?transactions:[],rowKey:\"id\",loading:loading,pagination:{total:transactions.length,pageSize:15,showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" giao d\\u1ECBch\")},scroll:{x:1200}})]},\"transactions\"),/*#__PURE__*/_jsx(TabPane,{tab:\"C\\u1EA3nh b\\xE1o t\\u1ED3n kho\",children:/*#__PURE__*/_jsxs(Card,{title:\"S\\u1EA3n ph\\u1EA9m s\\u1EAFp h\\u1EBFt h\\xE0ng\",style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Alert,{message:\"C\\u1EA3nh b\\xE1o t\\u1ED3n kho\",description:\"C\\xF3 \".concat(lowStockProducts.length,\" s\\u1EA3n ph\\u1EA9m s\\u1EAFp h\\u1EBFt h\\xE0ng. H\\xE3y li\\xEAn h\\u1EC7 nh\\xE0 cung c\\u1EA5p \\u0111\\u1EC3 nh\\u1EADp th\\xEAm.\"),type:\"warning\",showIcon:true,style:{marginBottom:16}}),/*#__PURE__*/_jsx(Table,{columns:stockColumns.filter(col=>['product_info','stock_info','serials','actions'].includes(col.key)),dataSource:lowStockProducts,rowKey:\"id\",pagination:false,size:\"small\"})]})},\"alerts\")]})}),/*#__PURE__*/_jsx(Drawer,{title:\"Serial Numbers - \".concat(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.name),width:800,visible:isSerialDrawerVisible,onClose:()=>setIsSerialDrawerVisible(false),extra:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showAddSerialModal(selectedProduct),children:\"Th\\xEAm Serial\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(ExportOutlined,{}),children:\"Export\"})]}),children:selectedProduct&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{size:\"small\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"S\\u1EA3n ph\\u1EA9m: \"}),selectedProduct.name]}),/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"SKU: \"}),selectedProduct.sku||'N/A']}),/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"T\\u1ED3n kho: \"}),selectedProduct.quantity,\" c\\xE1i\"]}),/*#__PURE__*/_jsxs(Col,{span:12,children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Serial c\\xF3 s\\u1EB5n: \"}),Array.isArray(productSerials)?productSerials.filter(s=>s.status==='available').length:0,\" c\\xE1i\"]})]})}),/*#__PURE__*/_jsx(Table,{columns:serialColumns,dataSource:Array.isArray(productSerials)?productSerials:[],rowKey:\"id\",loading:loading,pagination:{pageSize:10,showSizeChanger:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" serial\")},scroll:{x:1200}})]})}),/*#__PURE__*/_jsx(Modal,{title:\"Th\\xEAm Serial cho \".concat(selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.name),visible:isAddSerialModalVisible,onCancel:()=>setIsAddSerialModalVisible(false),footer:null,width:700,children:/*#__PURE__*/_jsxs(Form,{form:serialForm,layout:\"vertical\",onFinish:handleAddSerials,children:[/*#__PURE__*/_jsx(Alert,{message:\"Th\\xEAm Serial Numbers\",description:\"Nh\\u1EADp serial numbers (m\\u1ED7i d\\xF2ng m\\u1ED9t serial) ho\\u1EB7c nh\\u1EADp m\\u1ED9t serial c\\u1EE5 th\\u1EC3. S\\u1ED1 l\\u01B0\\u1EE3ng s\\u1EBD t\\u1EF1 \\u0111\\u1ED9ng t\\xEDnh theo s\\u1ED1 serial numbers \\u0111\\u01B0\\u1EE3c nh\\u1EADp.\",type:\"info\",style:{marginBottom:16}}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Tr\\u1EA1ng th\\xE1i\",name:\"status\",rules:[{required:true,message:'Vui lòng chọn trạng thái'}],children:/*#__PURE__*/_jsx(Select,{children:serialStatuses.map(status=>/*#__PURE__*/_jsx(Option,{value:status.value,children:/*#__PURE__*/_jsx(Tag,{color:status.color,children:status.label})},status.value))})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"T\\xECnh tr\\u1EA1ng\",name:\"condition_grade\",rules:[{required:true,message:'Vui lòng chọn tình trạng'}],children:/*#__PURE__*/_jsx(Select,{children:conditionGrades.map(condition=>/*#__PURE__*/_jsx(Option,{value:condition.value,children:/*#__PURE__*/_jsx(Tag,{color:condition.color,children:condition.label})},condition.value))})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Serial Number \\u0111\\u01A1n l\\u1EBB\",name:\"single_serial\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"Nh\\u1EADp 1 serial c\\u1EE5 th\\u1EC3\"})})})]}),/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Danh s\\xE1ch Serial Numbers (nhi\\u1EC1u serial)\",name:\"serial_numbers_text\",tooltip:\"Nh\\u1EADp m\\u1ED7i serial number tr\\xEAn m\\u1ED9t d\\xF2ng. H\\u1EC7 th\\u1ED1ng s\\u1EBD t\\u1EF1 \\u0111\\u1ED9ng t\\xEDnh s\\u1ED1 l\\u01B0\\u1EE3ng\",children:/*#__PURE__*/_jsx(Input.TextArea,{rows:4,placeholder:\"Nh\\u1EADp danh s\\xE1ch serial numbers, m\\u1ED7i d\\xF2ng m\\u1ED9t serial:\\nSN001234567890\\nSN001234567891\\nSN001234567892\\n...\"})})})}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Gi\\xE1 nh\\u1EADp\",name:\"purchase_price\",children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},formatter:value=>\"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g,','),parser:value=>value.replace(/\\$\\s?|(,*)/g,'')})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"V\\u1ECB tr\\xED kho\",name:\"location\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"VD: A1-01, B2-05\"})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Nh\\xE0 cung c\\u1EA5p\",name:\"supplier_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn nh\\xE0 cung c\\u1EA5p\",allowClear:true,children:Array.isArray(suppliers)?suppliers.map(supplier=>/*#__PURE__*/_jsx(Option,{value:supplier.id,children:supplier.name},supplier.id)):null})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u BH\",name:\"warranty_start_date\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},format:\"DD/MM/YYYY\"})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Th\\u1EDDi h\\u1EA1n BH (th\\xE1ng)\",name:\"warranty_period\",children:/*#__PURE__*/_jsx(InputNumber,{min:0,max:120,style:{width:'100%'}})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{shouldUpdate:(prevValues,currentValues)=>prevValues.warranty_start_date!==currentValues.warranty_start_date||prevValues.warranty_period!==currentValues.warranty_period,children:_ref=>{let{getFieldValue}=_ref;const startDate=getFieldValue('warranty_start_date');const period=getFieldValue('warranty_period');const endDate=startDate&&period?startDate.clone().add(period,'months'):null;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"Ng\\xE0y k\\u1EBFt th\\xFAc BH:\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold'},children:endDate?endDate.format('DD/MM/YYYY'):'N/A'})]});}})})]}),/*#__PURE__*/_jsx(Form.Item,{label:\"Ghi ch\\xFA\",name:\"notes\",children:/*#__PURE__*/_jsx(Input.TextArea,{rows:2,placeholder:\"Ghi ch\\xFA th\\xEAm v\\u1EC1 serial...\"})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsAddSerialModalVisible(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Th\\xEAm Serial\"})]})})]})}),/*#__PURE__*/_jsx(Modal,{title:\"\\u0110i\\u1EC1u ch\\u1EC9nh t\\u1ED3n kho\",visible:isAdjustModalVisible,onCancel:()=>setIsAdjustModalVisible(false),footer:null,width:500,children:selectedProduct&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{size:\"small\",style:{marginBottom:16,backgroundColor:'#f5f5f5'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u1EA3n ph\\u1EA9m:\"}),\" \",selectedProduct.name]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"SKU:\"}),\" \",selectedProduct.sku||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1ED3n kho hi\\u1EC7n t\\u1EA1i:\"}),\" \",selectedProduct.quantity,\" \",selectedProduct.unit||'cái']})]}),/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:handleAdjustStock,children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"S\\u1ED1 l\\u01B0\\u1EE3ng hi\\u1EC7n t\\u1EA1i\",name:\"current_quantity\",children:/*#__PURE__*/_jsx(Input,{disabled:true})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"S\\u1ED1 l\\u01B0\\u1EE3ng m\\u1EDBi\",name:\"new_quantity\",rules:[{required:true,message:'Vui lòng nhập số lượng mới'},{type:'number',min:0,message:'Số lượng phải >= 0'}],children:/*#__PURE__*/_jsx(Input,{type:\"number\",min:0,placeholder:\"Nh\\u1EADp s\\u1ED1 l\\u01B0\\u1EE3ng m\\u1EDBi\"})})})]}),/*#__PURE__*/_jsx(Form.Item,{label:\"L\\xFD do \\u0111i\\u1EC1u ch\\u1EC9nh\",name:\"reason\",rules:[{required:true,message:'Vui lòng nhập lý do'}],children:/*#__PURE__*/_jsx(Input.TextArea,{rows:3,placeholder:\"Nh\\u1EADp l\\xFD do \\u0111i\\u1EC1u ch\\u1EC9nh t\\u1ED3n kho...\"})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsAdjustModalVisible(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"X\\xE1c nh\\u1EADn \\u0111i\\u1EC1u ch\\u1EC9nh\"})]})})]})]})}),/*#__PURE__*/_jsx(Modal,{title:\"Th\\xF4ng tin b\\u1EA3o h\\xE0nh - \".concat(selectedSerial===null||selectedSerial===void 0?void 0:selectedSerial.serial_number),open:isWarrantyModalVisible,onCancel:()=>setIsWarrantyModalVisible(false),footer:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsWarrantyModalVisible(false),children:\"\\u0110\\xF3ng\"},\"close\")],width:800,children:warrantyInfo?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Card,{title:\"Th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\",size:\"small\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEAn s\\u1EA3n ph\\u1EA9m:\"}),\" \",warrantyInfo.product_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"SKU:\"}),\" \",warrantyInfo.product_sku||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gi\\xE1 b\\xE1n:\"}),\" \",formatCurrency(warrantyInfo.product_price)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Serial Number:\"}),/*#__PURE__*/_jsx(Text,{code:true,copyable:true,style:{marginLeft:8},children:warrantyInfo.serial_number})]})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Card,{title:\"Th\\xF4ng tin nh\\xE0 cung c\\u1EA5p\",size:\"small\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nh\\xE0 cung c\\u1EA5p:\"}),\" \",warrantyInfo.supplier_name||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE3 NCC:\"}),\" \",warrantyInfo.supplier_code||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Li\\xEAn h\\u1EC7:\"}),\" \",warrantyInfo.supplier_contact||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110i\\u1EC7n tho\\u1EA1i:\"}),\" \",warrantyInfo.supplier_phone||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",warrantyInfo.supplier_email||'N/A']})]})})]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginTop:16},children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(Card,{title:\"Th\\xF4ng tin mua h\\xE0ng\",size:\"small\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y nh\\u1EADp:\"}),\" \",warrantyInfo.purchase_date?formatDate(warrantyInfo.purchase_date):'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gi\\xE1 nh\\u1EADp:\"}),\" \",warrantyInfo.purchase_price?formatCurrency(warrantyInfo.purchase_price):'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"V\\u1ECB tr\\xED:\"}),\" \",warrantyInfo.location||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xECnh tr\\u1EA1ng:\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",style:{marginLeft:8},children:((_conditionGrades$find=conditionGrades.find(c=>c.value===warrantyInfo.condition_grade))===null||_conditionGrades$find===void 0?void 0:_conditionGrades$find.label)||warrantyInfo.condition_grade})]})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Card,{title:\"Th\\xF4ng tin b\\xE1n h\\xE0ng\",size:\"small\",children:warrantyInfo.sold_date?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y b\\xE1n:\"}),\" \",formatDate(warrantyInfo.sold_date)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gi\\xE1 b\\xE1n:\"}),\" \",formatCurrency(warrantyInfo.sold_price)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kh\\xE1ch h\\xE0ng:\"}),\" \",warrantyInfo.customer_name||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u0110T KH:\"}),\" \",warrantyInfo.customer_phone||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u1ED1 \\u0111\\u01A1n h\\xE0ng:\"}),\" \",warrantyInfo.order_number||'N/A']})]}):/*#__PURE__*/_jsx(Alert,{message:\"S\\u1EA3n ph\\u1EA9m ch\\u01B0a \\u0111\\u01B0\\u1EE3c b\\xE1n\",type:\"info\"})})})]}),/*#__PURE__*/_jsx(Row,{gutter:[16,16],style:{marginTop:16},children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Card,{title:\"Th\\xF4ng tin b\\u1EA3o h\\xE0nh\",size:\"small\",children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Statistic,{title:\"Tr\\u1EA1ng th\\xE1i b\\u1EA3o h\\xE0nh\",value:warrantyInfo.warranty_status,valueStyle:{color:warrantyInfo.warranty_status==='Còn hiệu lực'?'#52c41a':warrantyInfo.warranty_status==='Sắp hết hạn'?'#faad14':'#ff4d4f'}})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Statistic,{title:\"S\\u1ED1 ng\\xE0y c\\xF2n l\\u1EA1i\",value:warrantyInfo.warranty_days_left,suffix:\"ng\\xE0y\",valueStyle:{color:warrantyInfo.warranty_days_left>30?'#52c41a':'#faad14'}})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Statistic,{title:\"Th\\u1EDDi h\\u1EA1n b\\u1EA3o h\\xE0nh\",value:warrantyInfo.warranty_months_total,suffix:\"th\\xE1ng\",valueStyle:{color:'#1890ff'}})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Nh\\xE0 cung c\\u1EA5p b\\u1EA3o h\\xE0nh:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:/*#__PURE__*/_jsx(Tag,{color:\"green\",children:warrantyInfo.warranty_provider})})]})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u BH:\"}),\" \",warrantyInfo.warranty_start_date?formatDate(warrantyInfo.warranty_start_date):'N/A']})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y k\\u1EBFt th\\xFAc BH:\"}),\" \",warrantyInfo.warranty_end_date?formatDate(warrantyInfo.warranty_end_date):'N/A']})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tr\\u1EA1ng th\\xE1i:\"}),/*#__PURE__*/_jsx(Tag,{color:warrantyInfo.status==='available'?'green':'red',style:{marginLeft:8},children:((_serialStatuses$find=serialStatuses.find(s=>s.value===warrantyInfo.status))===null||_serialStatuses$find===void 0?void 0:_serialStatuses$find.label)||warrantyInfo.status})]})})]}),warrantyInfo.notes&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"Ghi ch\\xFA:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4,padding:8,backgroundColor:'#f5f5f5',borderRadius:4},children:warrantyInfo.notes})]})]})})})]}):/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px'},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u0110ang t\\u1EA3i th\\xF4ng tin b\\u1EA3o h\\xE0nh...\"})})}),/*#__PURE__*/_jsx(Modal,{title:\"Ch\\u1EC9nh s\\u1EEDa Serial - \".concat(selectedSerial===null||selectedSerial===void 0?void 0:selectedSerial.serial_number),open:isEditSerialModalVisible,onCancel:()=>setIsEditSerialModalVisible(false),footer:null,width:600,children:/*#__PURE__*/_jsxs(Form,{form:serialForm,layout:\"vertical\",onFinish:handleUpdateSerial,children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Tr\\u1EA1ng th\\xE1i\",name:\"status\",rules:[{required:true,message:'Vui lòng chọn trạng thái'}],children:/*#__PURE__*/_jsx(Select,{children:serialStatuses.map(status=>/*#__PURE__*/_jsx(Option,{value:status.value,children:/*#__PURE__*/_jsx(Tag,{color:status.color,children:status.label})},status.value))})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"T\\xECnh tr\\u1EA1ng\",name:\"condition_grade\",rules:[{required:true,message:'Vui lòng chọn tình trạng'}],children:/*#__PURE__*/_jsx(Select,{children:conditionGrades.map(condition=>/*#__PURE__*/_jsx(Option,{value:condition.value,children:/*#__PURE__*/_jsx(Tag,{color:condition.color,children:condition.label})},condition.value))})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"V\\u1ECB tr\\xED kho\",name:\"location\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"VD: A1-01, B2-05\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Gi\\xE1 nh\\u1EADp\",name:\"purchase_price\",children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},formatter:value=>\"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g,','),parser:value=>value.replace(/\\$\\s?|(,*)/g,'')})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Nh\\xE0 cung c\\u1EA5p\",name:\"supplier_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn nh\\xE0 cung c\\u1EA5p\",allowClear:true,children:Array.isArray(suppliers)?suppliers.map(supplier=>/*#__PURE__*/_jsx(Option,{value:supplier.id,children:supplier.name},supplier.id)):null})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u BH\",name:\"warranty_start_date\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},format:\"DD/MM/YYYY\"})})})]}),/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Ng\\xE0y k\\u1EBFt th\\xFAc BH\",name:\"warranty_end_date\",children:/*#__PURE__*/_jsx(DatePicker,{style:{width:'100%'},format:\"DD/MM/YYYY\"})})})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Ghi ch\\xFA\",name:\"notes\",children:/*#__PURE__*/_jsx(Input.TextArea,{rows:3,placeholder:\"Ghi ch\\xFA th\\xEAm v\\u1EC1 serial...\"})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsEditSerialModalVisible(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"C\\u1EADp nh\\u1EADt\"})]})})]})}),/*#__PURE__*/_jsxs(Modal,{title:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(FolderOutlined,{style:{color:'#1890ff'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Qu\\u1EA3n l\\xFD danh m\\u1EE5c s\\u1EA3n ph\\u1EA9m\"})]}),visible:isCategoriesModalVisible,onCancel:()=>setIsCategoriesModalVisible(false),footer:[/*#__PURE__*/_jsx(Button,{onClick:()=>setIsCategoriesModalVisible(false),children:\"\\u0110\\xF3ng\"},\"close\")],width:800,children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:16},children:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:()=>showAddCategoryModal(),children:\"Th\\xEAm danh m\\u1EE5c m\\u1EDBi\"})}),/*#__PURE__*/_jsx(Table,{columns:[{title:'Tên danh mục',dataIndex:'name',key:'name',render:text=>/*#__PURE__*/_jsx(\"strong\",{children:text})},{title:'Mô tả',dataIndex:'description',key:'description',render:text=>text||'Chưa có mô tả'},{title:'Ngày tạo',dataIndex:'created_at',key:'created_at',width:150,render:date=>date?formatDate(date):'N/A'},{title:'Thao tác',key:'actions',width:120,render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>showAddCategoryModal(record)}),/*#__PURE__*/_jsx(Popconfirm,{title:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a danh m\\u1EE5c n\\xE0y?\",onConfirm:()=>handleDeleteCategory(record.id),okText:\"C\\xF3\",cancelText:\"Kh\\xF4ng\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{})})})]})}],dataSource:Array.isArray(categories)?categories:[],rowKey:\"id\",pagination:false,size:\"small\"})]}),/*#__PURE__*/_jsx(Modal,{title:editingCategory?'Chỉnh sửa danh mục':'Thêm danh mục mới',visible:isAddCategoryModalVisible,onCancel:()=>{setIsAddCategoryModalVisible(false);setEditingCategory(null);categoryForm.resetFields();},footer:null,width:500,children:/*#__PURE__*/_jsxs(Form,{form:categoryForm,layout:\"vertical\",onFinish:handleCategorySubmit,children:[/*#__PURE__*/_jsx(Form.Item,{label:\"T\\xEAn danh m\\u1EE5c\",name:\"name\",rules:[{required:true,message:'Vui lòng nhập tên danh mục'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"VD: \\u0110i\\u1EC7n tho\\u1EA1i, Laptop, Ph\\u1EE5 ki\\u1EC7n...\"})}),/*#__PURE__*/_jsx(Form.Item,{label:\"M\\xF4 t\\u1EA3\",name:\"description\",children:/*#__PURE__*/_jsx(Input.TextArea,{rows:3,placeholder:\"M\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EC1 danh m\\u1EE5c s\\u1EA3n ph\\u1EA9m...\"})}),/*#__PURE__*/_jsx(Form.Item,{style:{textAlign:'right',marginBottom:0},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>{setIsAddCategoryModalVisible(false);setEditingCategory(null);categoryForm.resetFields();},children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:editingCategory?'Cập nhật':'Thêm mới'})]})})]})}),/*#__PURE__*/_jsx(Modal,{title:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(AppstoreOutlined,{style:{color:'#1890ff'}}),/*#__PURE__*/_jsx(\"span\",{children:editingProduct?'Sửa sản phẩm':'Thêm sản phẩm'})]}),visible:isProductModalVisible,onCancel:()=>{setIsProductModalVisible(false);setEditingProduct(null);productForm.resetFields();},footer:null,width:800,children:/*#__PURE__*/_jsxs(Form,{form:productForm,layout:\"vertical\",onFinish:handleProductSubmit,children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"T\\xEAn s\\u1EA3n ph\\u1EA9m\",name:\"name\",rules:[{required:true,message:'Vui lòng nhập tên sản phẩm'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"VD: iPhone 15 Pro Max\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"M\\xE3 s\\u1EA3n ph\\u1EA9m (SKU)\",name:\"sku\",rules:[{required:true,message:'Vui lòng nhập mã sản phẩm'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"VD: IP15PM-256GB\"})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Gi\\xE1 b\\xE1n\",name:\"price\",rules:[{required:true,message:'Vui lòng nhập giá bán'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},placeholder:\"120000\",formatter:value=>\"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g,','),parser:value=>value.replace(/\\$\\s?|(,*)/g,''),addonAfter:\"VN\\u0110\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"S\\u1ED1 l\\u01B0\\u1EE3ng\",name:\"quantity\",rules:[{required:true,message:'Vui lòng nhập số lượng'}],initialValue:0,children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},placeholder:\"4\",min:0,addonAfter:\"c\\xE1i\"})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Danh m\\u1EE5c\",name:\"category_id\",rules:[{required:true,message:'Vui lòng chọn danh mục'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn danh m\\u1EE5c\",allowClear:true,children:Array.isArray(categories)?categories.map(category=>/*#__PURE__*/_jsx(Option,{value:category.id,children:/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:category.name})},category.id)):null})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Barcode\",name:\"barcode\",rules:[{required:true,message:'Vui lòng nhập barcode'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"VD: 8934588123456\"})})})]}),/*#__PURE__*/_jsx(Divider,{orientation:\"left\",children:\"Th\\xF4ng tin b\\u1ED5 sung\"}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Gi\\xE1 v\\u1ED1n\",name:\"cost_price\",rules:[{required:true,message:'Vui lòng nhập giá vốn'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'},placeholder:\"Gi\\xE1 nh\\u1EADp\",formatter:value=>\"\".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g,','),parser:value=>value.replace(/\\$\\s?|(,*)/g,''),addonAfter:\"VN\\u0110\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Nh\\xE0 cung c\\u1EA5p\",name:\"supplier_id\",children:/*#__PURE__*/_jsx(Select,{placeholder:\"Ch\\u1ECDn nh\\xE0 cung c\\u1EA5p\",allowClear:true,children:Array.isArray(suppliers)?suppliers.map(supplier=>/*#__PURE__*/_jsx(Option,{value:supplier.id,children:supplier.name},supplier.id)):null})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"\\u0110\\u01A1n v\\u1ECB\",name:\"unit\",rules:[{required:true,message:'Vui lòng chọn đơn vị'}],initialValue:\"c\\xE1i\",children:/*#__PURE__*/_jsxs(Select,{children:[/*#__PURE__*/_jsx(Option,{value:\"c\\xE1i\",children:\"C\\xE1i\"}),/*#__PURE__*/_jsx(Option,{value:\"chi\\u1EBFc\",children:\"Chi\\u1EBFc\"}),/*#__PURE__*/_jsx(Option,{value:\"b\\u1ED9\",children:\"B\\u1ED9\"}),/*#__PURE__*/_jsx(Option,{value:\"h\\u1ED9p\",children:\"H\\u1ED9p\"}),/*#__PURE__*/_jsx(Option,{value:\"th\\xF9ng\",children:\"Th\\xF9ng\"}),/*#__PURE__*/_jsx(Option,{value:\"kg\",children:\"Kg\"}),/*#__PURE__*/_jsx(Option,{value:\"m\",children:\"M\\xE9t\"})]})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"T\\u1ED3n kho t\\u1ED1i thi\\u1EC3u\",name:\"min_stock\",rules:[{required:true,message:'Vui lòng nhập tồn kho tối thiểu'}],initialValue:10,children:/*#__PURE__*/_jsx(InputNumber,{min:0,style:{width:'100%'}})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Form.Item,{label:\"T\\u1ED3n kho t\\u1ED1i \\u0111a\",name:\"max_stock\",rules:[{required:true,message:'Vui lòng nhập tồn kho tối đa'}],initialValue:1000,children:/*#__PURE__*/_jsx(InputNumber,{min:0,style:{width:'100%'}})})})]}),/*#__PURE__*/_jsx(Form.Item,{label:\"M\\xF4 t\\u1EA3 s\\u1EA3n ph\\u1EA9m\",name:\"description\",children:/*#__PURE__*/_jsx(Input.TextArea,{rows:3,placeholder:\"M\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EC1 s\\u1EA3n ph\\u1EA9m, th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt...\"})}),/*#__PURE__*/_jsx(Form.Item,{style:{textAlign:'right',marginBottom:0},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>{setIsProductModalVisible(false);setEditingProduct(null);productForm.resetFields();},children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",size:\"large\",children:editingProduct?'Cập nhật':'Thêm mới'})]})})]})})]});};export default EnhancedInventoryPage;","map":{"version":3,"names":["React","useState","useEffect","Card","Table","Button","Input","Space","Modal","Form","Select","message","Row","Col","Statistic","Tag","Tooltip","DatePicker","Tabs","List","Badge","Popconfirm","Drawer","Typography","Alert","Divider","InputNumber","InboxOutlined","WarningOutlined","SettingOutlined","HistoryOutlined","ImportOutlined","ExportOutlined","SearchOutlined","BarChartOutlined","QrcodeOutlined","PlusOutlined","EditOutlined","DeleteOutlined","EyeOutlined","ShoppingCartOutlined","TagsOutlined","FolderOutlined","AppstoreOutlined","inventoryAPI","productsAPI","suppliersAPI","categoriesAPI","formatCurrency","formatDate","moment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Search","Option","TabPane","RangePicker","Text","Title","EnhancedInventoryPage","_conditionGrades$find","_serialStatuses$find","products","setProducts","transactions","setTransactions","suppliers","setSuppliers","loading","setLoading","isAdjustModalVisible","setIsAdjustModalVisible","isSerialDrawerVisible","setIsSerialDrawerVisible","isAddSerialModalVisible","setIsAddSerialModalVisible","isWarrantyModalVisible","setIsWarrantyModalVisible","isEditSerialModalVisible","setIsEditSerialModalVisible","selectedProduct","setSelectedProduct","selectedSerial","setSelectedSerial","warrantyInfo","setWarrantyInfo","productSerials","setProductSerials","searchText","setSearchText","activeTab","setActiveTab","stats","setStats","totalProducts","lowStockProducts","totalValue","outOfStock","totalSerials","availableSerials","isProductModalVisible","setIsProductModalVisible","editingProduct","setEditingProduct","categories","setCategories","isCategoriesModalVisible","setIsCategoriesModalVisible","isAddCategoryModalVisible","setIsAddCategoryModalVisible","editingCategory","setEditingCategory","form","useForm","serialForm","productForm","categoryForm","serialStatuses","value","label","color","conditionGrades","loadSuppliers","loadCategories","fetchProducts","fetchTransactions","response","getAll","data","success","Array","isArray","error","console","search","safeData","calculateStats","getTransactions","limit","fetchProductSerials","productId","getSerials","productData","safeProducts","length","filter","p","quantity","min_stock","reduce","sum","cost_price","price","showAdjustModal","product","setFieldsValue","current_quantity","new_quantity","reason","showSerialDrawer","id","showAddSerialModal","resetFields","condition_grade","status","warranty_start_date","warranty_period","single_serial","serial_numbers_text","showWarrantyModal","serial","getWarrantyInfo","serial_number","showEditSerialModal","location","purchase_price","supplier_id","warranty_end_date","notes","handleAdjustStock","values","createAdjustment","product_id","user_id","handleAddSerials","serials","serial_prefix","serialData","_objectWithoutProperties","_excluded","trim","serialLines","split","line","serialNumber","push","_objectSpread","clone","add","format","addSerials","concat","handleUpdateSerial","updateSerial","handleDeleteSerial","serialId","deleteSerial","showCategoriesModal","showAddCategoryModal","category","arguments","undefined","handleCategorySubmit","update","create","handleDeleteCategory","categoryId","delete","showProductModal","category_id","max_stock","unit","handleProductSubmit","handleDeleteProduct","getStockStatus","minStock","getWarrantyStatus","warrantyEnd","endDate","now","daysLeft","diff","Math","floor","stockColumns","title","key","render","_","record","children","style","fontWeight","name","fontSize","sku","barcode","dataIndex","width","stockStatus","marginTop","sorter","a","b","count","backgroundColor","size","icon","onClick","valueA","valueB","type","onConfirm","okText","cancelText","danger","serialColumns","code","copyable","statusInfo","find","s","condition","conditionInfo","c","supplier_name","supplier_code","created_at","sold_date","customer_name","warranty","transactionColumns","date","Date","typeConfig","import","export","adjustment","return","config","qty","change","padding","marginBottom","level","gutter","span","prefix","valueStyle","formatter","activeKey","onChange","tab","placeholder","e","target","onSearch","enterButton","allowClear","float","borderColor","columns","dataSource","rowKey","pagination","total","pageSize","showSizeChanger","showQuickJumper","showTotal","range","scroll","x","dates","description","showIcon","col","includes","visible","onClose","extra","strong","onCancel","footer","layout","onFinish","Item","rules","required","map","tooltip","TextArea","rows","replace","parser","supplier","min","max","shouldUpdate","prevValues","currentValues","_ref","getFieldValue","startDate","period","textAlign","htmlType","disabled","open","product_name","product_sku","product_price","marginLeft","supplier_contact","supplier_phone","supplier_email","purchase_date","sold_price","customer_phone","order_number","warranty_status","warranty_days_left","suffix","warranty_months_total","warranty_provider","borderRadius","display","alignItems","gap","text","addonAfter","initialValue","orientation"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/pages/EnhancedInventoryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  Table,\r\n  Button,\r\n  Input,\r\n  Space,\r\n  Modal,\r\n  Form,\r\n  Select,\r\n  message,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Tag,\r\n  Tooltip,\r\n  DatePicker,\r\n  Tabs,\r\n  List,\r\n  Badge,\r\n  Popconfirm,\r\n  Drawer,\r\n  Typography,\r\n  Alert,\r\n  Divider,\r\n  InputNumber,\r\n} from 'antd';\r\nimport {\r\n  InboxOutlined,\r\n  WarningOutlined,\r\n  SettingOutlined,\r\n  HistoryOutlined,\r\n  ImportOutlined,\r\n  ExportOutlined,\r\n  SearchOutlined,\r\n  BarChartOutlined,\r\n  QrcodeOutlined,\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  EyeOutlined,\r\n  ShoppingCartOutlined,\r\n  TagsOutlined,\r\n  FolderOutlined,\r\n  AppstoreOutlined,\r\n} from '@ant-design/icons';\r\nimport { inventoryAPI, productsAPI, suppliersAPI, categoriesAPI, formatCurrency, formatDate } from '../services/api';\r\nimport moment from 'moment';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\nconst { TabPane } = Tabs;\r\nconst { RangePicker } = DatePicker;\r\nconst { Text, Title } = Typography;\r\n\r\nconst EnhancedInventoryPage = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [suppliers, setSuppliers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isAdjustModalVisible, setIsAdjustModalVisible] = useState(false);\r\n  const [isSerialDrawerVisible, setIsSerialDrawerVisible] = useState(false);\r\n  const [isAddSerialModalVisible, setIsAddSerialModalVisible] = useState(false);\r\n  const [isWarrantyModalVisible, setIsWarrantyModalVisible] = useState(false);\r\n  const [isEditSerialModalVisible, setIsEditSerialModalVisible] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [selectedSerial, setSelectedSerial] = useState(null);\r\n  const [warrantyInfo, setWarrantyInfo] = useState(null);\r\n  const [productSerials, setProductSerials] = useState([]);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [activeTab, setActiveTab] = useState('stock');\r\n  const [stats, setStats] = useState({\r\n    totalProducts: 0,\r\n    lowStockProducts: 0,\r\n    totalValue: 0,\r\n    outOfStock: 0,\r\n    totalSerials: 0,\r\n    availableSerials: 0,\r\n  });\r\n  \r\n  // ✨ NEW: Product Management States\r\n  const [isProductModalVisible, setIsProductModalVisible] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState(null);\r\n  \r\n  // ✨ NEW: Categories Management States\r\n  const [categories, setCategories] = useState([]);\r\n  const [isCategoriesModalVisible, setIsCategoriesModalVisible] = useState(false);\r\n  const [isAddCategoryModalVisible, setIsAddCategoryModalVisible] = useState(false);\r\n  const [editingCategory, setEditingCategory] = useState(null);\r\n  \r\n  const [form] = Form.useForm();\r\n  const [serialForm] = Form.useForm();\r\n  const [productForm] = Form.useForm();\r\n  const [categoryForm] = Form.useForm();\r\n\r\n  const serialStatuses = [\r\n    { value: 'available', label: 'Có sẵn', color: 'green' },\r\n    { value: 'sold', label: 'Đã bán', color: 'red' },\r\n    { value: 'reserved', label: 'Đã đặt', color: 'orange' },\r\n    { value: 'defective', label: 'Lỗi', color: 'red' },\r\n  ];\r\n\r\n  const conditionGrades = [\r\n    { value: 'new', label: 'Mới', color: 'green' },\r\n    { value: 'used_like_new', label: 'Cũ như mới', color: 'blue' },\r\n    { value: 'used_good', label: 'Cũ tốt', color: 'orange' },\r\n    { value: 'used_fair', label: 'Cũ khá', color: 'yellow' },\r\n    { value: 'refurbished', label: 'Tân trang', color: 'purple' },\r\n    { value: 'damaged', label: 'Hư hỏng', color: 'red' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    loadSuppliers();\r\n    loadCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'stock') {\r\n      fetchProducts();\r\n    } else if (activeTab === 'transactions') {\r\n      fetchTransactions();\r\n    }\r\n  }, [activeTab, searchText]);\r\n\r\n  const loadSuppliers = async () => {\r\n    try {\r\n      const response = await suppliersAPI.getAll();\r\n      if (response.data.success) {\r\n        setSuppliers(Array.isArray(response.data.data) ? response.data.data : []);\r\n      } else {\r\n        setSuppliers([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading suppliers:', error);\r\n      setSuppliers([]);\r\n    }\r\n  };\r\n\r\n  // ✨ NEW: Load Categories\r\n  const loadCategories = async () => {\r\n    try {\r\n      const response = await categoriesAPI.getAll();\r\n      if (response.data.success) {\r\n        setCategories(Array.isArray(response.data.data) ? response.data.data : []);\r\n      } else {\r\n        setCategories([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading categories:', error);\r\n      setCategories([]);\r\n    }\r\n  };\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await productsAPI.getAll({ search: searchText });\r\n      \r\n      if (response.data.success) {\r\n        const safeData = Array.isArray(response.data.data) ? response.data.data : [];\r\n        setProducts(safeData);\r\n        calculateStats(safeData);\r\n      } else {\r\n        setProducts([]);\r\n        calculateStats([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n      setProducts([]);\r\n      calculateStats([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchTransactions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await inventoryAPI.getTransactions({ limit: 100 });\r\n      \r\n      if (response.data.success) {\r\n        setTransactions(Array.isArray(response.data.data) ? response.data.data : []);\r\n      } else {\r\n        setTransactions([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching transactions:', error);\r\n      setTransactions([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchProductSerials = async (productId) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await productsAPI.getSerials(productId);\r\n      if (response.data.success) {\r\n        setProductSerials(Array.isArray(response.data.data) ? response.data.data : []);\r\n      } else {\r\n        setProductSerials([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching serials:', error);\r\n      setProductSerials([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateStats = (productData) => {\r\n    const safeProducts = Array.isArray(productData) ? productData : [];\r\n    const stats = {\r\n      totalProducts: safeProducts.length,\r\n      lowStockProducts: safeProducts.filter(p => p.quantity <= (p.min_stock || 10)).length,\r\n      totalValue: safeProducts.reduce((sum, p) => sum + (p.quantity * (p.cost_price || p.price || 0)), 0),\r\n      outOfStock: safeProducts.filter(p => p.quantity === 0).length,\r\n      totalSerials: safeProducts.reduce((sum, p) => sum + (p.quantity || 0), 0),\r\n      availableSerials: safeProducts.reduce((sum, p) => sum + (p.quantity || 0), 0),\r\n    };\r\n    setStats(stats);\r\n  };\r\n\r\n  const showAdjustModal = (product) => {\r\n    setSelectedProduct(product);\r\n    setIsAdjustModalVisible(true);\r\n    form.setFieldsValue({\r\n      current_quantity: product.quantity,\r\n      new_quantity: product.quantity,\r\n      reason: ''\r\n    });\r\n  };\r\n\r\n  const showSerialDrawer = async (product) => {\r\n    setSelectedProduct(product);\r\n    setIsSerialDrawerVisible(true);\r\n    await fetchProductSerials(product.id);\r\n  };\r\n\r\n  const showAddSerialModal = (product) => {\r\n    setSelectedProduct(product);\r\n    setIsAddSerialModalVisible(true);\r\n    serialForm.resetFields();\r\n    serialForm.setFieldsValue({\r\n      condition_grade: 'new',\r\n      status: 'available',\r\n      warranty_start_date: moment(),\r\n      warranty_period: 12,\r\n      single_serial: '',\r\n      serial_numbers_text: '',\r\n    });\r\n  };\r\n\r\n  const showWarrantyModal = async (serial) => {\r\n    setSelectedSerial(serial);\r\n    setIsWarrantyModalVisible(true);\r\n    setWarrantyInfo(null);\r\n    \r\n    try {\r\n              const response = await productsAPI.getWarrantyInfo(serial.serial_number);\r\n      if (response.data.success) {\r\n        setWarrantyInfo(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching warranty info:', error);\r\n      message.error('Lỗi khi lấy thông tin bảo hành');\r\n    }\r\n  };\r\n\r\n  const showEditSerialModal = (serial) => {\r\n    setSelectedSerial(serial);\r\n    setIsEditSerialModalVisible(true);\r\n    serialForm.setFieldsValue({\r\n      status: serial.status,\r\n      condition_grade: serial.condition_grade,\r\n      location: serial.location,\r\n      purchase_price: serial.purchase_price,\r\n      supplier_id: serial.supplier_id,\r\n      warranty_start_date: serial.warranty_start_date ? moment(serial.warranty_start_date) : null,\r\n      warranty_end_date: serial.warranty_end_date ? moment(serial.warranty_end_date) : null,\r\n      notes: serial.notes,\r\n    });\r\n  };\r\n\r\n  const handleAdjustStock = async (values) => {\r\n    try {\r\n      await inventoryAPI.createAdjustment({\r\n        product_id: selectedProduct.id,\r\n        new_quantity: values.new_quantity,\r\n        reason: values.reason,\r\n        user_id: 1\r\n      });\r\n      \r\n      message.success('Điều chỉnh tồn kho thành công');\r\n      setIsAdjustModalVisible(false);\r\n      form.resetFields();\r\n      fetchProducts();\r\n    } catch (error) {\r\n      message.error('Lỗi khi điều chỉnh tồn kho');\r\n      console.error('Error adjusting stock:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddSerials = async (values) => {\r\n    try {\r\n      const serials = [];\r\n      const { serial_numbers_text, serial_prefix, single_serial, ...serialData } = values;\r\n      \r\n      // Xử lý nhập nhiều serial numbers từ textarea\r\n      if (serial_numbers_text && serial_numbers_text.trim()) {\r\n        const serialLines = serial_numbers_text.trim().split('\\n');\r\n        for (const line of serialLines) {\r\n          const serialNumber = line.trim();\r\n          if (serialNumber) {\r\n            serials.push({\r\n              serial_number: serialNumber,\r\n              ...serialData,\r\n              warranty_end_date: values.warranty_start_date && values.warranty_period ?\r\n                values.warranty_start_date.clone().add(values.warranty_period, 'months').format('YYYY-MM-DD') :\r\n                null,\r\n              warranty_start_date: values.warranty_start_date ? \r\n                values.warranty_start_date.format('YYYY-MM-DD') : null,\r\n            });\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Xử lý nhập 1 serial number cụ thể\r\n      if (single_serial && single_serial.trim()) {\r\n        serials.push({\r\n          serial_number: single_serial.trim(),\r\n          ...serialData,\r\n          warranty_end_date: values.warranty_start_date && values.warranty_period ?\r\n            values.warranty_start_date.clone().add(values.warranty_period, 'months').format('YYYY-MM-DD') :\r\n            null,\r\n          warranty_start_date: values.warranty_start_date ? \r\n            values.warranty_start_date.format('YYYY-MM-DD') : null,\r\n        });\r\n      }\r\n\r\n      if (serials.length === 0) {\r\n        message.error('Vui lòng nhập ít nhất 1 serial number');\r\n        return;\r\n      }\r\n\r\n              const response = await productsAPI.addSerials(selectedProduct.id, { serials });\r\n      if (response.data.success) {\r\n        message.success(`Thêm ${response.data.data.length} serial thành công`);\r\n        setIsAddSerialModalVisible(false);\r\n        serialForm.resetFields();\r\n        fetchProducts();\r\n        if (isSerialDrawerVisible) {\r\n          fetchProductSerials(selectedProduct.id);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      message.error('Lỗi khi thêm serial');\r\n      console.error('Error adding serials:', error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateSerial = async (values) => {\r\n    try {\r\n              const response = await productsAPI.updateSerial(selectedSerial.id, values);\r\n      if (response.data.success) {\r\n        message.success('Cập nhật serial thành công');\r\n        setIsEditSerialModalVisible(false);\r\n        fetchProductSerials(selectedProduct.id);\r\n        fetchProducts();\r\n      }\r\n    } catch (error) {\r\n      message.error('Lỗi khi cập nhật serial');\r\n      console.error('Error updating serial:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSerial = async (serialId) => {\r\n    try {\r\n      const response = await productsAPI.deleteSerial(serialId);\r\n      if (response.data.success) {\r\n        message.success('Xóa serial thành công');\r\n        fetchProductSerials(selectedProduct.id);\r\n        fetchProducts();\r\n      }\r\n    } catch (error) {\r\n      message.error('Lỗi khi xóa serial');\r\n      console.error('Error deleting serial:', error);\r\n    }\r\n  };\r\n\r\n  // ✨ NEW: Categories Management Functions\r\n  const showCategoriesModal = () => {\r\n    setIsCategoriesModalVisible(true);\r\n  };\r\n\r\n  const showAddCategoryModal = (category = null) => {\r\n    setEditingCategory(category);\r\n    setIsAddCategoryModalVisible(true);\r\n    if (category) {\r\n      categoryForm.setFieldsValue(category);\r\n    } else {\r\n      categoryForm.resetFields();\r\n    }\r\n  };\r\n\r\n  const handleCategorySubmit = async (values) => {\r\n    try {\r\n      if (editingCategory) {\r\n        await categoriesAPI.update(editingCategory.id, values);\r\n        message.success('Cập nhật danh mục thành công');\r\n      } else {\r\n        await categoriesAPI.create(values);\r\n        message.success('Tạo danh mục thành công');\r\n      }\r\n      \r\n      setIsAddCategoryModalVisible(false);\r\n      setEditingCategory(null);\r\n      categoryForm.resetFields();\r\n      loadCategories();\r\n    } catch (error) {\r\n      message.error(`Lỗi khi ${editingCategory ? 'cập nhật' : 'tạo'} danh mục`);\r\n      console.error('Error saving category:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCategory = async (categoryId) => {\r\n    try {\r\n      await categoriesAPI.delete(categoryId);\r\n      message.success('Xóa danh mục thành công');\r\n      loadCategories();\r\n    } catch (error) {\r\n      message.error('Lỗi khi xóa danh mục');\r\n      console.error('Error deleting category:', error);\r\n    }\r\n  };\r\n\r\n  // ✨ NEW: Product Management Functions\r\n  const showProductModal = (product = null) => {\r\n    setEditingProduct(product);\r\n    setIsProductModalVisible(true);\r\n    if (product) {\r\n      productForm.setFieldsValue({\r\n        ...product,\r\n        category_id: product.category_id || null,\r\n        supplier_id: product.supplier_id || null,\r\n      });\r\n    } else {\r\n      productForm.resetFields();\r\n      productForm.setFieldsValue({\r\n        min_stock: 10,\r\n        max_stock: 1000,\r\n        unit: 'cái',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleProductSubmit = async (values) => {\r\n    try {\r\n      if (editingProduct) {\r\n        await productsAPI.update(editingProduct.id, values);\r\n        message.success('Cập nhật sản phẩm thành công');\r\n      } else {\r\n        await productsAPI.create(values);\r\n        message.success('Tạo sản phẩm thành công');\r\n      }\r\n      \r\n      setIsProductModalVisible(false);\r\n      setEditingProduct(null);\r\n      productForm.resetFields();\r\n      fetchProducts();\r\n    } catch (error) {\r\n      message.error(`Lỗi khi ${editingProduct ? 'cập nhật' : 'tạo'} sản phẩm`);\r\n      console.error('Error saving product:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteProduct = async (productId) => {\r\n    try {\r\n      await productsAPI.delete(productId);\r\n      message.success('Xóa sản phẩm thành công');\r\n      fetchProducts();\r\n    } catch (error) {\r\n      message.error('Lỗi khi xóa sản phẩm');\r\n      console.error('Error deleting product:', error);\r\n    }\r\n  };\r\n\r\n  const getStockStatus = (quantity, minStock) => {\r\n    if (quantity === 0) {\r\n      return { status: 'Hết hàng', color: 'red' };\r\n    } else if (quantity <= minStock) {\r\n      return { status: 'Sắp hết', color: 'orange' };\r\n    } else {\r\n      return { status: 'Còn hàng', color: 'green' };\r\n    }\r\n  };\r\n\r\n  const getWarrantyStatus = (warrantyEnd) => {\r\n    if (!warrantyEnd) return { status: 'N/A', color: 'default' };\r\n    \r\n    const endDate = moment(warrantyEnd);\r\n    const now = moment();\r\n    const daysLeft = endDate.diff(now, 'days');\r\n    \r\n    if (daysLeft < 0) {\r\n      return { status: 'Hết hạn', color: 'red' };\r\n    } else if (daysLeft <= 30) {\r\n      return { status: `${daysLeft} ngày`, color: 'orange' };\r\n    } else {\r\n      return { status: `${Math.floor(daysLeft / 30)} tháng`, color: 'green' };\r\n    }\r\n  };\r\n\r\n  const stockColumns = [\r\n    {\r\n      title: 'Sản phẩm',\r\n      key: 'product_info',\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontWeight: 'bold' }}>{record.name}</div>\r\n          <div style={{ fontSize: '12px', color: '#666' }}>\r\n            SKU: {record.sku || 'N/A'} | Barcode: {record.barcode || 'N/A'}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Danh mục',\r\n      dataIndex: 'category_name',\r\n      key: 'category_name',\r\n      width: 120,\r\n      render: (category) => category || 'Chưa phân loại'\r\n    },\r\n    {\r\n      title: 'Tồn kho',\r\n      key: 'stock_info',\r\n      width: 150,\r\n      render: (_, record) => {\r\n        const stockStatus = getStockStatus(record.quantity, record.min_stock || 10);\r\n        return (\r\n          <div>\r\n            <div style={{ fontSize: '16px', fontWeight: 'bold' }}>\r\n              {record.quantity} {record.unit || 'cái'}\r\n            </div>\r\n            <Tag color={stockStatus.color}>{stockStatus.status}</Tag>\r\n            <div style={{ fontSize: '11px', color: '#666', marginTop: 2 }}>\r\n              Min: {record.min_stock || 10}\r\n            </div>\r\n          </div>\r\n        );\r\n      },\r\n      sorter: (a, b) => a.quantity - b.quantity\r\n    },\r\n    {\r\n      title: 'Serial Numbers',\r\n      key: 'serials',\r\n      width: 120,\r\n      render: (_, record) => (\r\n        <div>\r\n          <Badge count={record.quantity} style={{ backgroundColor: '#52c41a' }}>\r\n            <Button\r\n              size=\"small\"\r\n              icon={<QrcodeOutlined />}\r\n              onClick={() => showSerialDrawer(record)}\r\n            >\r\n              Xem Serial\r\n            </Button>\r\n          </Badge>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Giá vốn/Bán',\r\n      key: 'pricing',\r\n      width: 150,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontWeight: 'bold' }}>{formatCurrency(record.price)}</div>\r\n          <div style={{ fontSize: '12px', color: '#666' }}>\r\n            Vốn: {formatCurrency(record.cost_price || 0)}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: 'Giá trị tồn kho',\r\n      key: 'stock_value',\r\n      width: 150,\r\n      render: (_, record) => {\r\n        const value = record.quantity * (record.cost_price || record.price || 0);\r\n        return <span style={{ fontWeight: 'bold', color: '#52c41a' }}>\r\n          {formatCurrency(value)}\r\n        </span>;\r\n      },\r\n      sorter: (a, b) => {\r\n        const valueA = a.quantity * (a.cost_price || a.price || 0);\r\n        const valueB = b.quantity * (b.cost_price || b.price || 0);\r\n        return valueA - valueB;\r\n      }\r\n    },\r\n    {\r\n      title: 'Thao tác',\r\n      key: 'actions',\r\n      width: 200,\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Tooltip title=\"Xem Serial\">\r\n            <Button\r\n              size=\"small\"\r\n              icon={<EyeOutlined />}\r\n              onClick={() => showSerialDrawer(record)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Thêm Serial\">\r\n            <Button\r\n              size=\"small\"\r\n              icon={<PlusOutlined />}\r\n              onClick={() => showAddSerialModal(record)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Chỉnh sửa sản phẩm\">\r\n            <Button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              icon={<EditOutlined />}\r\n              onClick={() => showProductModal(record)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Điều chỉnh tồn kho\">\r\n            <Button\r\n              size=\"small\"\r\n              icon={<SettingOutlined />}\r\n              onClick={() => showAdjustModal(record)}\r\n            />\r\n          </Tooltip>\r\n          <Popconfirm\r\n            title=\"Bạn có chắc chắn muốn xóa sản phẩm này?\"\r\n            onConfirm={() => handleDeleteProduct(record.id)}\r\n            okText=\"Có\"\r\n            cancelText=\"Không\"\r\n          >\r\n            <Tooltip title=\"Xóa sản phẩm\">\r\n              <Button\r\n                size=\"small\"\r\n                danger\r\n                icon={<DeleteOutlined />}\r\n              />\r\n            </Tooltip>\r\n          </Popconfirm>\r\n        </Space>\r\n      )\r\n    }\r\n  ];\r\n\r\n  const serialColumns = [\r\n    {\r\n      title: 'Serial Number',\r\n      dataIndex: 'serial_number',\r\n      key: 'serial_number',\r\n      width: 200,\r\n      render: (serial) => (\r\n        <Text code copyable style={{ fontWeight: 'bold' }}>\r\n          {serial}\r\n        </Text>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      width: 120,\r\n      render: (status) => {\r\n        const statusInfo = serialStatuses.find(s => s.value === status);\r\n        return (\r\n          <Tag color={statusInfo?.color}>\r\n            {statusInfo?.label || status}\r\n          </Tag>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Tình trạng',\r\n      dataIndex: 'condition_grade',\r\n      key: 'condition_grade',\r\n      width: 120,\r\n      render: (condition) => {\r\n        const conditionInfo = conditionGrades.find(c => c.value === condition);\r\n        return (\r\n          <Tag color={conditionInfo?.color}>\r\n            {conditionInfo?.label || condition}\r\n          </Tag>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Nhà cung cấp',\r\n      key: 'supplier_info',\r\n      width: 150,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontWeight: 'bold' }}>\r\n            {record.supplier_name || 'N/A'}\r\n          </div>\r\n          {record.supplier_code && (\r\n            <div style={{ fontSize: '11px', color: '#666' }}>\r\n              {record.supplier_code}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Thời gian',\r\n      key: 'timeline',\r\n      width: 150,\r\n      render: (_, record) => (\r\n        <div>\r\n          <div style={{ fontSize: '11px', color: '#666' }}>\r\n            Nhập: {record.created_at ? formatDate(record.created_at) : 'N/A'}\r\n          </div>\r\n          {record.sold_date && (\r\n            <div style={{ fontSize: '11px', color: '#666' }}>\r\n              Bán: {formatDate(record.sold_date)}\r\n            </div>\r\n          )}\r\n          {record.customer_name && (\r\n            <div style={{ fontSize: '11px', color: '#1890ff' }}>\r\n              KH: {record.customer_name}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Vị trí',\r\n      dataIndex: 'location',\r\n      key: 'location',\r\n      width: 100,\r\n      render: (location) => location || 'N/A',\r\n    },\r\n    {\r\n      title: 'Bảo hành',\r\n      key: 'warranty',\r\n      width: 180,\r\n      render: (_, record) => {\r\n        const warranty = getWarrantyStatus(record.warranty_end_date);\r\n        return (\r\n          <div>\r\n            <Tag color={warranty.color}>{warranty.status}</Tag>\r\n            {record.warranty_start_date && (\r\n              <div style={{ fontSize: '11px', color: '#666' }}>\r\n                Từ: {moment(record.warranty_start_date).format('DD/MM/YY')}\r\n              </div>\r\n            )}\r\n            {record.warranty_end_date && (\r\n              <div style={{ fontSize: '11px', color: '#666' }}>\r\n                Đến: {moment(record.warranty_end_date).format('DD/MM/YY')}\r\n              </div>\r\n            )}\r\n            {record.supplier_name && (\r\n              <div style={{ fontSize: '11px', color: '#52c41a' }}>\r\n                BH: {record.supplier_name}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: 'Thao tác',\r\n      key: 'actions',\r\n      width: 120,\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Tooltip title=\"Xem chi tiết bảo hành\">\r\n            <Button\r\n              size=\"small\"\r\n              icon={<EyeOutlined />}\r\n              onClick={() => showWarrantyModal(record)}\r\n            />\r\n          </Tooltip>\r\n          <Button\r\n            size=\"small\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => showEditSerialModal(record)}\r\n          />\r\n          <Popconfirm\r\n            title=\"Bạn có chắc muốn xóa serial này?\"\r\n            onConfirm={() => handleDeleteSerial(record.id)}\r\n            okText=\"Xóa\"\r\n            cancelText=\"Hủy\"\r\n          >\r\n            <Button\r\n              size=\"small\"\r\n              danger\r\n              icon={<DeleteOutlined />}\r\n            />\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const transactionColumns = [\r\n    {\r\n      title: 'Thời gian',\r\n      dataIndex: 'created_at',\r\n      key: 'created_at',\r\n      width: 150,\r\n      render: (date) => formatDate(date),\r\n      sorter: (a, b) => new Date(a.created_at) - new Date(b.created_at)\r\n    },\r\n    {\r\n      title: 'Loại giao dịch',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n      width: 120,\r\n      render: (type) => {\r\n        const typeConfig = {\r\n          import: { label: 'Nhập kho', color: 'green', icon: <ImportOutlined /> },\r\n          export: { label: 'Xuất kho', color: 'red', icon: <ExportOutlined /> },\r\n          adjustment: { label: 'Điều chỉnh', color: 'blue', icon: <SettingOutlined /> },\r\n          return: { label: 'Trả hàng', color: 'orange', icon: <HistoryOutlined /> }\r\n        };\r\n        const config = typeConfig[type] || { label: type, color: 'default' };\r\n        return (\r\n          <Tag color={config.color} icon={config.icon}>\r\n            {config.label}\r\n          </Tag>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      title: 'Sản phẩm',\r\n      dataIndex: 'product_name',\r\n      key: 'product_name'\r\n    },\r\n    {\r\n      title: 'Số lượng trước',\r\n      dataIndex: 'quantity_before',\r\n      key: 'quantity_before',\r\n      width: 120,\r\n      render: (qty) => <span>{qty}</span>\r\n    },\r\n    {\r\n      title: 'Thay đổi',\r\n      dataIndex: 'quantity_change',\r\n      key: 'quantity_change',\r\n      width: 100,\r\n      render: (change) => (\r\n        <span style={{ \r\n          color: change > 0 ? '#52c41a' : '#ff4d4f',\r\n          fontWeight: 'bold'\r\n        }}>\r\n          {change > 0 ? '+' : ''}{change}\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      title: 'Số lượng sau',\r\n      dataIndex: 'quantity_after',\r\n      key: 'quantity_after',\r\n      width: 120,\r\n      render: (qty) => <strong>{qty}</strong>\r\n    },\r\n    {\r\n      title: 'Nhân viên',\r\n      dataIndex: 'user_name',\r\n      key: 'user_name',\r\n      width: 120,\r\n      render: (name) => name || 'Hệ thống'\r\n    },\r\n    {\r\n      title: 'Ghi chú',\r\n      dataIndex: 'notes',\r\n      key: 'notes'\r\n    }\r\n  ];\r\n\r\n  const lowStockProducts = Array.isArray(products) ? products.filter(p => p.quantity <= (p.min_stock || 10)) : [];\r\n\r\n  return (\r\n    <div style={{ padding: '24px' }}>\r\n      <div style={{ marginBottom: 24 }}>\r\n        <Title level={2}>Quản lý kho - Serial Number Tracking</Title>\r\n        <Text type=\"secondary\">\r\n          Theo dõi chi tiết từng serial number và quản lý tồn kho thông minh\r\n        </Text>\r\n      </div>\r\n\r\n      {/* Header với thống kê */}\r\n      <Row gutter={[16, 16]} style={{ marginBottom: 24 }}>\r\n        <Col span={4}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng sản phẩm\"\r\n              value={stats.totalProducts}\r\n              prefix={<InboxOutlined />}\r\n              valueStyle={{ color: '#1890ff' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Sắp hết hàng\"\r\n              value={stats.lowStockProducts}\r\n              prefix={<WarningOutlined />}\r\n              valueStyle={{ color: '#faad14' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Hết hàng\"\r\n              value={stats.outOfStock}\r\n              prefix={<WarningOutlined />}\r\n              valueStyle={{ color: '#ff4d4f' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng Serial\"\r\n              value={stats.totalSerials}\r\n              prefix={<QrcodeOutlined />}\r\n              valueStyle={{ color: '#722ed1' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Serial có sẵn\"\r\n              value={stats.availableSerials}\r\n              prefix={<QrcodeOutlined />}\r\n              valueStyle={{ color: '#52c41a' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Giá trị tồn kho\"\r\n              value={stats.totalValue}\r\n              formatter={value => formatCurrency(value)}\r\n              prefix={<BarChartOutlined />}\r\n              valueStyle={{ color: '#13c2c2' }}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Main Content */}\r\n      <Card>\r\n        <Tabs activeKey={activeTab} onChange={setActiveTab}>\r\n          <TabPane tab=\"Tồn kho & Serial\" key=\"stock\">\r\n            <Row gutter={[16, 16]} style={{ marginBottom: 16 }}>\r\n              <Col span={12}>\r\n                <Search\r\n                  placeholder=\"Tìm sản phẩm theo tên, SKU, barcode...\"\r\n                  value={searchText}\r\n                  onChange={(e) => setSearchText(e.target.value)}\r\n                  onSearch={fetchProducts}\r\n                  enterButton={<SearchOutlined />}\r\n                  allowClear\r\n                />\r\n              </Col>\r\n              <Col span={12}>\r\n                <Space style={{ float: 'right' }}>\r\n                  <Button \r\n                    type=\"primary\" \r\n                    icon={<PlusOutlined />}\r\n                    onClick={() => showProductModal()}\r\n                    size=\"large\"\r\n                  >\r\n                    Thêm sản phẩm\r\n                  </Button>\r\n                  <Button \r\n                    icon={<FolderOutlined />}\r\n                    onClick={showCategoriesModal}\r\n                    style={{ \r\n                      backgroundColor: '#f5f5f5', \r\n                      borderColor: '#d9d9d9',\r\n                      color: '#595959'\r\n                    }}\r\n                  >\r\n                    Quản lý danh mục\r\n                  </Button>\r\n                  <Button icon={<ImportOutlined />}>\r\n                    Import Serial\r\n                  </Button>\r\n                  <Button icon={<ExportOutlined />}>\r\n                    Export Data\r\n                  </Button>\r\n                </Space>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Table\r\n              columns={stockColumns}\r\n              dataSource={Array.isArray(products) ? products : []}\r\n              rowKey=\"id\"\r\n              loading={loading}\r\n              pagination={{\r\n                total: products.length,\r\n                pageSize: 15,\r\n                showSizeChanger: true,\r\n                showQuickJumper: true,\r\n                showTotal: (total, range) => \r\n                  `${range[0]}-${range[1]} của ${total} sản phẩm`\r\n              }}\r\n              scroll={{ x: 1400 }}\r\n            />\r\n          </TabPane>\r\n\r\n          <TabPane tab=\"Lịch sử giao dịch\" key=\"transactions\">\r\n            <Row gutter={[16, 16]} style={{ marginBottom: 16 }}>\r\n              <Col span={8}>\r\n                <Search\r\n                  placeholder=\"Tìm theo sản phẩm...\"\r\n                  onSearch={(value) => {\r\n                    setSearchText(value);\r\n                    fetchTransactions();\r\n                  }}\r\n                  enterButton={<SearchOutlined />}\r\n                  allowClear\r\n                />\r\n              </Col>\r\n              <Col span={6}>\r\n                <Select\r\n                  style={{ width: '100%' }}\r\n                  placeholder=\"Lọc theo loại giao dịch\"\r\n                  allowClear\r\n                  onChange={(value) => {\r\n                    // TODO: Filter transactions by type\r\n                  }}\r\n                >\r\n                  <Option value=\"import\">Nhập kho</Option>\r\n                  <Option value=\"export\">Xuất kho</Option>\r\n                  <Option value=\"adjustment\">Điều chỉnh</Option>\r\n                  <Option value=\"return\">Trả hàng</Option>\r\n                </Select>\r\n              </Col>\r\n              <Col span={10}>\r\n                <RangePicker\r\n                  style={{ width: '100%' }}\r\n                  placeholder={['Từ ngày', 'Đến ngày']}\r\n                  onChange={(dates) => {\r\n                    // TODO: Filter transactions by date range\r\n                  }}\r\n                />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Table\r\n              columns={transactionColumns}\r\n              dataSource={Array.isArray(transactions) ? transactions : []}\r\n              rowKey=\"id\"\r\n              loading={loading}\r\n              pagination={{\r\n                total: transactions.length,\r\n                pageSize: 15,\r\n                showSizeChanger: true,\r\n                showQuickJumper: true,\r\n                showTotal: (total, range) => \r\n                  `${range[0]}-${range[1]} của ${total} giao dịch`\r\n              }}\r\n              scroll={{ x: 1200 }}\r\n            />\r\n          </TabPane>\r\n\r\n          <TabPane tab=\"Cảnh báo tồn kho\" key=\"alerts\">\r\n            <Card title=\"Sản phẩm sắp hết hàng\" style={{ marginBottom: 16 }}>\r\n              <Alert\r\n                message=\"Cảnh báo tồn kho\"\r\n                description={`Có ${lowStockProducts.length} sản phẩm sắp hết hàng. Hãy liên hệ nhà cung cấp để nhập thêm.`}\r\n                type=\"warning\"\r\n                showIcon\r\n                style={{ marginBottom: 16 }}\r\n              />\r\n              <Table\r\n                columns={stockColumns.filter(col => \r\n                  ['product_info', 'stock_info', 'serials', 'actions'].includes(col.key)\r\n                )}\r\n                dataSource={lowStockProducts}\r\n                rowKey=\"id\"\r\n                pagination={false}\r\n                size=\"small\"\r\n              />\r\n            </Card>\r\n          </TabPane>\r\n        </Tabs>\r\n      </Card>\r\n\r\n      {/* Serial Number Drawer */}\r\n      <Drawer\r\n        title={`Serial Numbers - ${selectedProduct?.name}`}\r\n        width={800}\r\n        visible={isSerialDrawerVisible}\r\n        onClose={() => setIsSerialDrawerVisible(false)}\r\n        extra={\r\n          <Space>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<PlusOutlined />}\r\n              onClick={() => showAddSerialModal(selectedProduct)}\r\n            >\r\n              Thêm Serial\r\n            </Button>\r\n            <Button icon={<ExportOutlined />}>\r\n              Export\r\n            </Button>\r\n          </Space>\r\n        }\r\n      >\r\n        {selectedProduct && (\r\n          <div>\r\n            <Card size=\"small\" style={{ marginBottom: 16 }}>\r\n              <Row gutter={16}>\r\n                <Col span={12}>\r\n                  <Text strong>Sản phẩm: </Text>{selectedProduct.name}\r\n                </Col>\r\n                <Col span={12}>\r\n                  <Text strong>SKU: </Text>{selectedProduct.sku || 'N/A'}\r\n                </Col>\r\n                <Col span={12}>\r\n                  <Text strong>Tồn kho: </Text>{selectedProduct.quantity} cái\r\n                </Col>\r\n                <Col span={12}>\r\n                  <Text strong>Serial có sẵn: </Text>\r\n                  {Array.isArray(productSerials) ? productSerials.filter(s => s.status === 'available').length : 0} cái\r\n                </Col>\r\n              </Row>\r\n            </Card>\r\n\r\n            <Table\r\n              columns={serialColumns}\r\n              dataSource={Array.isArray(productSerials) ? productSerials : []}\r\n              rowKey=\"id\"\r\n              loading={loading}\r\n              pagination={{\r\n                pageSize: 10,\r\n                showSizeChanger: true,\r\n                showTotal: (total, range) => \r\n                  `${range[0]}-${range[1]} của ${total} serial`\r\n              }}\r\n              scroll={{ x: 1200 }}\r\n            />\r\n          </div>\r\n        )}\r\n      </Drawer>\r\n\r\n      {/* Add Serial Modal */}\r\n      <Modal\r\n        title={`Thêm Serial cho ${selectedProduct?.name}`}\r\n        visible={isAddSerialModalVisible}\r\n        onCancel={() => setIsAddSerialModalVisible(false)}\r\n        footer={null}\r\n        width={700}\r\n      >\r\n        <Form\r\n          form={serialForm}\r\n          layout=\"vertical\"\r\n          onFinish={handleAddSerials}\r\n        >\r\n          <Alert\r\n            message=\"Thêm Serial Numbers\"\r\n            description=\"Nhập serial numbers (mỗi dòng một serial) hoặc nhập một serial cụ thể. Số lượng sẽ tự động tính theo số serial numbers được nhập.\"\r\n            type=\"info\"\r\n            style={{ marginBottom: 16 }}\r\n          />\r\n\r\n          <Row gutter={16}>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"Trạng thái\"\r\n                name=\"status\"\r\n                rules={[{ required: true, message: 'Vui lòng chọn trạng thái' }]}\r\n              >\r\n                <Select>\r\n                  {serialStatuses.map(status => (\r\n                    <Option key={status.value} value={status.value}>\r\n                      <Tag color={status.color}>{status.label}</Tag>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"Tình trạng\"\r\n                name=\"condition_grade\"\r\n                rules={[{ required: true, message: 'Vui lòng chọn tình trạng' }]}\r\n              >\r\n                <Select>\r\n                  {conditionGrades.map(condition => (\r\n                    <Option key={condition.value} value={condition.value}>\r\n                      <Tag color={condition.color}>{condition.label}</Tag>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Serial Number đơn lẻ\" name=\"single_serial\">\r\n                <Input placeholder=\"Nhập 1 serial cụ thể\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={24}>\r\n              <Form.Item \r\n                label=\"Danh sách Serial Numbers (nhiều serial)\"\r\n                name=\"serial_numbers_text\"\r\n                tooltip=\"Nhập mỗi serial number trên một dòng. Hệ thống sẽ tự động tính số lượng\"\r\n              >\r\n                <Input.TextArea\r\n                  rows={4}\r\n                  placeholder={`Nhập danh sách serial numbers, mỗi dòng một serial:\r\nSN001234567890\r\nSN001234567891\r\nSN001234567892\r\n...`}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n          \r\n          <Row gutter={16}>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Giá nhập\" name=\"purchase_price\">\r\n                <InputNumber\r\n                  style={{ width: '100%' }}\r\n                  formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                  parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Vị trí kho\" name=\"location\">\r\n                <Input placeholder=\"VD: A1-01, B2-05\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Nhà cung cấp\" name=\"supplier_id\">\r\n                <Select placeholder=\"Chọn nhà cung cấp\" allowClear>\r\n                  {Array.isArray(suppliers) ? suppliers.map(supplier => (\r\n                    <Option key={supplier.id} value={supplier.id}>\r\n                      {supplier.name}\r\n                    </Option>\r\n                  )) : null}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Ngày bắt đầu BH\" name=\"warranty_start_date\">\r\n                <DatePicker style={{ width: '100%' }} format=\"DD/MM/YYYY\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item label=\"Thời hạn BH (tháng)\" name=\"warranty_period\">\r\n                <InputNumber min={0} max={120} style={{ width: '100%' }} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item shouldUpdate={(prevValues, currentValues) => \r\n                prevValues.warranty_start_date !== currentValues.warranty_start_date ||\r\n                prevValues.warranty_period !== currentValues.warranty_period\r\n              }>\r\n                {({ getFieldValue }) => {\r\n                  const startDate = getFieldValue('warranty_start_date');\r\n                  const period = getFieldValue('warranty_period');\r\n                  const endDate = startDate && period ? \r\n                    startDate.clone().add(period, 'months') : null;\r\n                  return (\r\n                    <div>\r\n                      <Text type=\"secondary\">Ngày kết thúc BH:</Text>\r\n                      <div style={{ fontWeight: 'bold' }}>\r\n                        {endDate ? endDate.format('DD/MM/YYYY') : 'N/A'}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }}\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item label=\"Ghi chú\" name=\"notes\">\r\n            <Input.TextArea rows={2} placeholder=\"Ghi chú thêm về serial...\" />\r\n          </Form.Item>\r\n\r\n          <div style={{ textAlign: 'right' }}>\r\n            <Space>\r\n              <Button onClick={() => setIsAddSerialModalVisible(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Thêm Serial\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {/* Stock Adjustment Modal */}\r\n      <Modal\r\n        title=\"Điều chỉnh tồn kho\"\r\n        visible={isAdjustModalVisible}\r\n        onCancel={() => setIsAdjustModalVisible(false)}\r\n        footer={null}\r\n        width={500}\r\n      >\r\n        {selectedProduct && (\r\n          <div>\r\n            <Card size=\"small\" style={{ marginBottom: 16, backgroundColor: '#f5f5f5' }}>\r\n              <div><strong>Sản phẩm:</strong> {selectedProduct.name}</div>\r\n              <div><strong>SKU:</strong> {selectedProduct.sku || 'N/A'}</div>\r\n              <div><strong>Tồn kho hiện tại:</strong> {selectedProduct.quantity} {selectedProduct.unit || 'cái'}</div>\r\n            </Card>\r\n\r\n            <Form\r\n              form={form}\r\n              layout=\"vertical\"\r\n              onFinish={handleAdjustStock}\r\n            >\r\n              <Row gutter={16}>\r\n                <Col span={12}>\r\n                  <Form.Item\r\n                    label=\"Số lượng hiện tại\"\r\n                    name=\"current_quantity\"\r\n                  >\r\n                    <Input disabled />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                  <Form.Item\r\n                    label=\"Số lượng mới\"\r\n                    name=\"new_quantity\"\r\n                    rules={[\r\n                      { required: true, message: 'Vui lòng nhập số lượng mới' },\r\n                      { type: 'number', min: 0, message: 'Số lượng phải >= 0' }\r\n                    ]}\r\n                  >\r\n                    <Input type=\"number\" min={0} placeholder=\"Nhập số lượng mới\" />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Form.Item\r\n                label=\"Lý do điều chỉnh\"\r\n                name=\"reason\"\r\n                rules={[{ required: true, message: 'Vui lòng nhập lý do' }]}\r\n              >\r\n                <Input.TextArea\r\n                  rows={3}\r\n                  placeholder=\"Nhập lý do điều chỉnh tồn kho...\"\r\n                />\r\n              </Form.Item>\r\n\r\n              <div style={{ textAlign: 'right' }}>\r\n                <Space>\r\n                  <Button onClick={() => setIsAdjustModalVisible(false)}>\r\n                    Hủy\r\n                  </Button>\r\n                  <Button type=\"primary\" htmlType=\"submit\">\r\n                    Xác nhận điều chỉnh\r\n                  </Button>\r\n                </Space>\r\n              </div>\r\n            </Form>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Warranty Information Modal */}\r\n      <Modal\r\n        title={`Thông tin bảo hành - ${selectedSerial?.serial_number}`}\r\n        open={isWarrantyModalVisible}\r\n        onCancel={() => setIsWarrantyModalVisible(false)}\r\n        footer={[\r\n          <Button key=\"close\" onClick={() => setIsWarrantyModalVisible(false)}>\r\n            Đóng\r\n          </Button>\r\n        ]}\r\n        width={800}\r\n      >\r\n        {warrantyInfo ? (\r\n          <div>\r\n            <Row gutter={[16, 16]}>\r\n              <Col span={12}>\r\n                <Card title=\"Thông tin sản phẩm\" size=\"small\">\r\n                  <p><strong>Tên sản phẩm:</strong> {warrantyInfo.product_name}</p>\r\n                  <p><strong>SKU:</strong> {warrantyInfo.product_sku || 'N/A'}</p>\r\n                  <p><strong>Giá bán:</strong> {formatCurrency(warrantyInfo.product_price)}</p>\r\n                  <p><strong>Serial Number:</strong> \r\n                    <Text code copyable style={{ marginLeft: 8 }}>\r\n                      {warrantyInfo.serial_number}\r\n                    </Text>\r\n                  </p>\r\n                </Card>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Card title=\"Thông tin nhà cung cấp\" size=\"small\">\r\n                  <p><strong>Nhà cung cấp:</strong> {warrantyInfo.supplier_name || 'N/A'}</p>\r\n                  <p><strong>Mã NCC:</strong> {warrantyInfo.supplier_code || 'N/A'}</p>\r\n                  <p><strong>Liên hệ:</strong> {warrantyInfo.supplier_contact || 'N/A'}</p>\r\n                  <p><strong>Điện thoại:</strong> {warrantyInfo.supplier_phone || 'N/A'}</p>\r\n                  <p><strong>Email:</strong> {warrantyInfo.supplier_email || 'N/A'}</p>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n              <Col span={12}>\r\n                <Card title=\"Thông tin mua hàng\" size=\"small\">\r\n                  <p><strong>Ngày nhập:</strong> {warrantyInfo.purchase_date ? formatDate(warrantyInfo.purchase_date) : 'N/A'}</p>\r\n                  <p><strong>Giá nhập:</strong> {warrantyInfo.purchase_price ? formatCurrency(warrantyInfo.purchase_price) : 'N/A'}</p>\r\n                  <p><strong>Vị trí:</strong> {warrantyInfo.location || 'N/A'}</p>\r\n                  <p><strong>Tình trạng:</strong> \r\n                    <Tag color=\"blue\" style={{ marginLeft: 8 }}>\r\n                      {conditionGrades.find(c => c.value === warrantyInfo.condition_grade)?.label || warrantyInfo.condition_grade}\r\n                    </Tag>\r\n                  </p>\r\n                </Card>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Card title=\"Thông tin bán hàng\" size=\"small\">\r\n                  {warrantyInfo.sold_date ? (\r\n                    <>\r\n                      <p><strong>Ngày bán:</strong> {formatDate(warrantyInfo.sold_date)}</p>\r\n                      <p><strong>Giá bán:</strong> {formatCurrency(warrantyInfo.sold_price)}</p>\r\n                      <p><strong>Khách hàng:</strong> {warrantyInfo.customer_name || 'N/A'}</p>\r\n                      <p><strong>SĐT KH:</strong> {warrantyInfo.customer_phone || 'N/A'}</p>\r\n                      <p><strong>Số đơn hàng:</strong> {warrantyInfo.order_number || 'N/A'}</p>\r\n                    </>\r\n                  ) : (\r\n                    <Alert message=\"Sản phẩm chưa được bán\" type=\"info\" />\r\n                  )}\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n              <Col span={24}>\r\n                <Card title=\"Thông tin bảo hành\" size=\"small\">\r\n                  <Row gutter={16}>\r\n                    <Col span={6}>\r\n                      <Statistic \r\n                        title=\"Trạng thái bảo hành\" \r\n                        value={warrantyInfo.warranty_status}\r\n                        valueStyle={{ \r\n                          color: warrantyInfo.warranty_status === 'Còn hiệu lực' ? '#52c41a' : \r\n                                 warrantyInfo.warranty_status === 'Sắp hết hạn' ? '#faad14' : '#ff4d4f'\r\n                        }}\r\n                      />\r\n                    </Col>\r\n                    <Col span={6}>\r\n                      <Statistic \r\n                        title=\"Số ngày còn lại\" \r\n                        value={warrantyInfo.warranty_days_left}\r\n                        suffix=\"ngày\"\r\n                        valueStyle={{ color: warrantyInfo.warranty_days_left > 30 ? '#52c41a' : '#faad14' }}\r\n                      />\r\n                    </Col>\r\n                    <Col span={6}>\r\n                      <Statistic \r\n                        title=\"Thời hạn bảo hành\" \r\n                        value={warrantyInfo.warranty_months_total}\r\n                        suffix=\"tháng\"\r\n                        valueStyle={{ color: '#1890ff' }}\r\n                      />\r\n                    </Col>\r\n                    <Col span={6}>\r\n                      <div>\r\n                        <Text strong>Nhà cung cấp bảo hành:</Text>\r\n                        <div style={{ marginTop: 4 }}>\r\n                          <Tag color=\"green\">{warrantyInfo.warranty_provider}</Tag>\r\n                        </div>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                  <Divider />\r\n                  <Row gutter={16}>\r\n                    <Col span={8}>\r\n                      <p><strong>Ngày bắt đầu BH:</strong> {warrantyInfo.warranty_start_date ? formatDate(warrantyInfo.warranty_start_date) : 'N/A'}</p>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                      <p><strong>Ngày kết thúc BH:</strong> {warrantyInfo.warranty_end_date ? formatDate(warrantyInfo.warranty_end_date) : 'N/A'}</p>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                      <p><strong>Trạng thái:</strong> \r\n                        <Tag color={warrantyInfo.status === 'available' ? 'green' : 'red'} style={{ marginLeft: 8 }}>\r\n                          {serialStatuses.find(s => s.value === warrantyInfo.status)?.label || warrantyInfo.status}\r\n                        </Tag>\r\n                      </p>\r\n                    </Col>\r\n                  </Row>\r\n                  {warrantyInfo.notes && (\r\n                    <div style={{ marginTop: 16 }}>\r\n                      <Text strong>Ghi chú:</Text>\r\n                      <div style={{ marginTop: 4, padding: 8, backgroundColor: '#f5f5f5', borderRadius: 4 }}>\r\n                        {warrantyInfo.notes}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        ) : (\r\n          <div style={{ textAlign: 'center', padding: '40px' }}>\r\n            <Text type=\"secondary\">Đang tải thông tin bảo hành...</Text>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Edit Serial Modal */}\r\n      <Modal\r\n        title={`Chỉnh sửa Serial - ${selectedSerial?.serial_number}`}\r\n        open={isEditSerialModalVisible}\r\n        onCancel={() => setIsEditSerialModalVisible(false)}\r\n        footer={null}\r\n        width={600}\r\n      >\r\n        <Form\r\n          form={serialForm}\r\n          layout=\"vertical\"\r\n          onFinish={handleUpdateSerial}\r\n        >\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"Trạng thái\"\r\n                name=\"status\"\r\n                rules={[{ required: true, message: 'Vui lòng chọn trạng thái' }]}\r\n              >\r\n                <Select>\r\n                  {serialStatuses.map(status => (\r\n                    <Option key={status.value} value={status.value}>\r\n                      <Tag color={status.color}>{status.label}</Tag>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"Tình trạng\"\r\n                name=\"condition_grade\"\r\n                rules={[{ required: true, message: 'Vui lòng chọn tình trạng' }]}\r\n              >\r\n                <Select>\r\n                  {conditionGrades.map(condition => (\r\n                    <Option key={condition.value} value={condition.value}>\r\n                      <Tag color={condition.color}>{condition.label}</Tag>\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item label=\"Vị trí kho\" name=\"location\">\r\n                <Input placeholder=\"VD: A1-01, B2-05\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item label=\"Giá nhập\" name=\"purchase_price\">\r\n                <InputNumber\r\n                  style={{ width: '100%' }}\r\n                  formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                  parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item label=\"Nhà cung cấp\" name=\"supplier_id\">\r\n                <Select placeholder=\"Chọn nhà cung cấp\" allowClear>\r\n                  {Array.isArray(suppliers) ? suppliers.map(supplier => (\r\n                    <Option key={supplier.id} value={supplier.id}>\r\n                      {supplier.name}\r\n                    </Option>\r\n                  )) : null}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item label=\"Ngày bắt đầu BH\" name=\"warranty_start_date\">\r\n                <DatePicker style={{ width: '100%' }} format=\"DD/MM/YYYY\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item label=\"Ngày kết thúc BH\" name=\"warranty_end_date\">\r\n                <DatePicker style={{ width: '100%' }} format=\"DD/MM/YYYY\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item label=\"Ghi chú\" name=\"notes\">\r\n            <Input.TextArea rows={3} placeholder=\"Ghi chú thêm về serial...\" />\r\n          </Form.Item>\r\n\r\n          <div style={{ textAlign: 'right' }}>\r\n            <Space>\r\n              <Button onClick={() => setIsEditSerialModalVisible(false)}>\r\n                Hủy\r\n              </Button>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Cập nhật\r\n              </Button>\r\n            </Space>\r\n          </div>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {/* Categories Management Modal */}\r\n        <Modal\r\n          title={\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n              <FolderOutlined style={{ color: '#1890ff' }} />\r\n              <span>Quản lý danh mục sản phẩm</span>\r\n            </div>\r\n          }\r\n          visible={isCategoriesModalVisible}\r\n          onCancel={() => setIsCategoriesModalVisible(false)}\r\n          footer={[\r\n            <Button key=\"close\" onClick={() => setIsCategoriesModalVisible(false)}>\r\n              Đóng\r\n            </Button>\r\n          ]}\r\n          width={800}\r\n        >\r\n          <div style={{ marginBottom: 16 }}>\r\n            <Button\r\n              type=\"primary\"\r\n              icon={<PlusOutlined />}\r\n              onClick={() => showAddCategoryModal()}\r\n            >\r\n              Thêm danh mục mới\r\n            </Button>\r\n          </div>\r\n          \r\n          <Table\r\n            columns={[\r\n              {\r\n                title: 'Tên danh mục',\r\n                dataIndex: 'name',\r\n                key: 'name',\r\n                render: (text) => <strong>{text}</strong>\r\n              },\r\n              {\r\n                title: 'Mô tả',\r\n                dataIndex: 'description',\r\n                key: 'description',\r\n                render: (text) => text || 'Chưa có mô tả'\r\n              },\r\n              {\r\n                title: 'Ngày tạo',\r\n                dataIndex: 'created_at',\r\n                key: 'created_at',\r\n                width: 150,\r\n                render: (date) => date ? formatDate(date) : 'N/A'\r\n              },\r\n              {\r\n                title: 'Thao tác',\r\n                key: 'actions',\r\n                width: 120,\r\n                render: (_, record) => (\r\n                  <Space>\r\n                    <Button\r\n                      size=\"small\"\r\n                      icon={<EditOutlined />}\r\n                      onClick={() => showAddCategoryModal(record)}\r\n                    />\r\n                    <Popconfirm\r\n                      title=\"Bạn có chắc chắn muốn xóa danh mục này?\"\r\n                      onConfirm={() => handleDeleteCategory(record.id)}\r\n                      okText=\"Có\"\r\n                      cancelText=\"Không\"\r\n                    >\r\n                      <Button\r\n                        size=\"small\"\r\n                        danger\r\n                        icon={<DeleteOutlined />}\r\n                      />\r\n                    </Popconfirm>\r\n                  </Space>\r\n                )\r\n              }\r\n            ]}\r\n            dataSource={Array.isArray(categories) ? categories : []}\r\n            rowKey=\"id\"\r\n            pagination={false}\r\n            size=\"small\"\r\n          />\r\n        </Modal>\r\n\r\n        {/* Add/Edit Category Modal */}\r\n        <Modal\r\n          title={editingCategory ? 'Chỉnh sửa danh mục' : 'Thêm danh mục mới'}\r\n          visible={isAddCategoryModalVisible}\r\n          onCancel={() => {\r\n            setIsAddCategoryModalVisible(false);\r\n            setEditingCategory(null);\r\n            categoryForm.resetFields();\r\n          }}\r\n          footer={null}\r\n          width={500}\r\n        >\r\n          <Form\r\n            form={categoryForm}\r\n            layout=\"vertical\"\r\n            onFinish={handleCategorySubmit}\r\n          >\r\n            <Form.Item\r\n              label=\"Tên danh mục\"\r\n              name=\"name\"\r\n              rules={[{ required: true, message: 'Vui lòng nhập tên danh mục' }]}\r\n            >\r\n              <Input placeholder=\"VD: Điện thoại, Laptop, Phụ kiện...\" />\r\n            </Form.Item>\r\n            \r\n            <Form.Item \r\n              label=\"Mô tả\" \r\n              name=\"description\"\r\n            >\r\n              <Input.TextArea \r\n                rows={3} \r\n                placeholder=\"Mô tả chi tiết về danh mục sản phẩm...\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item style={{ textAlign: 'right', marginBottom: 0 }}>\r\n              <Space>\r\n                <Button onClick={() => {\r\n                  setIsAddCategoryModalVisible(false);\r\n                  setEditingCategory(null);\r\n                  categoryForm.resetFields();\r\n                }}>\r\n                  Hủy\r\n                </Button>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  {editingCategory ? 'Cập nhật' : 'Thêm mới'}\r\n                </Button>\r\n              </Space>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n\r\n      {/* Product Management Modal */}\r\n        <Modal\r\n          title={\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n              <AppstoreOutlined style={{ color: '#1890ff' }} />\r\n              <span>{editingProduct ? 'Sửa sản phẩm' : 'Thêm sản phẩm'}</span>\r\n            </div>\r\n          }\r\n          visible={isProductModalVisible}\r\n          onCancel={() => {\r\n            setIsProductModalVisible(false);\r\n            setEditingProduct(null);\r\n            productForm.resetFields();\r\n          }}\r\n          footer={null}\r\n          width={800}\r\n        >\r\n          <Form\r\n            form={productForm}\r\n            layout=\"vertical\"\r\n            onFinish={handleProductSubmit}\r\n          >\r\n            <Row gutter={16}>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Tên sản phẩm\"\r\n                  name=\"name\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập tên sản phẩm' }]}\r\n                >\r\n                  <Input placeholder=\"VD: iPhone 15 Pro Max\" />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Mã sản phẩm (SKU)\"\r\n                  name=\"sku\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập mã sản phẩm' }]}\r\n                >\r\n                  <Input placeholder=\"VD: IP15PM-256GB\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row gutter={16}>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Giá bán\"\r\n                  name=\"price\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập giá bán' }]}\r\n                >\r\n                  <InputNumber\r\n                    style={{ width: '100%' }}\r\n                    placeholder=\"120000\"\r\n                    formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                    parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                    addonAfter=\"VNĐ\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Số lượng\"\r\n                  name=\"quantity\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập số lượng' }]}\r\n                  initialValue={0}\r\n                >\r\n                  <InputNumber\r\n                    style={{ width: '100%' }}\r\n                    placeholder=\"4\"\r\n                    min={0}\r\n                    addonAfter=\"cái\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row gutter={16}>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Danh mục\"\r\n                  name=\"category_id\"\r\n                  rules={[{ required: true, message: 'Vui lòng chọn danh mục' }]}\r\n                >\r\n                  <Select placeholder=\"Chọn danh mục\" allowClear>\r\n                    {Array.isArray(categories) ? categories.map(category => (\r\n                      <Option key={category.id} value={category.id}>\r\n                        <Tag color=\"blue\">{category.name}</Tag>\r\n                      </Option>\r\n                    )) : null}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Barcode\"\r\n                  name=\"barcode\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập barcode' }]}\r\n                >\r\n                  <Input placeholder=\"VD: 8934588123456\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Divider orientation=\"left\">Thông tin bổ sung</Divider>\r\n\r\n            <Row gutter={16}>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Giá vốn\"\r\n                  name=\"cost_price\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập giá vốn' }]}\r\n                >\r\n                  <InputNumber\r\n                    style={{ width: '100%' }}\r\n                    placeholder=\"Giá nhập\"\r\n                    formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                    parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\r\n                    addonAfter=\"VNĐ\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={12}>\r\n                <Form.Item\r\n                  label=\"Nhà cung cấp\"\r\n                  name=\"supplier_id\"\r\n                >\r\n                  <Select placeholder=\"Chọn nhà cung cấp\" allowClear>\r\n                    {Array.isArray(suppliers) ? suppliers.map(supplier => (\r\n                      <Option key={supplier.id} value={supplier.id}>\r\n                        {supplier.name}\r\n                      </Option>\r\n                    )) : null}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row gutter={16}>\r\n              <Col span={8}>\r\n                <Form.Item\r\n                  label=\"Đơn vị\"\r\n                  name=\"unit\"\r\n                  rules={[{ required: true, message: 'Vui lòng chọn đơn vị' }]}\r\n                  initialValue=\"cái\"\r\n                >\r\n                  <Select>\r\n                    <Option value=\"cái\">Cái</Option>\r\n                    <Option value=\"chiếc\">Chiếc</Option>\r\n                    <Option value=\"bộ\">Bộ</Option>\r\n                    <Option value=\"hộp\">Hộp</Option>\r\n                    <Option value=\"thùng\">Thùng</Option>\r\n                    <Option value=\"kg\">Kg</Option>\r\n                    <Option value=\"m\">Mét</Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item\r\n                  label=\"Tồn kho tối thiểu\"\r\n                  name=\"min_stock\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập tồn kho tối thiểu' }]}\r\n                  initialValue={10}\r\n                >\r\n                  <InputNumber min={0} style={{ width: '100%' }} />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item\r\n                  label=\"Tồn kho tối đa\"\r\n                  name=\"max_stock\"\r\n                  rules={[{ required: true, message: 'Vui lòng nhập tồn kho tối đa' }]}\r\n                  initialValue={1000}\r\n                >\r\n                  <InputNumber min={0} style={{ width: '100%' }} />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Form.Item label=\"Mô tả sản phẩm\" name=\"description\">\r\n              <Input.TextArea \r\n                rows={3} \r\n                placeholder=\"Mô tả chi tiết về sản phẩm, thông số kỹ thuật...\"\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item style={{ textAlign: 'right', marginBottom: 0 }}>\r\n              <Space>\r\n                <Button onClick={() => {\r\n                  setIsProductModalVisible(false);\r\n                  setEditingProduct(null);\r\n                  productForm.resetFields();\r\n                }}>\r\n                  Hủy\r\n                </Button>\r\n                <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n                  {editingProduct ? 'Cập nhật' : 'Thêm mới'}\r\n                </Button>\r\n              </Space>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedInventoryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}