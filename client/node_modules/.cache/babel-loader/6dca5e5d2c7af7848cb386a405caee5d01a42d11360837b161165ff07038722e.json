{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Desktop/kho/kho/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useForm}from'react-hook-form';import{zodResolver}from'@hookform/resolvers/zod';import{z}from'zod';import{toast}from'sonner';import'react-toastify/dist/ReactToastify.css';import{Card,Table,Button,Modal,Input,Select,Space,Tag,Switch,Avatar,Descriptions,Row,Col,Statistic,Alert,Popconfirm,Badge,Typography}from'antd';import{PlusOutlined,EditOutlined,DeleteOutlined,UserOutlined,LockOutlined,SettingOutlined,TeamOutlined,CrownOutlined,KeyOutlined,EyeOutlined,EyeInvisibleOutlined}from'@ant-design/icons';import{usersAPI}from'../services/api';import dayjs from'dayjs';import UserFormModal from'../components/UserFormModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Option}=Select;const{Text}=Typography;// Zod schema for user validation\nconst userSchema=z.object({username:z.string().min(3,'Tên đăng nhập phải có ít nhất 3 ký tự').max(50,'Tên đăng nhập không được quá 50 ký tự').regex(/^[a-zA-Z0-9_]+$/,'Tên đăng nhập chỉ được chứa chữ cái, số và dấu gạch dưới'),full_name:z.string().min(2,'Họ tên phải có ít nhất 2 ký tự').max(100,'Họ tên không được quá 100 ký tự'),email:z.string().email('Email không hợp lệ').optional().or(z.literal('')),phone:z.string().min(10,'Số điện thoại phải có ít nhất 10 số').max(20,'Số điện thoại không được quá 20 số').optional().or(z.literal('')),role:z.enum(['admin','manager','cashier','inventory_staff'],{errorMap:()=>({message:'Vui lòng chọn vai trò'})}),password:z.string().min(6,'Mật khẩu phải có ít nhất 6 ký tự').optional(),is_active:z.boolean().default(true)});const UsersPage=()=>{const[users,setUsers]=useState([]);const[loading,setLoading]=useState(false);const[modalVisible,setModalVisible]=useState(false);const[editingUser,setEditingUser]=useState(null);const[showPassword,setShowPassword]=useState(false);const{register,handleSubmit,reset,setValue,watch,formState:{errors,isSubmitting}}=useForm({resolver:zodResolver(userSchema),defaultValues:{is_active:true}});const roles={admin:{label:'Quản trị viên',color:'red',permissions:['all'],description:'Toàn quyền quản lý hệ thống'},manager:{label:'Quản lý',color:'orange',permissions:['products','orders','customers','reports','inventory'],description:'Quản lý sản phẩm, đơn hàng, khách hàng và báo cáo'},cashier:{label:'Thu ngân',color:'blue',permissions:['pos','orders','customers'],description:'Bán hàng và quản lý đơn hàng'},inventory_staff:{label:'Nhân viên kho',color:'green',permissions:['inventory','products'],description:'Quản lý kho và sản phẩm'}};useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{setLoading(true);try{const response=await usersAPI.getAll();if(response.data.success){setUsers(response.data.data);}}catch(error){toast.error('Lỗi khi tải danh sách nhân viên');// Mock data for demo\nconst mockUsers=[{id:1,username:'admin',full_name:'Quản trị viên',email:'admin@posystem.com',phone:'0901234567',role:'admin',is_active:true,last_login:'2024-01-15T10:30:00Z',created_at:'2024-01-01T00:00:00Z'},{id:2,username:'manager01',full_name:'Nguyễn Văn Quản Lý',email:'manager@posystem.com',phone:'0902345678',role:'manager',is_active:true,last_login:'2024-01-15T09:15:00Z',created_at:'2024-01-02T00:00:00Z'},{id:3,username:'cashier01',full_name:'Trần Thị Thu Ngân',email:'cashier@posystem.com',phone:'0903456789',role:'cashier',is_active:true,last_login:'2024-01-15T08:00:00Z',created_at:'2024-01-05T00:00:00Z'},{id:4,username:'warehouse01',full_name:'Lê Văn Kho',email:'warehouse@posystem.com',phone:'0904567890',role:'inventory_staff',is_active:false,last_login:'2024-01-10T16:45:00Z',created_at:'2024-01-08T00:00:00Z'}];setUsers(mockUsers);}finally{setLoading(false);}};const handleAddUser=()=>{setEditingUser(null);setModalVisible(true);setShowPassword(false);reset({is_active:true});};const handleEditUser=user=>{setEditingUser(user);setModalVisible(true);setShowPassword(false);reset(_objectSpread(_objectSpread({},user),{},{password:''// Don't show password when editing\n}));};const handleDeleteUser=async userId=>{try{await usersAPI.delete(userId);toast.success('Xóa nhân viên thành công');fetchUsers();}catch(error){toast.error('Lỗi khi xóa nhân viên');}};const onSubmit=async data=>{try{// Remove password if empty when editing\nif(editingUser&&!data.password){delete data.password;}if(editingUser){await usersAPI.update(editingUser.id,data);toast.success('Cập nhật nhân viên thành công');}else{await usersAPI.create(data);toast.success('Thêm nhân viên thành công');}setModalVisible(false);reset();fetchUsers();}catch(error){toast.error(editingUser?'Lỗi khi cập nhật nhân viên':'Lỗi khi thêm nhân viên');}};const handleToggleStatus=async user=>{try{await usersAPI.update(user.id,{is_active:!user.is_active});toast.success(\"\".concat(user.is_active?'Vô hiệu hóa':'Kích hoạt',\" t\\xE0i kho\\u1EA3n th\\xE0nh c\\xF4ng\"));fetchUsers();}catch(error){toast.error('Lỗi khi thay đổi trạng thái tài khoản');}};const columns=[{title:'Nhân viên',key:'user_info',render:(_,record)=>{var _roles$record$role;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{size:40,icon:/*#__PURE__*/_jsx(UserOutlined,{}),style:{backgroundColor:((_roles$record$role=roles[record.role])===null||_roles$record$role===void 0?void 0:_roles$record$role.color)||'#1890ff'}}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:500},children:record.full_name}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"@\",record.username]})]})]});}},{title:'Thông tin liên hệ',key:'contact',render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[record.email&&/*#__PURE__*/_jsx(\"div\",{children:record.email}),record.phone&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:record.phone})]})},{title:'Vai trò',dataIndex:'role',key:'role',render:role=>{var _roles$role,_roles$role2;return/*#__PURE__*/_jsx(Tag,{color:((_roles$role=roles[role])===null||_roles$role===void 0?void 0:_roles$role.color)||'default',children:((_roles$role2=roles[role])===null||_roles$role2===void 0?void 0:_roles$role2.label)||role});},filters:Object.keys(roles).map(role=>({text:roles[role].label,value:role})),onFilter:(value,record)=>record.role===value},{title:'Trạng thái',dataIndex:'is_active',key:'is_active',render:(isActive,record)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(Badge,{status:isActive?'success':'default',text:isActive?'Hoạt động':'Vô hiệu'}),/*#__PURE__*/_jsx(Switch,{checked:isActive,onChange:()=>handleToggleStatus(record),size:\"small\"})]}),filters:[{text:'Hoạt động',value:true},{text:'Vô hiệu',value:false}],onFilter:(value,record)=>record.is_active===value},{title:'Đăng nhập cuối',dataIndex:'last_login',key:'last_login',render:date=>/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:date?dayjs(date).format('DD/MM/YYYY HH:mm'):'Chưa đăng nhập'}),sorter:(a,b)=>{if(!a.last_login&&!b.last_login)return 0;if(!a.last_login)return 1;if(!b.last_login)return-1;return new Date(a.last_login)-new Date(b.last_login);}},{title:'Thao tác',key:'actions',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"link\",icon:/*#__PURE__*/_jsx(EditOutlined,{}),onClick:()=>handleEditUser(record),children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(Popconfirm,{title:\"X\\xE1c nh\\u1EADn x\\xF3a\",description:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a nh\\xE2n vi\\xEAn n\\xE0y?\",onConfirm:()=>handleDeleteUser(record.id),okText:\"X\\xF3a\",cancelText:\"H\\u1EE7y\",children:/*#__PURE__*/_jsx(Button,{type:\"link\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),children:\"X\\xF3a\"})})]})}];const renderStats=()=>{const totalUsers=users.length;const activeUsers=users.filter(u=>u.is_active).length;const inactiveUsers=totalUsers-activeUsers;const roleStats=Object.keys(roles).reduce((acc,role)=>{acc[role]=users.filter(u=>u.role===role).length;return acc;},{});return/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"T\\u1ED5ng nh\\xE2n vi\\xEAn\",value:totalUsers,prefix:/*#__PURE__*/_jsx(TeamOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\",value:activeUsers,valueStyle:{color:'#3f8600'},prefix:/*#__PURE__*/_jsx(UserOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"V\\xF4 hi\\u1EC7u h\\xF3a\",value:inactiveUsers,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(LockOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Statistic,{title:\"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\",value:roleStats.admin||0,valueStyle:{color:'#cf1322'},prefix:/*#__PURE__*/_jsx(CrownOutlined,{})})})})]});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:24},children:[renderStats(),/*#__PURE__*/_jsx(Card,{title:\"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\",extra:/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:handleAddUser,children:\"Th\\xEAm nh\\xE2n vi\\xEAn\"}),children:/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:users,loading:loading,rowKey:\"id\",pagination:{showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>\"\".concat(range[0],\"-\").concat(range[1],\" c\\u1EE7a \").concat(total,\" nh\\xE2n vi\\xEAn\")}})}),/*#__PURE__*/_jsx(UserFormModal,{isOpen:modalVisible,onClose:()=>setModalVisible(false),onSubmit:handleSubmit(onSubmit),loading:isSubmitting,editingUser:editingUser,showPassword:showPassword,setShowPassword:setShowPassword,errors:errors,register:register,roles:roles,watch:watch,setValue:setValue})]});};export default UsersPage;","map":{"version":3,"names":["React","useState","useEffect","useForm","zodResolver","z","toast","Card","Table","Button","Modal","Input","Select","Space","Tag","Switch","Avatar","Descriptions","Row","Col","Statistic","Alert","Popconfirm","Badge","Typography","PlusOutlined","EditOutlined","DeleteOutlined","UserOutlined","LockOutlined","SettingOutlined","TeamOutlined","CrownOutlined","KeyOutlined","EyeOutlined","EyeInvisibleOutlined","usersAPI","dayjs","UserFormModal","jsx","_jsx","jsxs","_jsxs","Option","Text","userSchema","object","username","string","min","max","regex","full_name","email","optional","or","literal","phone","role","enum","errorMap","message","password","is_active","boolean","default","UsersPage","users","setUsers","loading","setLoading","modalVisible","setModalVisible","editingUser","setEditingUser","showPassword","setShowPassword","register","handleSubmit","reset","setValue","watch","formState","errors","isSubmitting","resolver","defaultValues","roles","admin","label","color","permissions","description","manager","cashier","inventory_staff","fetchUsers","response","getAll","data","success","error","mockUsers","id","last_login","created_at","handleAddUser","handleEditUser","user","_objectSpread","handleDeleteUser","userId","delete","onSubmit","update","create","handleToggleStatus","concat","columns","title","key","render","_","record","_roles$record$role","style","display","alignItems","children","size","icon","backgroundColor","marginLeft","fontWeight","type","dataIndex","_roles$role","_roles$role2","filters","Object","keys","map","text","value","onFilter","isActive","gap","status","checked","onChange","date","format","sorter","a","b","Date","onClick","onConfirm","okText","cancelText","danger","renderStats","totalUsers","length","activeUsers","filter","u","inactiveUsers","roleStats","reduce","acc","gutter","marginBottom","span","prefix","valueStyle","padding","extra","dataSource","rowKey","pagination","showSizeChanger","showQuickJumper","showTotal","total","range","isOpen","onClose"],"sources":["C:/Users/ADMIN/Desktop/kho/kho/client/src/pages/UsersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport { toast } from 'sonner';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  Card,\r\n  Table,\r\n  Button,\r\n  Modal,\r\n  Input,\r\n  Select,\r\n  Space,\r\n  Tag,\r\n  Switch,\r\n  Avatar,\r\n  Descriptions,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  Alert,\r\n  Popconfirm,\r\n  Badge,\r\n  Typography,\r\n} from 'antd';\r\nimport {\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  UserOutlined,\r\n  LockOutlined,\r\n  SettingOutlined,\r\n  TeamOutlined,\r\n  CrownOutlined,\r\n  KeyOutlined,\r\n  EyeOutlined,\r\n  EyeInvisibleOutlined,\r\n} from '@ant-design/icons';\r\nimport { usersAPI } from '../services/api';\r\nimport dayjs from 'dayjs';\r\nimport UserFormModal from '../components/UserFormModal';\r\n\r\nconst { Option } = Select;\r\nconst { Text } = Typography;\r\n\r\n// Zod schema for user validation\r\nconst userSchema = z.object({\r\n  username: z.string()\r\n    .min(3, 'Tên đăng nhập phải có ít nhất 3 ký tự')\r\n    .max(50, 'Tên đăng nhập không được quá 50 ký tự')\r\n    .regex(/^[a-zA-Z0-9_]+$/, 'Tên đăng nhập chỉ được chứa chữ cái, số và dấu gạch dưới'),\r\n  full_name: z.string()\r\n    .min(2, 'Họ tên phải có ít nhất 2 ký tự')\r\n    .max(100, 'Họ tên không được quá 100 ký tự'),\r\n  email: z.string()\r\n    .email('Email không hợp lệ')\r\n    .optional()\r\n    .or(z.literal('')),\r\n  phone: z.string()\r\n    .min(10, 'Số điện thoại phải có ít nhất 10 số')\r\n    .max(20, 'Số điện thoại không được quá 20 số')\r\n    .optional()\r\n    .or(z.literal('')),\r\n  role: z.enum(['admin', 'manager', 'cashier', 'inventory_staff'], {\r\n    errorMap: () => ({ message: 'Vui lòng chọn vai trò' })\r\n  }),\r\n  password: z.string()\r\n    .min(6, 'Mật khẩu phải có ít nhất 6 ký tự')\r\n    .optional(),\r\n  is_active: z.boolean().default(true),\r\n});\r\n\r\nconst UsersPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    setValue,\r\n    watch,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm({\r\n    resolver: zodResolver(userSchema),\r\n    defaultValues: {\r\n      is_active: true,\r\n    },\r\n  });\r\n\r\n  const roles = {\r\n    admin: {\r\n      label: 'Quản trị viên',\r\n      color: 'red',\r\n      permissions: ['all'],\r\n      description: 'Toàn quyền quản lý hệ thống',\r\n    },\r\n    manager: {\r\n      label: 'Quản lý',\r\n      color: 'orange',\r\n      permissions: ['products', 'orders', 'customers', 'reports', 'inventory'],\r\n      description: 'Quản lý sản phẩm, đơn hàng, khách hàng và báo cáo',\r\n    },\r\n    cashier: {\r\n      label: 'Thu ngân',\r\n      color: 'blue',\r\n      permissions: ['pos', 'orders', 'customers'],\r\n      description: 'Bán hàng và quản lý đơn hàng',\r\n    },\r\n    inventory_staff: {\r\n      label: 'Nhân viên kho',\r\n      color: 'green',\r\n      permissions: ['inventory', 'products'],\r\n      description: 'Quản lý kho và sản phẩm',\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await usersAPI.getAll();\r\n      if (response.data.success) {\r\n        setUsers(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Lỗi khi tải danh sách nhân viên');\r\n      // Mock data for demo\r\n      const mockUsers = [\r\n        {\r\n          id: 1,\r\n          username: 'admin',\r\n          full_name: 'Quản trị viên',\r\n          email: 'admin@posystem.com',\r\n          phone: '0901234567',\r\n          role: 'admin',\r\n          is_active: true,\r\n          last_login: '2024-01-15T10:30:00Z',\r\n          created_at: '2024-01-01T00:00:00Z',\r\n        },\r\n        {\r\n          id: 2,\r\n          username: 'manager01',\r\n          full_name: 'Nguyễn Văn Quản Lý',\r\n          email: 'manager@posystem.com',\r\n          phone: '0902345678',\r\n          role: 'manager',\r\n          is_active: true,\r\n          last_login: '2024-01-15T09:15:00Z',\r\n          created_at: '2024-01-02T00:00:00Z',\r\n        },\r\n        {\r\n          id: 3,\r\n          username: 'cashier01',\r\n          full_name: 'Trần Thị Thu Ngân',\r\n          email: 'cashier@posystem.com',\r\n          phone: '0903456789',\r\n          role: 'cashier',\r\n          is_active: true,\r\n          last_login: '2024-01-15T08:00:00Z',\r\n          created_at: '2024-01-05T00:00:00Z',\r\n        },\r\n        {\r\n          id: 4,\r\n          username: 'warehouse01',\r\n          full_name: 'Lê Văn Kho',\r\n          email: 'warehouse@posystem.com',\r\n          phone: '0904567890',\r\n          role: 'inventory_staff',\r\n          is_active: false,\r\n          last_login: '2024-01-10T16:45:00Z',\r\n          created_at: '2024-01-08T00:00:00Z',\r\n        },\r\n      ];\r\n      setUsers(mockUsers);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddUser = () => {\r\n    setEditingUser(null);\r\n    setModalVisible(true);\r\n    setShowPassword(false);\r\n    reset({\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setEditingUser(user);\r\n    setModalVisible(true);\r\n    setShowPassword(false);\r\n    reset({\r\n      ...user,\r\n      password: '', // Don't show password when editing\r\n    });\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    try {\r\n      await usersAPI.delete(userId);\r\n      toast.success('Xóa nhân viên thành công');\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error('Lỗi khi xóa nhân viên');\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      // Remove password if empty when editing\r\n      if (editingUser && !data.password) {\r\n        delete data.password;\r\n      }\r\n\r\n      if (editingUser) {\r\n        await usersAPI.update(editingUser.id, data);\r\n        toast.success('Cập nhật nhân viên thành công');\r\n      } else {\r\n        await usersAPI.create(data);\r\n        toast.success('Thêm nhân viên thành công');\r\n      }\r\n      setModalVisible(false);\r\n      reset();\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error(editingUser ? 'Lỗi khi cập nhật nhân viên' : 'Lỗi khi thêm nhân viên');\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async (user) => {\r\n    try {\r\n      await usersAPI.update(user.id, { is_active: !user.is_active });\r\n      toast.success(`${user.is_active ? 'Vô hiệu hóa' : 'Kích hoạt'} tài khoản thành công`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error('Lỗi khi thay đổi trạng thái tài khoản');\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Nhân viên',\r\n      key: 'user_info',\r\n      render: (_, record) => (\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <Avatar\r\n            size={40}\r\n            icon={<UserOutlined />}\r\n            style={{ backgroundColor: roles[record.role]?.color || '#1890ff' }}\r\n          />\r\n          <div style={{ marginLeft: 12 }}>\r\n            <div style={{ fontWeight: 500 }}>{record.full_name}</div>\r\n            <Text type=\"secondary\">@{record.username}</Text>\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Thông tin liên hệ',\r\n      key: 'contact',\r\n      render: (_, record) => (\r\n        <div>\r\n          {record.email && <div>{record.email}</div>}\r\n          {record.phone && <Text type=\"secondary\">{record.phone}</Text>}\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: 'Vai trò',\r\n      dataIndex: 'role',\r\n      key: 'role',\r\n      render: (role) => (\r\n        <Tag color={roles[role]?.color || 'default'}>\r\n          {roles[role]?.label || role}\r\n        </Tag>\r\n      ),\r\n      filters: Object.keys(roles).map(role => ({\r\n        text: roles[role].label,\r\n        value: role,\r\n      })),\r\n      onFilter: (value, record) => record.role === value,\r\n    },\r\n    {\r\n      title: 'Trạng thái',\r\n      dataIndex: 'is_active',\r\n      key: 'is_active',\r\n      render: (isActive, record) => (\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n          <Badge\r\n            status={isActive ? 'success' : 'default'}\r\n            text={isActive ? 'Hoạt động' : 'Vô hiệu'}\r\n          />\r\n          <Switch\r\n            checked={isActive}\r\n            onChange={() => handleToggleStatus(record)}\r\n            size=\"small\"\r\n          />\r\n        </div>\r\n      ),\r\n      filters: [\r\n        { text: 'Hoạt động', value: true },\r\n        { text: 'Vô hiệu', value: false },\r\n      ],\r\n      onFilter: (value, record) => record.is_active === value,\r\n    },\r\n    {\r\n      title: 'Đăng nhập cuối',\r\n      dataIndex: 'last_login',\r\n      key: 'last_login',\r\n      render: (date) => (\r\n        <Text type=\"secondary\">\r\n          {date ? dayjs(date).format('DD/MM/YYYY HH:mm') : 'Chưa đăng nhập'}\r\n        </Text>\r\n      ),\r\n      sorter: (a, b) => {\r\n        if (!a.last_login && !b.last_login) return 0;\r\n        if (!a.last_login) return 1;\r\n        if (!b.last_login) return -1;\r\n        return new Date(a.last_login) - new Date(b.last_login);\r\n      },\r\n    },\r\n    {\r\n      title: 'Thao tác',\r\n      key: 'actions',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button\r\n            type=\"link\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => handleEditUser(record)}\r\n          >\r\n            Sửa\r\n          </Button>\r\n          <Popconfirm\r\n            title=\"Xác nhận xóa\"\r\n            description=\"Bạn có chắc chắn muốn xóa nhân viên này?\"\r\n            onConfirm={() => handleDeleteUser(record.id)}\r\n            okText=\"Xóa\"\r\n            cancelText=\"Hủy\"\r\n          >\r\n            <Button type=\"link\" danger icon={<DeleteOutlined />}>\r\n              Xóa\r\n            </Button>\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const renderStats = () => {\r\n    const totalUsers = users.length;\r\n    const activeUsers = users.filter(u => u.is_active).length;\r\n    const inactiveUsers = totalUsers - activeUsers;\r\n    const roleStats = Object.keys(roles).reduce((acc, role) => {\r\n      acc[role] = users.filter(u => u.role === role).length;\r\n      return acc;\r\n    }, {});\r\n\r\n    return (\r\n      <Row gutter={16} style={{ marginBottom: 24 }}>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Tổng nhân viên\"\r\n              value={totalUsers}\r\n              prefix={<TeamOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Đang hoạt động\"\r\n              value={activeUsers}\r\n              valueStyle={{ color: '#3f8600' }}\r\n              prefix={<UserOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Vô hiệu hóa\"\r\n              value={inactiveUsers}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<LockOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={6}>\r\n          <Card>\r\n            <Statistic\r\n              title=\"Quản trị viên\"\r\n              value={roleStats.admin || 0}\r\n              valueStyle={{ color: '#cf1322' }}\r\n              prefix={<CrownOutlined />}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 24 }}>\r\n      {renderStats()}\r\n\r\n      <Card\r\n        title=\"Quản lý nhân viên\"\r\n        extra={\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<PlusOutlined />}\r\n            onClick={handleAddUser}\r\n          >\r\n            Thêm nhân viên\r\n          </Button>\r\n        }\r\n      >\r\n        <Table\r\n          columns={columns}\r\n          dataSource={users}\r\n          loading={loading}\r\n          rowKey=\"id\"\r\n          pagination={{\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n            showTotal: (total, range) =>\r\n              `${range[0]}-${range[1]} của ${total} nhân viên`,\r\n          }}\r\n        />\r\n      </Card>\r\n\r\n      <UserFormModal\r\n        isOpen={modalVisible}\r\n        onClose={() => setModalVisible(false)}\r\n        onSubmit={handleSubmit(onSubmit)}\r\n        loading={isSubmitting}\r\n        editingUser={editingUser}\r\n        showPassword={showPassword}\r\n        setShowPassword={setShowPassword}\r\n        errors={errors}\r\n        register={register}\r\n        roles={roles}\r\n        watch={watch}\r\n        setValue={setValue}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersPage; "],"mappings":"0HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,CAAC,KAAQ,KAAK,CACvB,OAASC,KAAK,KAAQ,QAAQ,CAC9B,MAAO,uCAAuC,CAC9C,OACEC,IAAI,CACJC,KAAK,CACLC,MAAM,CACNC,KAAK,CACLC,KAAK,CACLC,MAAM,CACNC,KAAK,CACLC,GAAG,CACHC,MAAM,CACNC,MAAM,CACNC,YAAY,CACZC,GAAG,CACHC,GAAG,CACHC,SAAS,CACTC,KAAK,CACLC,UAAU,CACVC,KAAK,CACLC,UAAU,KACL,MAAM,CACb,OACEC,YAAY,CACZC,YAAY,CACZC,cAAc,CACdC,YAAY,CACZC,YAAY,CACZC,eAAe,CACfC,YAAY,CACZC,aAAa,CACbC,WAAW,CACXC,WAAW,CACXC,oBAAoB,KACf,mBAAmB,CAC1B,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,aAAa,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAEC,MAAO,CAAC,CAAG/B,MAAM,CACzB,KAAM,CAAEgC,IAAK,CAAC,CAAGpB,UAAU,CAE3B;AACA,KAAM,CAAAqB,UAAU,CAAGxC,CAAC,CAACyC,MAAM,CAAC,CAC1BC,QAAQ,CAAE1C,CAAC,CAAC2C,MAAM,CAAC,CAAC,CACjBC,GAAG,CAAC,CAAC,CAAE,uCAAuC,CAAC,CAC/CC,GAAG,CAAC,EAAE,CAAE,uCAAuC,CAAC,CAChDC,KAAK,CAAC,iBAAiB,CAAE,0DAA0D,CAAC,CACvFC,SAAS,CAAE/C,CAAC,CAAC2C,MAAM,CAAC,CAAC,CAClBC,GAAG,CAAC,CAAC,CAAE,gCAAgC,CAAC,CACxCC,GAAG,CAAC,GAAG,CAAE,iCAAiC,CAAC,CAC9CG,KAAK,CAAEhD,CAAC,CAAC2C,MAAM,CAAC,CAAC,CACdK,KAAK,CAAC,oBAAoB,CAAC,CAC3BC,QAAQ,CAAC,CAAC,CACVC,EAAE,CAAClD,CAAC,CAACmD,OAAO,CAAC,EAAE,CAAC,CAAC,CACpBC,KAAK,CAAEpD,CAAC,CAAC2C,MAAM,CAAC,CAAC,CACdC,GAAG,CAAC,EAAE,CAAE,qCAAqC,CAAC,CAC9CC,GAAG,CAAC,EAAE,CAAE,oCAAoC,CAAC,CAC7CI,QAAQ,CAAC,CAAC,CACVC,EAAE,CAAClD,CAAC,CAACmD,OAAO,CAAC,EAAE,CAAC,CAAC,CACpBE,IAAI,CAAErD,CAAC,CAACsD,IAAI,CAAC,CAAC,OAAO,CAAE,SAAS,CAAE,SAAS,CAAE,iBAAiB,CAAC,CAAE,CAC/DC,QAAQ,CAAEA,CAAA,IAAO,CAAEC,OAAO,CAAE,uBAAwB,CAAC,CACvD,CAAC,CAAC,CACFC,QAAQ,CAAEzD,CAAC,CAAC2C,MAAM,CAAC,CAAC,CACjBC,GAAG,CAAC,CAAC,CAAE,kCAAkC,CAAC,CAC1CK,QAAQ,CAAC,CAAC,CACbS,SAAS,CAAE1D,CAAC,CAAC2D,OAAO,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,CACrC,CAAC,CAAC,CAEF,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGnE,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACoE,OAAO,CAAEC,UAAU,CAAC,CAAGrE,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACsE,YAAY,CAAEC,eAAe,CAAC,CAAGvE,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACwE,WAAW,CAAEC,cAAc,CAAC,CAAGzE,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAAC0E,YAAY,CAAEC,eAAe,CAAC,CAAG3E,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CACJ4E,QAAQ,CACRC,YAAY,CACZC,KAAK,CACLC,QAAQ,CACRC,KAAK,CACLC,SAAS,CAAE,CAAEC,MAAM,CAAEC,YAAa,CACpC,CAAC,CAAGjF,OAAO,CAAC,CACVkF,QAAQ,CAAEjF,WAAW,CAACyC,UAAU,CAAC,CACjCyC,aAAa,CAAE,CACbvB,SAAS,CAAE,IACb,CACF,CAAC,CAAC,CAEF,KAAM,CAAAwB,KAAK,CAAG,CACZC,KAAK,CAAE,CACLC,KAAK,CAAE,eAAe,CACtBC,KAAK,CAAE,KAAK,CACZC,WAAW,CAAE,CAAC,KAAK,CAAC,CACpBC,WAAW,CAAE,6BACf,CAAC,CACDC,OAAO,CAAE,CACPJ,KAAK,CAAE,SAAS,CAChBC,KAAK,CAAE,QAAQ,CACfC,WAAW,CAAE,CAAC,UAAU,CAAE,QAAQ,CAAE,WAAW,CAAE,SAAS,CAAE,WAAW,CAAC,CACxEC,WAAW,CAAE,mDACf,CAAC,CACDE,OAAO,CAAE,CACPL,KAAK,CAAE,UAAU,CACjBC,KAAK,CAAE,MAAM,CACbC,WAAW,CAAE,CAAC,KAAK,CAAE,QAAQ,CAAE,WAAW,CAAC,CAC3CC,WAAW,CAAE,8BACf,CAAC,CACDG,eAAe,CAAE,CACfN,KAAK,CAAE,eAAe,CACtBC,KAAK,CAAE,OAAO,CACdC,WAAW,CAAE,CAAC,WAAW,CAAE,UAAU,CAAC,CACtCC,WAAW,CAAE,yBACf,CACF,CAAC,CAED1F,SAAS,CAAC,IAAM,CACd8F,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B1B,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAA2B,QAAQ,CAAG,KAAM,CAAA7D,QAAQ,CAAC8D,MAAM,CAAC,CAAC,CACxC,GAAID,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAE,CACzBhC,QAAQ,CAAC6B,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,CAC9B,CACF,CAAE,MAAOE,KAAK,CAAE,CACd/F,KAAK,CAAC+F,KAAK,CAAC,iCAAiC,CAAC,CAC9C;AACA,KAAM,CAAAC,SAAS,CAAG,CAChB,CACEC,EAAE,CAAE,CAAC,CACLxD,QAAQ,CAAE,OAAO,CACjBK,SAAS,CAAE,eAAe,CAC1BC,KAAK,CAAE,oBAAoB,CAC3BI,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,OAAO,CACbK,SAAS,CAAE,IAAI,CACfyC,UAAU,CAAE,sBAAsB,CAClCC,UAAU,CAAE,sBACd,CAAC,CACD,CACEF,EAAE,CAAE,CAAC,CACLxD,QAAQ,CAAE,WAAW,CACrBK,SAAS,CAAE,oBAAoB,CAC/BC,KAAK,CAAE,sBAAsB,CAC7BI,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,SAAS,CACfK,SAAS,CAAE,IAAI,CACfyC,UAAU,CAAE,sBAAsB,CAClCC,UAAU,CAAE,sBACd,CAAC,CACD,CACEF,EAAE,CAAE,CAAC,CACLxD,QAAQ,CAAE,WAAW,CACrBK,SAAS,CAAE,mBAAmB,CAC9BC,KAAK,CAAE,sBAAsB,CAC7BI,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,SAAS,CACfK,SAAS,CAAE,IAAI,CACfyC,UAAU,CAAE,sBAAsB,CAClCC,UAAU,CAAE,sBACd,CAAC,CACD,CACEF,EAAE,CAAE,CAAC,CACLxD,QAAQ,CAAE,aAAa,CACvBK,SAAS,CAAE,YAAY,CACvBC,KAAK,CAAE,wBAAwB,CAC/BI,KAAK,CAAE,YAAY,CACnBC,IAAI,CAAE,iBAAiB,CACvBK,SAAS,CAAE,KAAK,CAChByC,UAAU,CAAE,sBAAsB,CAClCC,UAAU,CAAE,sBACd,CAAC,CACF,CACDrC,QAAQ,CAACkC,SAAS,CAAC,CACrB,CAAC,OAAS,CACRhC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAoC,aAAa,CAAGA,CAAA,GAAM,CAC1BhC,cAAc,CAAC,IAAI,CAAC,CACpBF,eAAe,CAAC,IAAI,CAAC,CACrBI,eAAe,CAAC,KAAK,CAAC,CACtBG,KAAK,CAAC,CACJhB,SAAS,CAAE,IACb,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAA4C,cAAc,CAAIC,IAAI,EAAK,CAC/BlC,cAAc,CAACkC,IAAI,CAAC,CACpBpC,eAAe,CAAC,IAAI,CAAC,CACrBI,eAAe,CAAC,KAAK,CAAC,CACtBG,KAAK,CAAA8B,aAAA,CAAAA,aAAA,IACAD,IAAI,MACP9C,QAAQ,CAAE,EAAI;AAAA,EACf,CAAC,CACJ,CAAC,CAED,KAAM,CAAAgD,gBAAgB,CAAG,KAAO,CAAAC,MAAM,EAAK,CACzC,GAAI,CACF,KAAM,CAAA3E,QAAQ,CAAC4E,MAAM,CAACD,MAAM,CAAC,CAC7BzG,KAAK,CAAC8F,OAAO,CAAC,0BAA0B,CAAC,CACzCJ,UAAU,CAAC,CAAC,CACd,CAAE,MAAOK,KAAK,CAAE,CACd/F,KAAK,CAAC+F,KAAK,CAAC,uBAAuB,CAAC,CACtC,CACF,CAAC,CAED,KAAM,CAAAY,QAAQ,CAAG,KAAO,CAAAd,IAAI,EAAK,CAC/B,GAAI,CACF;AACA,GAAI1B,WAAW,EAAI,CAAC0B,IAAI,CAACrC,QAAQ,CAAE,CACjC,MAAO,CAAAqC,IAAI,CAACrC,QAAQ,CACtB,CAEA,GAAIW,WAAW,CAAE,CACf,KAAM,CAAArC,QAAQ,CAAC8E,MAAM,CAACzC,WAAW,CAAC8B,EAAE,CAAEJ,IAAI,CAAC,CAC3C7F,KAAK,CAAC8F,OAAO,CAAC,+BAA+B,CAAC,CAChD,CAAC,IAAM,CACL,KAAM,CAAAhE,QAAQ,CAAC+E,MAAM,CAAChB,IAAI,CAAC,CAC3B7F,KAAK,CAAC8F,OAAO,CAAC,2BAA2B,CAAC,CAC5C,CACA5B,eAAe,CAAC,KAAK,CAAC,CACtBO,KAAK,CAAC,CAAC,CACPiB,UAAU,CAAC,CAAC,CACd,CAAE,MAAOK,KAAK,CAAE,CACd/F,KAAK,CAAC+F,KAAK,CAAC5B,WAAW,CAAG,4BAA4B,CAAG,wBAAwB,CAAC,CACpF,CACF,CAAC,CAED,KAAM,CAAA2C,kBAAkB,CAAG,KAAO,CAAAR,IAAI,EAAK,CACzC,GAAI,CACF,KAAM,CAAAxE,QAAQ,CAAC8E,MAAM,CAACN,IAAI,CAACL,EAAE,CAAE,CAAExC,SAAS,CAAE,CAAC6C,IAAI,CAAC7C,SAAU,CAAC,CAAC,CAC9DzD,KAAK,CAAC8F,OAAO,IAAAiB,MAAA,CAAIT,IAAI,CAAC7C,SAAS,CAAG,aAAa,CAAG,WAAW,uCAAuB,CAAC,CACrFiC,UAAU,CAAC,CAAC,CACd,CAAE,MAAOK,KAAK,CAAE,CACd/F,KAAK,CAAC+F,KAAK,CAAC,uCAAuC,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAiB,OAAO,CAAG,CACd,CACEC,KAAK,CAAE,WAAW,CAClBC,GAAG,CAAE,WAAW,CAChBC,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,QAAAC,kBAAA,oBAChBlF,KAAA,QAAKmF,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAC,QAAA,eACpDxF,IAAA,CAACxB,MAAM,EACLiH,IAAI,CAAE,EAAG,CACTC,IAAI,cAAE1F,IAAA,CAACZ,YAAY,GAAE,CAAE,CACvBiG,KAAK,CAAE,CAAEM,eAAe,CAAE,EAAAP,kBAAA,CAAArC,KAAK,CAACoC,MAAM,CAACjE,IAAI,CAAC,UAAAkE,kBAAA,iBAAlBA,kBAAA,CAAoBlC,KAAK,GAAI,SAAU,CAAE,CACpE,CAAC,cACFhD,KAAA,QAAKmF,KAAK,CAAE,CAAEO,UAAU,CAAE,EAAG,CAAE,CAAAJ,QAAA,eAC7BxF,IAAA,QAAKqF,KAAK,CAAE,CAAEQ,UAAU,CAAE,GAAI,CAAE,CAAAL,QAAA,CAAEL,MAAM,CAACvE,SAAS,CAAM,CAAC,cACzDV,KAAA,CAACE,IAAI,EAAC0F,IAAI,CAAC,WAAW,CAAAN,QAAA,EAAC,GAAC,CAACL,MAAM,CAAC5E,QAAQ,EAAO,CAAC,EAC7C,CAAC,EACH,CAAC,EAEV,CAAC,CACD,CACEwE,KAAK,CAAE,mBAAmB,CAC1BC,GAAG,CAAE,SAAS,CACdC,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,gBAChBjF,KAAA,QAAAsF,QAAA,EACGL,MAAM,CAACtE,KAAK,eAAIb,IAAA,QAAAwF,QAAA,CAAML,MAAM,CAACtE,KAAK,CAAM,CAAC,CACzCsE,MAAM,CAAClE,KAAK,eAAIjB,IAAA,CAACI,IAAI,EAAC0F,IAAI,CAAC,WAAW,CAAAN,QAAA,CAAEL,MAAM,CAAClE,KAAK,CAAO,CAAC,EAC1D,CAET,CAAC,CACD,CACE8D,KAAK,CAAE,SAAS,CAChBgB,SAAS,CAAE,MAAM,CACjBf,GAAG,CAAE,MAAM,CACXC,MAAM,CAAG/D,IAAI,OAAA8E,WAAA,CAAAC,YAAA,oBACXjG,IAAA,CAAC1B,GAAG,EAAC4E,KAAK,CAAE,EAAA8C,WAAA,CAAAjD,KAAK,CAAC7B,IAAI,CAAC,UAAA8E,WAAA,iBAAXA,WAAA,CAAa9C,KAAK,GAAI,SAAU,CAAAsC,QAAA,CACzC,EAAAS,YAAA,CAAAlD,KAAK,CAAC7B,IAAI,CAAC,UAAA+E,YAAA,iBAAXA,YAAA,CAAahD,KAAK,GAAI/B,IAAI,CACxB,CAAC,EACP,CACDgF,OAAO,CAAEC,MAAM,CAACC,IAAI,CAACrD,KAAK,CAAC,CAACsD,GAAG,CAACnF,IAAI,GAAK,CACvCoF,IAAI,CAAEvD,KAAK,CAAC7B,IAAI,CAAC,CAAC+B,KAAK,CACvBsD,KAAK,CAAErF,IACT,CAAC,CAAC,CAAC,CACHsF,QAAQ,CAAEA,CAACD,KAAK,CAAEpB,MAAM,GAAKA,MAAM,CAACjE,IAAI,GAAKqF,KAC/C,CAAC,CACD,CACExB,KAAK,CAAE,YAAY,CACnBgB,SAAS,CAAE,WAAW,CACtBf,GAAG,CAAE,WAAW,CAChBC,MAAM,CAAEA,CAACwB,QAAQ,CAAEtB,MAAM,gBACvBjF,KAAA,QAAKmF,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEmB,GAAG,CAAE,CAAE,CAAE,CAAAlB,QAAA,eAC5DxF,IAAA,CAACjB,KAAK,EACJ4H,MAAM,CAAEF,QAAQ,CAAG,SAAS,CAAG,SAAU,CACzCH,IAAI,CAAEG,QAAQ,CAAG,WAAW,CAAG,SAAU,CAC1C,CAAC,cACFzG,IAAA,CAACzB,MAAM,EACLqI,OAAO,CAAEH,QAAS,CAClBI,QAAQ,CAAEA,CAAA,GAAMjC,kBAAkB,CAACO,MAAM,CAAE,CAC3CM,IAAI,CAAC,OAAO,CACb,CAAC,EACC,CACN,CACDS,OAAO,CAAE,CACP,CAAEI,IAAI,CAAE,WAAW,CAAEC,KAAK,CAAE,IAAK,CAAC,CAClC,CAAED,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,KAAM,CAAC,CAClC,CACDC,QAAQ,CAAEA,CAACD,KAAK,CAAEpB,MAAM,GAAKA,MAAM,CAAC5D,SAAS,GAAKgF,KACpD,CAAC,CACD,CACExB,KAAK,CAAE,gBAAgB,CACvBgB,SAAS,CAAE,YAAY,CACvBf,GAAG,CAAE,YAAY,CACjBC,MAAM,CAAG6B,IAAI,eACX9G,IAAA,CAACI,IAAI,EAAC0F,IAAI,CAAC,WAAW,CAAAN,QAAA,CACnBsB,IAAI,CAAGjH,KAAK,CAACiH,IAAI,CAAC,CAACC,MAAM,CAAC,kBAAkB,CAAC,CAAG,gBAAgB,CAC7D,CACP,CACDC,MAAM,CAAEA,CAACC,CAAC,CAAEC,CAAC,GAAK,CAChB,GAAI,CAACD,CAAC,CAACjD,UAAU,EAAI,CAACkD,CAAC,CAAClD,UAAU,CAAE,MAAO,EAAC,CAC5C,GAAI,CAACiD,CAAC,CAACjD,UAAU,CAAE,MAAO,EAAC,CAC3B,GAAI,CAACkD,CAAC,CAAClD,UAAU,CAAE,MAAO,CAAC,CAAC,CAC5B,MAAO,IAAI,CAAAmD,IAAI,CAACF,CAAC,CAACjD,UAAU,CAAC,CAAG,GAAI,CAAAmD,IAAI,CAACD,CAAC,CAAClD,UAAU,CAAC,CACxD,CACF,CAAC,CACD,CACEe,KAAK,CAAE,UAAU,CACjBC,GAAG,CAAE,SAAS,CACdC,MAAM,CAAEA,CAACC,CAAC,CAAEC,MAAM,gBAChBjF,KAAA,CAAC7B,KAAK,EAAAmH,QAAA,eACJxF,IAAA,CAAC/B,MAAM,EACL6H,IAAI,CAAC,MAAM,CACXJ,IAAI,cAAE1F,IAAA,CAACd,YAAY,GAAE,CAAE,CACvBkI,OAAO,CAAEA,CAAA,GAAMjD,cAAc,CAACgB,MAAM,CAAE,CAAAK,QAAA,CACvC,UAED,CAAQ,CAAC,cACTxF,IAAA,CAAClB,UAAU,EACTiG,KAAK,CAAC,yBAAc,CACpB3B,WAAW,CAAC,6EAA0C,CACtDiE,SAAS,CAAEA,CAAA,GAAM/C,gBAAgB,CAACa,MAAM,CAACpB,EAAE,CAAE,CAC7CuD,MAAM,CAAC,QAAK,CACZC,UAAU,CAAC,UAAK,CAAA/B,QAAA,cAEhBxF,IAAA,CAAC/B,MAAM,EAAC6H,IAAI,CAAC,MAAM,CAAC0B,MAAM,MAAC9B,IAAI,cAAE1F,IAAA,CAACb,cAAc,GAAE,CAAE,CAAAqG,QAAA,CAAC,QAErD,CAAQ,CAAC,CACC,CAAC,EACR,CAEX,CAAC,CACF,CAED,KAAM,CAAAiC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,UAAU,CAAG/F,KAAK,CAACgG,MAAM,CAC/B,KAAM,CAAAC,WAAW,CAAGjG,KAAK,CAACkG,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACvG,SAAS,CAAC,CAACoG,MAAM,CACzD,KAAM,CAAAI,aAAa,CAAGL,UAAU,CAAGE,WAAW,CAC9C,KAAM,CAAAI,SAAS,CAAG7B,MAAM,CAACC,IAAI,CAACrD,KAAK,CAAC,CAACkF,MAAM,CAAC,CAACC,GAAG,CAAEhH,IAAI,GAAK,CACzDgH,GAAG,CAAChH,IAAI,CAAC,CAAGS,KAAK,CAACkG,MAAM,CAACC,CAAC,EAAIA,CAAC,CAAC5G,IAAI,GAAKA,IAAI,CAAC,CAACyG,MAAM,CACrD,MAAO,CAAAO,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN,mBACEhI,KAAA,CAACxB,GAAG,EAACyJ,MAAM,CAAE,EAAG,CAAC9C,KAAK,CAAE,CAAE+C,YAAY,CAAE,EAAG,CAAE,CAAA5C,QAAA,eAC3CxF,IAAA,CAACrB,GAAG,EAAC0J,IAAI,CAAE,CAAE,CAAA7C,QAAA,cACXxF,IAAA,CAACjC,IAAI,EAAAyH,QAAA,cACHxF,IAAA,CAACpB,SAAS,EACRmG,KAAK,CAAC,2BAAgB,CACtBwB,KAAK,CAAEmB,UAAW,CAClBY,MAAM,cAAEtI,IAAA,CAACT,YAAY,GAAE,CAAE,CAC1B,CAAC,CACE,CAAC,CACJ,CAAC,cACNS,IAAA,CAACrB,GAAG,EAAC0J,IAAI,CAAE,CAAE,CAAA7C,QAAA,cACXxF,IAAA,CAACjC,IAAI,EAAAyH,QAAA,cACHxF,IAAA,CAACpB,SAAS,EACRmG,KAAK,CAAC,oCAAgB,CACtBwB,KAAK,CAAEqB,WAAY,CACnBW,UAAU,CAAE,CAAErF,KAAK,CAAE,SAAU,CAAE,CACjCoF,MAAM,cAAEtI,IAAA,CAACZ,YAAY,GAAE,CAAE,CAC1B,CAAC,CACE,CAAC,CACJ,CAAC,cACNY,IAAA,CAACrB,GAAG,EAAC0J,IAAI,CAAE,CAAE,CAAA7C,QAAA,cACXxF,IAAA,CAACjC,IAAI,EAAAyH,QAAA,cACHxF,IAAA,CAACpB,SAAS,EACRmG,KAAK,CAAC,wBAAa,CACnBwB,KAAK,CAAEwB,aAAc,CACrBQ,UAAU,CAAE,CAAErF,KAAK,CAAE,SAAU,CAAE,CACjCoF,MAAM,cAAEtI,IAAA,CAACX,YAAY,GAAE,CAAE,CAC1B,CAAC,CACE,CAAC,CACJ,CAAC,cACNW,IAAA,CAACrB,GAAG,EAAC0J,IAAI,CAAE,CAAE,CAAA7C,QAAA,cACXxF,IAAA,CAACjC,IAAI,EAAAyH,QAAA,cACHxF,IAAA,CAACpB,SAAS,EACRmG,KAAK,CAAC,4BAAe,CACrBwB,KAAK,CAAEyB,SAAS,CAAChF,KAAK,EAAI,CAAE,CAC5BuF,UAAU,CAAE,CAAErF,KAAK,CAAE,SAAU,CAAE,CACjCoF,MAAM,cAAEtI,IAAA,CAACR,aAAa,GAAE,CAAE,CAC3B,CAAC,CACE,CAAC,CACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,mBACEU,KAAA,QAAKmF,KAAK,CAAE,CAAEmD,OAAO,CAAE,EAAG,CAAE,CAAAhD,QAAA,EACzBiC,WAAW,CAAC,CAAC,cAEdzH,IAAA,CAACjC,IAAI,EACHgH,KAAK,CAAC,iCAAmB,CACzB0D,KAAK,cACHzI,IAAA,CAAC/B,MAAM,EACL6H,IAAI,CAAC,SAAS,CACdJ,IAAI,cAAE1F,IAAA,CAACf,YAAY,GAAE,CAAE,CACvBmI,OAAO,CAAElD,aAAc,CAAAsB,QAAA,CACxB,yBAED,CAAQ,CACT,CAAAA,QAAA,cAEDxF,IAAA,CAAChC,KAAK,EACJ8G,OAAO,CAAEA,OAAQ,CACjB4D,UAAU,CAAE/G,KAAM,CAClBE,OAAO,CAAEA,OAAQ,CACjB8G,MAAM,CAAC,IAAI,CACXC,UAAU,CAAE,CACVC,eAAe,CAAE,IAAI,CACrBC,eAAe,CAAE,IAAI,CACrBC,SAAS,CAAEA,CAACC,KAAK,CAAEC,KAAK,MAAApE,MAAA,CACnBoE,KAAK,CAAC,CAAC,CAAC,MAAApE,MAAA,CAAIoE,KAAK,CAAC,CAAC,CAAC,eAAApE,MAAA,CAAQmE,KAAK,oBACxC,CAAE,CACH,CAAC,CACE,CAAC,cAEPhJ,IAAA,CAACF,aAAa,EACZoJ,MAAM,CAAEnH,YAAa,CACrBoH,OAAO,CAAEA,CAAA,GAAMnH,eAAe,CAAC,KAAK,CAAE,CACtCyC,QAAQ,CAAEnC,YAAY,CAACmC,QAAQ,CAAE,CACjC5C,OAAO,CAAEe,YAAa,CACtBX,WAAW,CAAEA,WAAY,CACzBE,YAAY,CAAEA,YAAa,CAC3BC,eAAe,CAAEA,eAAgB,CACjCO,MAAM,CAAEA,MAAO,CACfN,QAAQ,CAAEA,QAAS,CACnBU,KAAK,CAAEA,KAAM,CACbN,KAAK,CAAEA,KAAM,CACbD,QAAQ,CAAEA,QAAS,CACpB,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}